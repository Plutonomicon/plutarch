<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE BlockArguments #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE QuantifiedConstraints #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans #-}</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="annot"><span class="hs-comment">{- | This module is designed to be imported qualified, as many of its
identifiers clash with the Plutarch prelude.
-}</span></span><span>
</span><span id="line-8"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutarch.Api.AssocMap</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-9"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Types</span></span><span>
</span><span id="line-10"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier">PMap</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#KeyGuarantees"><span class="hs-identifier">KeyGuarantees</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Commutativity"><span class="hs-identifier">Commutativity</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Functions</span></span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Creation</span></span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pempty"><span class="hs-identifier">pempty</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Transformation</span></span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#passertSorted"><span class="hs-identifier">passertSorted</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pmap"><span class="hs-identifier">pmap</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pmapData"><span class="hs-identifier">pmapData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pmapMaybe"><span class="hs-identifier">pmapMaybe</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pmapMaybeData"><span class="hs-identifier">pmapMaybeData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Relational lift</span></span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pcheckBinRel"><span class="hs-identifier">pcheckBinRel</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Folds</span></span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pall"><span class="hs-identifier">pall</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Combination</span></span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#punionResolvingCollisionsWith"><span class="hs-identifier">punionResolvingCollisionsWith</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Queries</span></span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pnull"><span class="hs-identifier">pnull</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Bifunctor.html"><span class="hs-identifier">Data.Bifunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Bifunctor.html#bimap"><span class="hs-identifier">bimap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Proxy.html"><span class="hs-identifier">Data.Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Proxy.html#Proxy"><span class="hs-identifier">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Proxy.html#Proxy"><span class="hs-identifier">Proxy</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Traversable.html"><span class="hs-identifier">Data.Traversable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Traversable.html#for"><span class="hs-identifier">for</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Api.Utils.html"><span class="hs-identifier">Plutarch.Api.Utils</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.Utils.html#Mret"><span class="hs-identifier">Mret</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Bool</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PSBool</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PSFalse</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">PSTrue</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">psfalse</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">pstrue</span></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Builtin</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><span class="hs-identifier">pasMap</span></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><span class="hs-identifier">pdataImpl</span></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><span class="hs-identifier">pforgetData</span></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><span class="hs-identifier">pfromDataImpl</span></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><span class="hs-identifier">ppairDataBuiltin</span></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Internal</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">punsafeBuiltin</span></span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Internal.Witness</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">witness</span></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Lift</span></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-54"></span><span>  </span><span class="annot"><span class="hs-identifier">PConstantDecl</span></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><span class="hs-identifier">PConstantRepr</span></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><span class="hs-identifier">PConstanted</span></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><span class="hs-identifier">PLifted</span></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><span class="hs-identifier">PUnsafeLiftDecl</span></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>  </span><span class="annot"><span class="hs-identifier">pconstantFromRepr</span></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><span class="hs-identifier">pconstantToRepr</span></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.List</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">List</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">pall</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">pmap</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">pnull</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">pzipWith</span></span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Prelude</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PPrelude</span></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.TryFrom</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PTryFrom</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">PTryFromExcess</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ptryFrom'</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Plutarch.Unsafe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">punsafeCoerce</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">punsafeDowncast</span></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusCore</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PLC</span></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusLedgerApi.V2</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Plutus</span></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.AssocMap</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PlutusMap</span></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Enum.html#pred"><span class="hs-identifier">pred</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="hs-comment">-- TODO: Rename this, because this is actually a _sorting_ guarantee!</span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-75"></span><span class="hs-keyword">data</span><span> </span><span id="KeyGuarantees"><span class="annot"><a href="Plutarch.Api.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-var">KeyGuarantees</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Sorted"><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-var">Sorted</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Unsorted"><span class="annot"><a href="Plutarch.Api.AssocMap.html#Unsorted"><span class="hs-identifier hs-var">Unsorted</span></a></span></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-78"></span><span class="hs-keyword">newtype</span><span> </span><span id="PMap"><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235129"><span class="annot"><a href="#local-6989586621679235129"><span class="hs-identifier hs-type">keysort</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235127"><span class="annot"><a href="#local-6989586621679235127"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235128"><span class="annot"><a href="#local-6989586621679235128"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235126"><span class="annot"><a href="#local-6989586621679235126"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PMap"><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679235126"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235127"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235128"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span>
</span><span id="line-81"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-82"></span><span>      </span><span id="local-6989586621679235527"><span id="local-6989586621679235529"><span class="annot"><span class="annottext">(forall x. PMap keysort k v s -&gt; Rep (PMap keysort k v s) x)
-&gt; (forall x. Rep (PMap keysort k v s) x -&gt; PMap keysort k v s)
-&gt; Generic (PMap keysort k v s)
forall x. Rep (PMap keysort k v s) x -&gt; PMap keysort k v s
forall x. PMap keysort k v s -&gt; Rep (PMap keysort k v s) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) x.
Rep (PMap keysort k v s) x -&gt; PMap keysort k v s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) x.
PMap keysort k v s -&gt; Rep (PMap keysort k v s) x
$cfrom :: forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) x.
PMap keysort k v s -&gt; Rep (PMap keysort k v s) x
from :: forall x. PMap keysort k v s -&gt; Rep (PMap keysort k v s) x
$cto :: forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) x.
Rep (PMap keysort k v s) x -&gt; PMap keysort k v s
to :: forall x. Rep (PMap keysort k v s) x -&gt; PMap keysort k v s
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span>
</span><span id="line-85"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-86"></span><span>      </span><span id="local-6989586621679235533"><span id="local-6989586621679235539"><span class="annot"><span class="annottext">(forall (s :: S).
 PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v)))
-&gt; (forall (s :: S) (b :: PType).
    Term s (PInner (PMap keysort k v))
    -&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType (PMap keysort k v)
forall (s :: S).
PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v))
forall (s :: S) (b :: PType).
Term s (PInner (PMap keysort k v))
-&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v))
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) (b :: PType).
Term s (PInner (PMap keysort k v))
-&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b
forall (a :: PType).
(forall (s :: S). a s -&gt; Term s (PInner a))
-&gt; (forall (s :: S) (b :: PType).
    Term s (PInner a) -&gt; (a s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType a
$cpcon' :: forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v))
pcon' :: forall (s :: S).
PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v))
$cpmatch' :: forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) (b :: PType).
Term s (PInner (PMap keysort k v))
-&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b
pmatch' :: forall (s :: S) (b :: PType).
Term s (PInner (PMap keysort k v))
-&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PlutusType</span></span></span></span><span>
</span><span id="line-87"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-88"></span><span>      </span><span id="local-6989586621679235548"><span class="annot"><span class="annottext">(forall (s :: S).
 Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString)
-&gt; PShow (PMap keysort k v)
forall (s :: S).
Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
(PIsData k, PIsData v, PShow k, PShow v) =&gt;
Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString
forall (t :: PType).
(forall (s :: S). Bool -&gt; Term s t -&gt; Term s PString) -&gt; PShow t
$cpshow' :: forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
(PIsData k, PIsData v, PShow k, PShow v) =&gt;
Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString
pshow' :: forall (s :: S).
Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">PShow</span></span></span><span>
</span><span id="line-89"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-92"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679234905"><span id="local-6989586621679234906"><span id="local-6989586621679234907"><span class="annot"><span class="hs-identifier hs-type">DerivePlutusType</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679234905"><span class="hs-identifier hs-type">keysort</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679234906"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679234907"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DPTStrat"><span class="annot"><span class="hs-identifier hs-var">DPTStrat</span></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTypeNewtype</span></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-96"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679234969"><span id="local-6989586621679234970"><span id="local-6989586621679234971"><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679234969"><span class="hs-identifier hs-type">keysort</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679234970"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679234971"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-97"></span><span>  </span><span id="local-6989586621679235597"><span class="annot"><span class="annottext">pfromDataImpl :: forall (s :: S).
Term s (PAsData (PMap keysort k v)) -&gt; Term s (PMap keysort k v)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pfromDataImpl</span></span></span><span> </span><span id="local-6989586621679235598"><span class="annot"><span class="annottext">Term s (PAsData (PMap keysort k v))
</span><a href="#local-6989586621679235598"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s (PMap keysort k v)
forall (s :: S) (a :: PType) (b :: PType). Term s a -&gt; Term s b
</span><span class="hs-identifier hs-var">punsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair PData PData))
 -&gt; Term s (PMap keysort k v))
-&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s (PMap keysort k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
forall (s :: S).
Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
</span><span class="hs-identifier hs-var">pasMap</span></span><span> </span><span class="annot"><span class="annottext">Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s PData -&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap keysort k v)) -&gt; Term s PData
forall (s :: S) (a :: PType). Term s (PAsData a) -&gt; Term s PData
</span><span class="hs-identifier hs-var">pforgetData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap keysort k v))
</span><a href="#local-6989586621679235598"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-98"></span><span>  </span><span id="local-6989586621679235600"><span class="annot"><span class="annottext">pdataImpl :: forall (s :: S). Term s (PMap keysort k v) -&gt; Term s PData
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pdataImpl</span></span></span><span> </span><span id="local-6989586621679235601"><span class="annot"><span class="annottext">Term s (PMap keysort k v)
</span><a href="#local-6989586621679235601"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefaultFun -&gt; Term s (PMap keysort k v :--&gt; PData)
forall (s :: S) (a :: PType). DefaultFun -&gt; Term s a
</span><span class="hs-identifier hs-var">punsafeBuiltin</span></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.MapData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap keysort k v :--&gt; PData)
-&gt; Term s (PMap keysort k v) -&gt; Term s PData
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap keysort k v)
</span><a href="#local-6989586621679235601"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-101"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679234997"><span id="local-6989586621679234998"><span class="annot"><span class="hs-identifier hs-type">PEq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679234997"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679234998"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-102"></span><span>  </span><span id="local-6989586621679235606"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679235606"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679235607"><span class="annot"><span class="annottext">#== :: forall (s :: S).
Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool
</span><a href="#local-6989586621679235607"><span class="hs-operator hs-var hs-var hs-var hs-var">#==</span></a></span></span><span> </span><span id="local-6989586621679235609"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679235609"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall (s :: S).
Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
</span><a href="#local-6989586621679235610"><span class="hs-identifier hs-var">peqViaData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679235606"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v :--&gt; PBool)
-&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679235609"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-103"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-104"></span><span>      </span><span class="annot"><a href="#local-6989586621679235610"><span class="hs-identifier hs-type">peqViaData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-105"></span><span>        </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235000"><span class="annot"><a href="#local-6989586621679235000"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-106"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679235000"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679234997"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679234998"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679234997"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679234998"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>      </span><span id="local-6989586621679235610"><span class="annot"><span class="annottext">peqViaData :: forall (s :: S).
Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
</span><a href="#local-6989586621679235610"><span class="hs-identifier hs-var hs-var">peqViaData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (s :: S).
 Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
-&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">((forall (s :: S).
  Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
 -&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
-&gt; (forall (s :: S).
    Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
-&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool)
-&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool)
-&gt; Term s (c :--&gt; (PMap 'Sorted k v :--&gt; PBool))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool)
 -&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool)
-&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679235627"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679235627"><span class="hs-identifier hs-var">m0</span></a></span></span><span> </span><span id="local-6989586621679235628"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679235628"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PAsData (PMap 'Sorted k v))
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679235627"><span class="hs-identifier hs-var">m0</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap 'Sorted k v))
-&gt; Term s (PAsData (PMap 'Sorted k v)) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData (PMap 'Sorted k v))
-&gt; Term s (PAsData (PMap 'Sorted k v)) -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PAsData (PMap 'Sorted k v))
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679235628"><span class="hs-identifier hs-var">m1</span></a></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-110"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-111"></span><span>  </span><span id="local-6989586621679235039"><span id="local-6989586621679235040"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLiftData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235039"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLiftData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235040"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PLifted</span></span><span> </span><span class="annot"><a href="#local-6989586621679235039"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-115"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PUnsafeLiftDecl</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235039"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235040"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PLifted"><span class="annot"><span class="hs-identifier hs-var">PLifted</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235039"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235040"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusMap.Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PLifted</span></span><span> </span><span class="annot"><a href="#local-6989586621679235039"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PLifted</span></span><span> </span><span class="annot"><a href="#local-6989586621679235040"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-120"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-121"></span><span>  </span><span id="local-6989586621679235037"><span id="local-6989586621679235038"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PConstantData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235037"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PConstantData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235038"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235037"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-125"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PConstantDecl</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PlutusMap.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679235037"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235038"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-126"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PConstantRepr"><span class="annot"><span class="hs-identifier hs-var">PConstantRepr</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PlutusMap.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679235037"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235038"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Plutus.Data</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Plutus.Data</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PConstanted"><span class="annot"><span class="hs-identifier hs-var">PConstanted</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PlutusMap.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679235037"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235038"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PConstanted</span></span><span> </span><span class="annot"><a href="#local-6989586621679235037"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PConstanted</span></span><span> </span><span class="annot"><a href="#local-6989586621679235038"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>  </span><span id="local-6989586621679235724"><span class="annot"><span class="annottext">pconstantToRepr :: Map k v -&gt; PConstantRepr (Map k v)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pconstantToRepr</span></span></span><span> </span><span id="local-6989586621679235725"><span class="annot"><span class="annottext">Map k v
</span><a href="#local-6989586621679235725"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; Data) -&gt; (v -&gt; Data) -&gt; (k, v) -&gt; (Data, Data)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; (a, c) -&gt; (b, d)
forall (p :: Type -&gt; Type -&gt; Type) a b c d.
Bifunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Bifunctor.html#bimap"><span class="hs-identifier hs-var">bimap</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; Data
forall a. ToData a =&gt; a -&gt; Data
</span><span class="hs-identifier hs-var">Plutus.toData</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; Data
forall a. ToData a =&gt; a -&gt; Data
</span><span class="hs-identifier hs-var">Plutus.toData</span></span><span> </span><span class="annot"><span class="annottext">((k, v) -&gt; (Data, Data)) -&gt; [(k, v)] -&gt; [(Data, Data)]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Map k v -&gt; [(k, v)]
forall k v. Map k v -&gt; [(k, v)]
</span><span class="hs-identifier hs-var">PlutusMap.toList</span></span><span> </span><span class="annot"><span class="annottext">Map k v
</span><a href="#local-6989586621679235725"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-130"></span><span>  </span><span id="local-6989586621679235740"><span class="annot"><span class="annottext">pconstantFromRepr :: PConstantRepr (Map k v) -&gt; Maybe (Map k v)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pconstantFromRepr</span></span></span><span> </span><span id="local-6989586621679235741"><span class="annot"><span class="annottext">PConstantRepr (Map k v)
</span><a href="#local-6989586621679235741"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([(k, v)] -&gt; Map k v) -&gt; Maybe [(k, v)] -&gt; Maybe (Map k v)
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, v)] -&gt; Map k v
forall k v. [(k, v)] -&gt; Map k v
</span><span class="hs-identifier hs-var">PlutusMap.fromList</span></span><span> </span><span class="annot"><span class="annottext">(Maybe [(k, v)] -&gt; Maybe (Map k v))
-&gt; Maybe [(k, v)] -&gt; Maybe (Map k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-131"></span><span>    </span><span class="annot"><span class="annottext">[(Data, Data)] -&gt; ((Data, Data) -&gt; Maybe (k, v)) -&gt; Maybe [(k, v)]
forall (t :: Type -&gt; Type) (f :: Type -&gt; Type) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Traversable.html#for"><span class="hs-identifier hs-var">for</span></a></span><span> </span><span class="annot"><span class="annottext">[(Data, Data)]
PConstantRepr (Map k v)
</span><a href="#local-6989586621679235741"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">(((Data, Data) -&gt; Maybe (k, v)) -&gt; Maybe [(k, v)])
-&gt; ((Data, Data) -&gt; Maybe (k, v)) -&gt; Maybe [(k, v)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679235743"><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679235743"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679235744"><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679235744"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-132"></span><span>      </span><span id="local-6989586621679235745"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679235745"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Data -&gt; Maybe k
forall a. FromData a =&gt; Data -&gt; Maybe a
</span><span class="hs-identifier hs-var">Plutus.fromData</span></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679235743"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-133"></span><span>      </span><span id="local-6989586621679235747"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235747"><span class="hs-identifier hs-var">y'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Data -&gt; Maybe v
forall a. FromData a =&gt; Data -&gt; Maybe a
</span><span class="hs-identifier hs-var">Plutus.fromData</span></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679235744"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-134"></span><span>      </span><span class="annot"><span class="annottext">(k, v) -&gt; Maybe (k, v)
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679235745"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679235747"><span class="hs-identifier hs-var">y'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-137"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-138"></span><span>  </span><span id="local-6989586621679235094"><span id="local-6989586621679235095"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235094"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235095"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-141"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235094"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235095"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-143"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PTryFromExcess"><span class="annot"><span class="hs-identifier hs-var">PTryFromExcess</span></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235094"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235095"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Api.Utils.html#Mret"><span class="hs-identifier hs-type">Mret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235094"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235095"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>  </span><span id="local-6989586621679235778"><span class="annot"><span class="annottext">ptryFrom' :: forall (s :: S) (r :: PType).
Term s PData
-&gt; ((Term s (PAsData (PMap 'Unsorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">ptryFrom'</span></span></span><span> </span><span id="local-6989586621679235779"><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679235779"><span class="hs-identifier hs-var">opq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermCont
  s
  (Term s (PAsData (PMap 'Unsorted k v)),
   Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
-&gt; ((Term s (PAsData (PMap 'Unsorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
forall (r :: PType) (s :: S) a.
TermCont s a -&gt; (a -&gt; Term s r) -&gt; Term s r
</span><span class="hs-identifier hs-var">runTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s
   (Term s (PAsData (PMap 'Unsorted k v)),
    Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
 -&gt; ((Term s (PAsData (PMap 'Unsorted k v)),
      Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
     -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont
     s
     (Term s (PAsData (PMap 'Unsorted k v)),
      Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
-&gt; ((Term s (PAsData (PMap 'Unsorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-145"></span><span>    </span><span id="local-6989586621679235781"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair PData PData))
</span><a href="#local-6989586621679235781"><span class="hs-identifier hs-var">opq'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair PData PData)) -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont s (Term s (PBuiltinList (PBuiltinPair PData PData)))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PBuiltinList (PBuiltinPair PData PData)) -&gt; Term s r)
  -&gt; Term s r)
 -&gt; TermCont s (Term s (PBuiltinList (PBuiltinPair PData PData))))
-&gt; (Term s (PBuiltinList (PBuiltinPair PData PData))
    -&gt; (Term s (PBuiltinList (PBuiltinPair PData PData)) -&gt; Term s r)
    -&gt; Term s r)
-&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; TermCont s (Term s (PBuiltinList (PBuiltinPair PData PData)))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; (Term s (PBuiltinList (PBuiltinPair PData PData)) -&gt; Term s r)
-&gt; Term s r
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair PData PData))
 -&gt; TermCont s (Term s (PBuiltinList (PBuiltinPair PData PData))))
-&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; TermCont s (Term s (PBuiltinList (PBuiltinPair PData PData)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
forall (s :: S).
Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
</span><span class="hs-identifier hs-var">pasMap</span></span><span> </span><span class="annot"><span class="annottext">Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s PData -&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679235779"><span class="hs-identifier hs-var">opq</span></a></span><span>
</span><span id="line-146"></span><span>    </span><span id="local-6989586621679235785"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679235785"><span class="hs-identifier hs-var">unwrapped</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   -&gt; Term s r)
  -&gt; Term s r)
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
        -&gt; Term s r)
    -&gt; Term s r)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s r)
-&gt; Term s r
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair PData PData
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair PData PData)
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: PType -&gt; PType) (a :: PType) (b :: PType) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><span class="hs-identifier hs-var">List.pmap</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair PData PData
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair PData PData)
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinPair PData PData
      :--&gt; PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair PData PData)
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair PData PData
   :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S).
Term
  s
  (PBuiltinPair PData PData
   :--&gt; PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679235786"><span class="hs-identifier hs-var">ptryFromPair</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair PData PData)
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair PData PData))
</span><a href="#local-6989586621679235781"><span class="hs-identifier hs-var">opq'</span></a></span><span>
</span><span id="line-147"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData (PMap 'Unsorted k v)),
 Term s (PMap 'Unsorted k v))
-&gt; TermCont
     s
     (Term s (PAsData (PMap 'Unsorted k v)),
      Term s (PMap 'Unsorted k v))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s PData -&gt; Term s (PAsData (PMap 'Unsorted k v))
forall (s :: S) (a :: PType) (b :: PType). Term s a -&gt; Term s b
</span><span class="hs-identifier hs-var">punsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679235779"><span class="hs-identifier hs-var">opq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PMap 'Unsorted k v s -&gt; Term s (PMap 'Unsorted k v)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap 'Unsorted k v s -&gt; Term s (PMap 'Unsorted k v))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; PMap 'Unsorted k v s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PMap 'Unsorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Unsorted k v s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PMap 'Unsorted k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PMap 'Unsorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679235785"><span class="hs-identifier hs-var">unwrapped</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-149"></span><span>      </span><span class="annot"><a href="#local-6989586621679235786"><span class="hs-identifier hs-type">ptryFromPair</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-150"></span><span>        </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235121"><span class="annot"><a href="#local-6989586621679235121"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-151"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679235121"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235094"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235095"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>      </span><span id="local-6989586621679235786"><span class="annot"><span class="annottext">ptryFromPair :: forall (s :: S).
Term
  s
  (PBuiltinPair PData PData
   :--&gt; PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679235786"><span class="hs-identifier hs-var hs-var">ptryFromPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair PData PData)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinPair PData PData
      :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (c :--&gt; PBuiltinPair (PAsData k) (PAsData v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair PData PData)
  -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term
      s
      (PBuiltinPair PData PData
       :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (Term s (PBuiltinPair PData PData)
    -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinPair PData PData
      :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679235794"><span class="annot"><span class="annottext">Term s (PBuiltinPair PData PData)
</span><a href="#local-6989586621679235794"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-153"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><span class="hs-identifier hs-var">ppairDataBuiltin</span></span><span class="hs-cpp">
          # ptryFrom (pfstBuiltin # p) fst
</span><span class="hs-cpp">          # ptryFrom (psndBuiltin # p) fst
</span><span>
</span><span id="line-157"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-158"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-159"></span><span>  </span><span id="local-6989586621679235150"><span id="local-6989586621679235151"><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679235150"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235150"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235151"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235150"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235151"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-165"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PTryFrom</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235150"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235151"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PTryFromExcess"><span class="annot"><span class="hs-identifier hs-var">PTryFromExcess</span></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235150"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235151"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Api.Utils.html#Mret"><span class="hs-identifier hs-type">Mret</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235150"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235151"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>  </span><span id="local-6989586621679235821"><span class="annot"><span class="annottext">ptryFrom' :: forall (s :: S) (r :: PType).
Term s PData
-&gt; ((Term s (PAsData (PMap 'Sorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">ptryFrom'</span></span></span><span> </span><span id="local-6989586621679235822"><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679235822"><span class="hs-identifier hs-var">opq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermCont
  s
  (Term s (PAsData (PMap 'Sorted k v)),
   Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
-&gt; ((Term s (PAsData (PMap 'Sorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
forall (r :: PType) (s :: S) a.
TermCont s a -&gt; (a -&gt; Term s r) -&gt; Term s r
</span><span class="hs-identifier hs-var">runTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s
   (Term s (PAsData (PMap 'Sorted k v)),
    Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
 -&gt; ((Term s (PAsData (PMap 'Sorted k v)),
      Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
     -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont
     s
     (Term s (PAsData (PMap 'Sorted k v)),
      Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
-&gt; ((Term s (PAsData (PMap 'Sorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-169"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679235823"><span class="annot"><span class="annottext">Term s (PAsData (PMap 'Unsorted k v))
</span><a href="#local-6989586621679235823"><span class="hs-identifier hs-var">opq'</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData (PMap 'Unsorted k v)),
   Term s (PMap 'Unsorted k v))
  -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont
     s
     (Term s (PAsData (PMap 'Unsorted k v)),
      Term s (PMap 'Unsorted k v))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">((((Term s (PAsData (PMap 'Unsorted k v)),
    Term s (PMap 'Unsorted k v))
   -&gt; Term s r)
  -&gt; Term s r)
 -&gt; TermCont
      s
      (Term s (PAsData (PMap 'Unsorted k v)),
       Term s (PMap 'Unsorted k v)))
-&gt; (((Term s (PAsData (PMap 'Unsorted k v)),
      Term s (PMap 'Unsorted k v))
     -&gt; Term s r)
    -&gt; Term s r)
-&gt; TermCont
     s
     (Term s (PAsData (PMap 'Unsorted k v)),
      Term s (PMap 'Unsorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (b :: PType) (a :: PType) (s :: S) (r :: PType).
PTryFrom a b =&gt;
Term s a
-&gt; ((Term s b, Reduce (PTryFromExcess a b s)) -&gt; Term s r)
-&gt; Term s r
</span><span class="hs-identifier hs-var">ptryFrom</span></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235150"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235151"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679235822"><span class="hs-identifier hs-var">opq</span></a></span><span>
</span><span id="line-170"></span><span>    </span><span id="local-6989586621679235824"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679235824"><span class="hs-identifier hs-var">unwrapped</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
-&gt; TermCont s (Term s (PMap 'Sorted k v))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
 -&gt; TermCont s (Term s (PMap 'Sorted k v)))
-&gt; ((Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
-&gt; TermCont s (Term s (PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
-&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
-&gt; (Term s (PAsData (PMap 'Unsorted k v))
    -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PAsData (PMap 'Unsorted k v))
-&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r)
-&gt; Term s r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PMap 'Unsorted k v) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-identifier hs-var">papp</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v :--&gt; PMap 'Sorted k v)
forall (k :: PType) (v :: PType) (any :: KeyGuarantees) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term s (PMap any k v :--&gt; PMap 'Sorted k v)
</span><a href="Plutarch.Api.AssocMap.html#passertSorted"><span class="hs-identifier hs-var">passertSorted</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Unsorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; (Term s (PAsData (PMap 'Unsorted k v))
    -&gt; Term s (PMap 'Unsorted k v))
-&gt; Term s (PAsData (PMap 'Unsorted k v))
-&gt; Term s (PMap 'Sorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap 'Unsorted k v))
-&gt; Term s (PMap 'Unsorted k v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData (PMap 'Unsorted k v))
 -&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
-&gt; Term s (PAsData (PMap 'Unsorted k v))
-&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r)
-&gt; Term s r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap 'Unsorted k v))
</span><a href="#local-6989586621679235823"><span class="hs-identifier hs-var">opq'</span></a></span><span>
</span><span id="line-171"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData (PMap 'Sorted k v)), Term s (PMap 'Sorted k v))
-&gt; TermCont
     s (Term s (PAsData (PMap 'Sorted k v)), Term s (PMap 'Sorted k v))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s PData -&gt; Term s (PAsData (PMap 'Sorted k v))
forall (s :: S) (a :: PType) (b :: PType). Term s a -&gt; Term s b
</span><span class="hs-identifier hs-var">punsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679235822"><span class="hs-identifier hs-var">opq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679235824"><span class="hs-identifier hs-var">unwrapped</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-174"></span><span class="hs-keyword">data</span><span> </span><span id="Commutativity"><span class="annot"><a href="Plutarch.Api.AssocMap.html#Commutativity"><span class="hs-identifier hs-var">Commutativity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Commutative"><span class="annot"><a href="Plutarch.Api.AssocMap.html#Commutative"><span class="hs-identifier hs-var">Commutative</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="NonCommutative"><span class="annot"><a href="Plutarch.Api.AssocMap.html#NonCommutative"><span class="hs-identifier hs-var">NonCommutative</span></a></span></span><span>
</span><span id="line-175"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span>
</span><span id="line-176"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-177"></span><span>      </span><span id="local-6989586621679235830"><span id="local-6989586621679235832"><span class="annot"><span class="annottext">Commutativity -&gt; Commutativity -&gt; Bool
(Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool) -&gt; Eq Commutativity
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Commutativity -&gt; Commutativity -&gt; Bool
== :: Commutativity -&gt; Commutativity -&gt; Bool
$c/= :: Commutativity -&gt; Commutativity -&gt; Bool
/= :: Commutativity -&gt; Commutativity -&gt; Bool
</span><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span>
</span><span id="line-178"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-179"></span><span>      </span><span id="local-6989586621679235839"><span id="local-6989586621679235841"><span id="local-6989586621679235843"><span id="local-6989586621679235847"><span id="local-6989586621679235850"><span id="local-6989586621679235853"><span id="local-6989586621679235856"><span class="annot"><span class="annottext">Eq Commutativity
Eq Commutativity =&gt;
(Commutativity -&gt; Commutativity -&gt; Ordering)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Commutativity)
-&gt; (Commutativity -&gt; Commutativity -&gt; Commutativity)
-&gt; Ord Commutativity
Commutativity -&gt; Commutativity -&gt; Bool
Commutativity -&gt; Commutativity -&gt; Ordering
Commutativity -&gt; Commutativity -&gt; Commutativity
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Commutativity -&gt; Commutativity -&gt; Ordering
compare :: Commutativity -&gt; Commutativity -&gt; Ordering
$c&lt; :: Commutativity -&gt; Commutativity -&gt; Bool
&lt; :: Commutativity -&gt; Commutativity -&gt; Bool
$c&lt;= :: Commutativity -&gt; Commutativity -&gt; Bool
&lt;= :: Commutativity -&gt; Commutativity -&gt; Bool
$c&gt; :: Commutativity -&gt; Commutativity -&gt; Bool
&gt; :: Commutativity -&gt; Commutativity -&gt; Bool
$c&gt;= :: Commutativity -&gt; Commutativity -&gt; Bool
&gt;= :: Commutativity -&gt; Commutativity -&gt; Bool
$cmax :: Commutativity -&gt; Commutativity -&gt; Commutativity
max :: Commutativity -&gt; Commutativity -&gt; Commutativity
$cmin :: Commutativity -&gt; Commutativity -&gt; Commutativity
min :: Commutativity -&gt; Commutativity -&gt; Commutativity
</span><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span>
</span><span id="line-180"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- | @since 2.0.0</span></span><span>
</span><span id="line-181"></span><span>      </span><span id="local-6989586621679235860"><span id="local-6989586621679235862"><span id="local-6989586621679235866"><span class="annot"><span class="annottext">Int -&gt; Commutativity -&gt; ShowS
[Commutativity] -&gt; ShowS
Commutativity -&gt; String
(Int -&gt; Commutativity -&gt; ShowS)
-&gt; (Commutativity -&gt; String)
-&gt; ([Commutativity] -&gt; ShowS)
-&gt; Show Commutativity
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Commutativity -&gt; ShowS
showsPrec :: Int -&gt; Commutativity -&gt; ShowS
$cshow :: Commutativity -&gt; String
show :: Commutativity -&gt; String
$cshowList :: [Commutativity] -&gt; ShowS
showList :: [Commutativity] -&gt; ShowS
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="hs-comment">-- TODO: Rename this, because the name is confusing.</span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="annot"><span class="hs-comment">{- | Given a 'PMap' of uncertain order, yield a 'PMap' that is known to be
sorted.

@since 2.0.0
-}</span></span><span>
</span><span id="line-191"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#passertSorted"><span class="hs-identifier hs-type">passertSorted</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-192"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235154"><span class="annot"><a href="#local-6989586621679235154"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235155"><span class="annot"><a href="#local-6989586621679235155"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235157"><span class="annot"><a href="#local-6989586621679235157"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235156"><span class="annot"><a href="#local-6989586621679235156"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-193"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679235154"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235154"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235155"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-194"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679235156"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235157"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235154"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235155"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235154"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235155"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span id="passertSorted"><span class="annot"><span class="annottext">passertSorted :: forall (k :: PType) (v :: PType) (any :: KeyGuarantees) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term s (PMap any k v :--&gt; PMap 'Sorted k v)
</span><a href="Plutarch.Api.AssocMap.html#passertSorted"><span class="hs-identifier hs-var hs-var">passertSorted</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy (PIsData v) -&gt; ()
forall (c :: Constraint). c =&gt; Proxy c -&gt; ()
</span><span class="hs-identifier hs-var">witness</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy (PIsData v)
forall {k} (t :: k). Proxy t
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Proxy.html#Proxy"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Proxy.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235155"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PMap any k v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v)
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PMap any k v :--&gt; PMap 'Sorted k v)
 -&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v))
-&gt; ClosedTerm (PMap any k v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-198"></span><span>        </span><span class="annot"><span class="annottext">(Term s (PMap any k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; PMap 'Sorted k v)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap any k v) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v))
-&gt; (Term s (PMap any k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679235909"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679235909"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-199"></span><span>          </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
    -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span>
</span><span id="line-200"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679235911"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
</span><a href="#local-6989586621679235911"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679235912"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679235912"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679235913"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679235913"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-201"></span><span>                </span><span class="annot"><span class="annottext">Term s k
-&gt; (Term s k -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; Term s k) -&gt; Term s (PAsData k) -&gt; Term s k
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679235912"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term s k -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679235914"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679235914"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-202"></span><span>                  </span><span class="annot"><span class="annottext">(Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; PMap 'Sorted k v)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679235915"><span class="annot"><span class="annottext">Term s (k :--&gt; PBool)
</span><a href="#local-6989586621679235915"><span class="hs-identifier hs-var">badKey</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-203"></span><span>                    </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-204"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (k :--&gt; PBool)
</span><a href="#local-6989586621679235915"><span class="hs-identifier hs-var">badKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; PBool) -&gt; Term s k -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679235914"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s PString -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType). Term s PString -&gt; Term s a
</span><span class="hs-identifier hs-var">ptraceError</span></span><span> </span><span class="annot"><span class="annottext">Term s PString
</span><span class="hs-string">&quot;unsorted map&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
</span><a href="#local-6989586621679235911"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679235913"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
-&gt; Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s k -&gt; Term s PBool) -&gt; Term s (k :--&gt; PBool)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679235914"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>            </span><span class="hs-comment">-- this is actually the empty map so we can</span><span>
</span><span id="line-209"></span><span>            </span><span class="hs-comment">-- safely assume that it is sorted</span><span>
</span><span id="line-210"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; PMap 'Sorted k v)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
-&gt; Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v)
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType). Term s a -&gt; Term s b
</span><span class="hs-identifier hs-var">punsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679235909"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
            # pto m
</span><span class="hs-cpp">            # plam (const $ pcon PFalse)
</span><span>
</span><span id="line-214"></span><span class="annot"><span class="hs-comment">{- | Construct an empty 'PMap'.

@since 2.0.0
-}</span></span><span>
</span><span id="line-218"></span><span id="local-6989586621679235193"><span id="local-6989586621679235194"><span id="local-6989586621679235195"><span class="annot"><a href="Plutarch.Api.AssocMap.html#pempty"><span class="hs-identifier hs-type">pempty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679235193"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235194"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235195"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-219"></span><span id="pempty"><span class="annot"><span class="annottext">pempty :: forall (s :: S) (k :: PType) (v :: PType).
Term s (PMap 'Sorted k v)
</span><a href="Plutarch.Api.AssocMap.html#pempty"><span class="hs-identifier hs-var hs-var">pempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (PInner (PMap 'Sorted k v)) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType). Term s (PInner a) -&gt; Term s a
</span><span class="hs-identifier hs-var">punsafeDowncast</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
Term s (PInner (PMap 'Sorted k v))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><span class="hs-identifier hs-var">pnil</span></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="annot"><span class="hs-comment">{- | Given a comparison function and a &quot;zero&quot; value, check whether a binary relation holds over
2 sorted 'PMap's.

= Important note

This is primarily intended to be used with 'PValue'. We assume that the comparison behaves like
a comparison would (thus, being at least a partial order, or possibly a total order or
equivalence), and that the starting value does not break it. Use with extreme care.

@since 2.0.0
-}</span></span><span>
</span><span id="line-232"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pcheckBinRel"><span class="hs-identifier hs-type">pcheckBinRel</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235204"><span class="annot"><a href="#local-6989586621679235204"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235205"><span class="annot"><a href="#local-6989586621679235205"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235206"><span class="annot"><a href="#local-6989586621679235206"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679235204"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235204"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235205"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-235"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-236"></span><span>    </span><span class="annot"><a href="#local-6989586621679235206"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-237"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235205"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679235205"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679235205"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-239"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235204"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235205"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-240"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235204"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235205"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-241"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span>
</span><span id="line-242"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span id="pcheckBinRel"><span class="annot"><span class="annottext">pcheckBinRel :: forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term
  s
  ((v :--&gt; (v :--&gt; PBool))
   :--&gt; (v
         :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
</span><a href="Plutarch.Api.AssocMap.html#pcheckBinRel"><span class="hs-identifier hs-var hs-var">pcheckBinRel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; (v :--&gt; PBool))
   :--&gt; (v
         :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; (v :--&gt; PBool))
    :--&gt; (v
          :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; PBool))
       :--&gt; (v
             :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))))
-&gt; ClosedTerm
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-244"></span><span>  </span><span class="annot"><span class="annottext">(Term s (v :--&gt; (v :--&gt; PBool))
 -&gt; Term s v
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s PBool)
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s v
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s PBool)
-&gt; Term
     s
     (c
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; (v :--&gt; PBool))
  -&gt; Term s v
  -&gt; Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v)
  -&gt; Term s PBool)
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; PBool))
       :--&gt; (v
             :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))))
-&gt; (Term s (v :--&gt; (v :--&gt; PBool))
    -&gt; Term s v
    -&gt; Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v)
    -&gt; Term s PBool)
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679235980"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679235980"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679235981"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679235981"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span id="local-6989586621679235982"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679235982"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span id="local-6989586621679235983"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679235983"><span class="hs-identifier hs-var">m2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-245"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679235984"><span class="annot"><span class="annottext">inner :: Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
</span><a href="#local-6989586621679235984"><span class="hs-identifier hs-var hs-var">inner</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PBool))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBool)))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBool)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (((a :--&gt; b) :--&gt; (a :--&gt; b)) :--&gt; (a :--&gt; b))
</span><span class="hs-identifier hs-var">pfix</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PBool))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBool)))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBool)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBool)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBool))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; PBool))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s PBool)
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBool)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s PBool)
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBool)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PBool))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s PBool)
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PBool))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBool))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBool))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s PBool)
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBool)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679235987"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
</span><a href="#local-6989586621679235987"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679235988"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679235988"><span class="hs-identifier hs-var">l1</span></a></span></span><span> </span><span id="local-6989586621679235989"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679235989"><span class="hs-identifier hs-var">l2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-246"></span><span>          </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s PBool)
-&gt; Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (a :: PType) (s :: S) (r :: PType).
PElemConstraint PBuiltinList a =&gt;
(Term s a -&gt; Term s (PBuiltinList a) -&gt; Term s r)
-&gt; Term s r -&gt; Term s (PBuiltinList a) -&gt; Term s r
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
(PListLike list, PElemConstraint list a) =&gt;
(Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; Term s r -&gt; Term s (list a) -&gt; Term s r
</span><span class="hs-identifier hs-var">pelimList</span></span><span>
</span><span id="line-247"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679235991"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679235991"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679235992"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679235992"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-248"></span><span>                </span><span class="annot"><span class="annottext">Term s v -&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v) -&gt; Term s v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679235991"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s v -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679235993"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679235993"><span class="hs-identifier hs-var">v1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-249"></span><span>                  </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s PBool)
-&gt; Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (a :: PType) (s :: S) (r :: PType).
PElemConstraint PBuiltinList a =&gt;
(Term s a -&gt; Term s (PBuiltinList a) -&gt; Term s r)
-&gt; Term s r -&gt; Term s (PBuiltinList a) -&gt; Term s r
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
(PListLike list, PElemConstraint list a) =&gt;
(Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; Term s r -&gt; Term s (list a) -&gt; Term s r
</span><span class="hs-identifier hs-var">pelimList</span></span><span>
</span><span id="line-250"></span><span>                    </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679235994"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679235994"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621679235995"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679235995"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont s (Term s PBool) -&gt; Term s PBool
forall (a :: PType) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont s (Term s PBool) -&gt; Term s PBool)
-&gt; TermCont s (Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-251"></span><span>                        </span><span id="local-6989586621679235997"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679235997"><span class="hs-identifier hs-var">v2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s v -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; TermCont s (Term s v)
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s v -&gt; Term s PBool) -&gt; Term s PBool)
 -&gt; TermCont s (Term s v))
-&gt; (Term s (PAsData v)
    -&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; Term s (PAsData v)
-&gt; TermCont s (Term s v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (Term s (PAsData v) -&gt; Term s v)
-&gt; Term s (PAsData v)
-&gt; (Term s v -&gt; Term s PBool)
-&gt; Term s PBool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; TermCont s (Term s v))
-&gt; Term s (PAsData v) -&gt; TermCont s (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679235994"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-252"></span><span>                        </span><span id="local-6989586621679235998"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679235998"><span class="hs-identifier hs-var">k1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; TermCont s (Term s k)
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s k -&gt; Term s PBool) -&gt; Term s PBool)
 -&gt; TermCont s (Term s k))
-&gt; (Term s (PAsData k)
    -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; Term s (PAsData k)
-&gt; TermCont s (Term s k)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (Term s (PAsData k) -&gt; Term s k)
-&gt; Term s (PAsData k)
-&gt; (Term s k -&gt; Term s PBool)
-&gt; Term s PBool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; TermCont s (Term s k))
-&gt; Term s (PAsData k) -&gt; TermCont s (Term s k)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679235991"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-253"></span><span>                        </span><span id="local-6989586621679235999"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679235999"><span class="hs-identifier hs-var">k2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; TermCont s (Term s k)
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s k -&gt; Term s PBool) -&gt; Term s PBool)
 -&gt; TermCont s (Term s k))
-&gt; (Term s (PAsData k)
    -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; Term s (PAsData k)
-&gt; TermCont s (Term s k)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (Term s (PAsData k) -&gt; Term s k)
-&gt; Term s (PAsData k)
-&gt; (Term s k -&gt; Term s PBool)
-&gt; Term s PBool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; TermCont s (Term s k))
-&gt; Term s (PAsData k) -&gt; TermCont s (Term s k)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679235994"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-254"></span><span>                        </span><span class="annot"><span class="annottext">Term s PBool -&gt; TermCont s (Term s PBool)
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span>
</span><span id="line-255"></span><span>                          </span><span class="annot"><span class="annottext">(Term s PBool -&gt; TermCont s (Term s PBool))
-&gt; Term s PBool -&gt; TermCont s (Term s PBool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s PBool -&gt; Term s PBool -&gt; Term s PBool
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-256"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679235998"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679235999"><span class="hs-identifier hs-var">k2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-257"></span><span>                            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679235980"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-cpp">
                                # v1
</span><span class="hs-cpp">                                # v2
</span><span class="hs-cpp">                                #&amp;&amp; self
</span><span class="hs-cpp">                                # xs
</span><span class="hs-cpp">                                # ys
</span><span>                            </span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>                          </span><span class="annot"><span class="annottext">(Term s PBool -&gt; Term s PBool) -&gt; Term s PBool -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s PBool -&gt; Term s PBool -&gt; Term s PBool
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-265"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679235998"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;</span></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679235999"><span class="hs-identifier hs-var">k2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-266"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679235980"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool)) -&gt; Term s v -&gt; Term s (v :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679235993"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool) -&gt; Term s v -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679235981"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s PBool -&gt; Term s PBool
forall (s :: S). Term s PBool -&gt; Term s PBool -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
</span><a href="#local-6989586621679235987"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679235992"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679235989"><span class="hs-identifier hs-var">l2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>                          </span><span class="annot"><span class="annottext">(Term s PBool -&gt; Term s PBool) -&gt; Term s PBool -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679235980"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-cpp">
                            # z
</span><span class="hs-cpp">                            # v2
</span><span class="hs-cpp">                            #&amp;&amp; self
</span><span class="hs-cpp">                            # l1
</span><span class="hs-cpp">                            # ys
</span><span>                    </span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span>                    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679235980"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-cpp">
                        # v1
</span><span class="hs-cpp">                        # z
</span><span class="hs-cpp">                        #&amp;&amp; PPrelude.pall
</span><span class="hs-cpp">                        # plam (\p -&gt; f # pfromData (psndBuiltin # p) # z)
</span><span class="hs-cpp">                        # xs
</span><span>                    </span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>                    </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679235989"><span class="hs-identifier hs-var">l2</span></a></span><span>
</span><span id="line-282"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-283"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
PIsListLike list a =&gt;
Term s ((a :--&gt; PBool) :--&gt; (list a :--&gt; PBool))
</span><span class="hs-identifier hs-var">PPrelude.pall</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679236002"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236002"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679235980"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool)) -&gt; Term s v -&gt; Term s (v :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679235981"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool) -&gt; Term s v -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v) -&gt; Term s v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236002"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679235989"><span class="hs-identifier hs-var">l2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-284"></span><span>            </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679235988"><span class="hs-identifier hs-var">l1</span></a></span><span>
</span><span id="line-285"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
</span><a href="#local-6989586621679235984"><span class="hs-identifier hs-var">inner</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679235982"><span class="hs-identifier hs-var">m1</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679235983"><span class="hs-identifier hs-var">m2</span></a></span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="annot"><span class="hs-comment">{- | Verifies all values in the map satisfy the given predicate.

@since 2.0.0
-}</span></span><span>
</span><span id="line-291"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pall"><span class="hs-identifier hs-type">pall</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-292"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235225"><span class="annot"><a href="#local-6989586621679235225"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235226"><span class="annot"><a href="#local-6989586621679235226"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235223"><span class="annot"><a href="#local-6989586621679235223"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235224"><span class="annot"><a href="#local-6989586621679235224"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-293"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235223"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-294"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679235224"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235223"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235225"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235226"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235223"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-295"></span><span id="pall"><span class="annot"><span class="annottext">pall :: forall (any :: KeyGuarantees) (k :: PType) (v :: PType) (s :: S).
PIsData v =&gt;
Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
</span><a href="Plutarch.Api.AssocMap.html#pall"><span class="hs-identifier hs-var hs-var">pall</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
 -&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool)))
-&gt; ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-296"></span><span>  </span><span class="annot"><span class="annottext">(Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s (c :--&gt; (PMap any k v :--&gt; PBool))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
 -&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool)))
-&gt; (Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236022"><span class="annot"><span class="annottext">Term s (v :--&gt; PBool)
</span><a href="#local-6989586621679236022"><span class="hs-identifier hs-var">pred</span></a></span></span><span> </span><span id="local-6989586621679236023"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679236023"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-297"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
PIsListLike list a =&gt;
Term s ((a :--&gt; PBool) :--&gt; (list a :--&gt; PBool))
</span><span class="hs-identifier hs-var">List.pall</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679236024"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236024"><span class="hs-identifier hs-var">pair</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool)
</span><a href="#local-6989586621679236022"><span class="hs-identifier hs-var">pred</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool) -&gt; Term s v -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v) -&gt; Term s v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236024"><span class="hs-identifier hs-var">pair</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v) -&gt; Term s (PInner (PMap any k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679236023"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-298"></span><span>
</span><span id="line-299"></span><span class="annot"><span class="hs-comment">{- | Build the union of two 'PMap's, merging values that share the same key using the
given function.

@since 2.0.0
-}</span></span><span>
</span><span id="line-304"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#punionResolvingCollisionsWith"><span class="hs-identifier hs-type">punionResolvingCollisionsWith</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-305"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235232"><span class="annot"><a href="#local-6989586621679235232"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235233"><span class="annot"><a href="#local-6989586621679235233"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235234"><span class="annot"><a href="#local-6989586621679235234"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-306"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679235232"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235232"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235233"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-307"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-308"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679235234"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235233"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679235233"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679235233"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235232"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235233"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235232"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235233"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235232"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235233"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span id="punionResolvingCollisionsWith"><span class="annot"><span class="annottext">punionResolvingCollisionsWith :: forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Commutativity
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Api.AssocMap.html#punionResolvingCollisionsWith"><span class="hs-identifier hs-var hs-var">punionResolvingCollisionsWith</span></a></span></span><span> </span><span id="local-6989586621679236030"><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679236030"><span class="hs-identifier hs-var">commutativity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-310"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; (v :--&gt; v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-311"></span><span>    </span><span class="annot"><span class="annottext">(Term s (v :--&gt; (v :--&gt; v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; (v :--&gt; v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (v :--&gt; (v :--&gt; v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-312"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s)
-&gt; Term s (v :--&gt; (v :--&gt; v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
forall (s :: S) (k :: PType) (v :: PType).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.Api.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-var">unionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679236030"><span class="hs-identifier hs-var">commutativity</span></a></span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span class="annot"><span class="hs-comment">{- | Maps and filters the map, much like 'Data.List.mapMaybe'.

@since 2.0.0
-}</span></span><span>
</span><span id="line-318"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pmapMaybe"><span class="hs-identifier hs-type">pmapMaybe</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-319"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235250"><span class="annot"><a href="#local-6989586621679235250"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235251"><span class="annot"><a href="#local-6989586621679235251"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235246"><span class="annot"><a href="#local-6989586621679235246"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235247"><span class="annot"><a href="#local-6989586621679235247"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235248"><span class="annot"><a href="#local-6989586621679235248"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-320"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235246"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235247"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-321"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679235248"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235246"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679235247"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235250"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235251"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235246"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235250"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235251"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235247"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span id="pmapMaybe"><span class="annot"><span class="annottext">pmapMaybe :: forall (g :: KeyGuarantees) (k :: PType) (a :: PType) (b :: PType)
       (s :: S).
(PIsData a, PIsData b) =&gt;
Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Api.AssocMap.html#pmapMaybe"><span class="hs-identifier hs-var hs-var">pmapMaybe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
 -&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; ClosedTerm ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-323"></span><span>  </span><span class="annot"><span class="annottext">(Term s (a :--&gt; PMaybe b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s (c :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (a :--&gt; PMaybe b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
 -&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; (Term s (a :--&gt; PMaybe b)
    -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236058"><span class="annot"><span class="annottext">Term s (a :--&gt; PMaybe b)
</span><a href="#local-6989586621679236058"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (g :: KeyGuarantees) (k :: PType) (a :: PType) (b :: PType)
       (s :: S).
Term
  s
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Api.AssocMap.html#pmapMaybeData"><span class="hs-identifier hs-var">pmapMaybeData</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s (PAsData a :--&gt; PMaybe (PAsData b))
-&gt; Term s (PMap g k a :--&gt; PMap g k b)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData a) -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (PAsData a :--&gt; PMaybe (PAsData b))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (c :--&gt; PMaybe (PAsData b))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData a) -&gt; Term s (PMaybe (PAsData b)))
 -&gt; Term s (PAsData a :--&gt; PMaybe (PAsData b)))
-&gt; (Term s (PAsData a) -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (PAsData a :--&gt; PMaybe (PAsData b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236059"><span class="annot"><span class="annottext">Term s (PAsData a)
</span><a href="#local-6989586621679236059"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMaybe b)
-&gt; (PMaybe b s -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (PMaybe (PAsData b))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; PMaybe b)
</span><a href="#local-6989586621679236058"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; PMaybe b) -&gt; Term s a -&gt; Term s (PMaybe b)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a) -&gt; Term s a
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a)
</span><a href="#local-6989586621679236059"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe b s -&gt; Term s (PMaybe (PAsData b)))
 -&gt; Term s (PMaybe (PAsData b)))
-&gt; (PMaybe b s -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (PMaybe (PAsData b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-324"></span><span>    </span><span class="annot"><span class="annottext">PMaybe b s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PMaybe (PAsData b) s -&gt; Term s (PMaybe (PAsData b))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PMaybe (PAsData b) s
forall (a :: PType) (s :: S). PMaybe a s
</span><span class="hs-identifier hs-var">PNothing</span></span><span>
</span><span id="line-325"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679236063"><span class="annot"><span class="annottext">Term s b
</span><a href="#local-6989586621679236063"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PMaybe (PAsData b) s -&gt; Term s (PMaybe (PAsData b))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMaybe (PAsData b) s -&gt; Term s (PMaybe (PAsData b)))
-&gt; PMaybe (PAsData b) s -&gt; Term s (PMaybe (PAsData b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData b) -&gt; PMaybe (PAsData b) s
forall (a :: PType) (s :: S). Term s a -&gt; PMaybe a s
</span><span class="hs-identifier hs-var">PJust</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s b -&gt; Term s (PAsData b)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">Term s b
</span><a href="#local-6989586621679236063"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span class="annot"><span class="hs-comment">{- | As 'pmapMaybe', but over Data representation.

@since 2.0.0
-}</span></span><span>
</span><span id="line-331"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pmapMaybeData"><span class="hs-identifier hs-type">pmapMaybeData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-332"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235262"><span class="annot"><a href="#local-6989586621679235262"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235263"><span class="annot"><a href="#local-6989586621679235263"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235260"><span class="annot"><a href="#local-6989586621679235260"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235261"><span class="annot"><a href="#local-6989586621679235261"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235259"><span class="annot"><a href="#local-6989586621679235259"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-333"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679235259"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235260"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235261"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235262"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235263"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235260"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235262"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235263"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235261"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-334"></span><span id="pmapMaybeData"><span class="annot"><span class="annottext">pmapMaybeData :: forall (g :: KeyGuarantees) (k :: PType) (a :: PType) (b :: PType)
       (s :: S).
Term
  s
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Api.AssocMap.html#pmapMaybeData"><span class="hs-identifier hs-var hs-var">pmapMaybeData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term
     s
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PAsData a :--&gt; PMaybe (PAsData b))
    :--&gt; (PMap g k a :--&gt; PMap g k b))
 -&gt; Term
      s
      ((PAsData a :--&gt; PMaybe (PAsData b))
       :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; ClosedTerm
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term
     s
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-335"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PAsData a :--&gt; PMaybe (PAsData b))
 -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term
     s
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term s (c :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData a :--&gt; PMaybe (PAsData b))
  -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
 -&gt; Term
      s
      ((PAsData a :--&gt; PMaybe (PAsData b))
       :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; (Term s (PAsData a :--&gt; PMaybe (PAsData b))
    -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term
     s
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236086"><span class="annot"><span class="annottext">Term s (PAsData a :--&gt; PMaybe (PAsData b))
</span><a href="#local-6989586621679236086"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679236087"><span class="annot"><span class="annottext">Term s (PMap g k a)
</span><a href="#local-6989586621679236087"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-336"></span><span>    </span><span class="annot"><span class="annottext">PMap g k b s -&gt; Term s (PMap g k b)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap g k b s -&gt; Term s (PMap g k b))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; PMap g k b s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap g k b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; PMap g k b s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PMap g k b))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap g k b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-337"></span><span>      </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData a))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span>
</span><span id="line-338"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236088"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679236088"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679236089"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679236089"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679236090"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679236090"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-339"></span><span>            </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679236088"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679236090"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236091"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679236091"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-340"></span><span>              </span><span class="annot"><span class="annottext">Term s (PMaybe (PAsData b))
-&gt; (PMaybe (PAsData b) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData a :--&gt; PMaybe (PAsData b))
</span><a href="#local-6989586621679236086"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a :--&gt; PMaybe (PAsData b))
-&gt; Term s (PAsData a) -&gt; Term s (PMaybe (PAsData b))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; PAsData a)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><span class="hs-identifier hs-var">psndBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; PAsData a)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData a))
-&gt; Term s (PAsData a)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679236089"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe (PAsData b) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (PMaybe (PAsData b) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-341"></span><span>                </span><span class="annot"><span class="annottext">PMaybe (PAsData b) s
</span><span class="hs-identifier hs-var">PNothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679236091"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-342"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">PJust</span></span><span> </span><span id="local-6989586621679236092"><span class="annot"><span class="annottext">Term s (PAsData b)
</span><a href="#local-6989586621679236092"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData b)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData b)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData b))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: PType) (b :: PType).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><span class="hs-identifier hs-var">ppairDataBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PAsData k)
-&gt; Term s (PAsData b :--&gt; PBuiltinPair (PAsData k) (PAsData b))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData a))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679236089"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (PAsData b :--&gt; PBuiltinPair (PAsData k) (PAsData b))
-&gt; Term s (PAsData b)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData b))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData b)
</span><a href="#local-6989586621679236092"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679236091"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-343"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><span class="hs-identifier hs-var">pnil</span></span><span class="hs-special">)</span><span class="hs-cpp">
        # pto m
</span><span>
</span><span id="line-347"></span><span class="annot"><span class="hs-comment">{- | Tests whether the map is empty.

@since 2.0.0
-}</span></span><span>
</span><span id="line-351"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pnull"><span class="hs-identifier hs-type">pnull</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-352"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235278"><span class="annot"><a href="#local-6989586621679235278"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235279"><span class="annot"><a href="#local-6989586621679235279"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235280"><span class="annot"><a href="#local-6989586621679235280"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235277"><span class="annot"><a href="#local-6989586621679235277"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-353"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679235277"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235278"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235279"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235280"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBool</span></span><span class="hs-special">)</span><span>
</span><span id="line-354"></span><span id="pnull"><span class="annot"><span class="annottext">pnull :: forall (any :: KeyGuarantees) (k :: PType) (v :: PType) (s :: S).
Term s (PMap any k v :--&gt; PBool)
</span><a href="Plutarch.Api.AssocMap.html#pnull"><span class="hs-identifier hs-var hs-var">pnull</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s (PMap any k v :--&gt; PBool)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679236103"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679236103"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a :--&gt; PBool)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a :--&gt; PBool)
</span><span class="hs-identifier hs-var">List.pnull</span></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v) -&gt; Term s (PInner (PMap any k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679236103"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span class="annot"><span class="hs-comment">{- | Applies a function to every value in the map, much like 'Data.List.map'.

@since 2.0.0
-}</span></span><span>
</span><span id="line-360"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pmap"><span class="hs-identifier hs-type">pmap</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-361"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235290"><span class="annot"><a href="#local-6989586621679235290"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235291"><span class="annot"><a href="#local-6989586621679235291"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235287"><span class="annot"><a href="#local-6989586621679235287"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235288"><span class="annot"><a href="#local-6989586621679235288"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235289"><span class="annot"><a href="#local-6989586621679235289"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-362"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235287"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235288"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-363"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679235289"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235287"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679235288"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235290"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235291"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235287"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235290"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235291"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235288"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span id="pmap"><span class="annot"><span class="annottext">pmap :: forall (g :: KeyGuarantees) (k :: PType) (a :: PType) (b :: PType)
       (s :: S).
(PIsData a, PIsData b) =&gt;
Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Api.AssocMap.html#pmap"><span class="hs-identifier hs-var hs-var">pmap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
 -&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; ClosedTerm ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-365"></span><span>  </span><span class="annot"><span class="annottext">(Term s (a :--&gt; b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s (c :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (a :--&gt; b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
 -&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; (Term s (a :--&gt; b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-366"></span><span>    </span><span class="hs-glyph">\</span><span id="local-6989586621679236118"><span class="annot"><span class="annottext">Term s (a :--&gt; b)
</span><a href="#local-6989586621679236118"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (g :: KeyGuarantees) (k :: PType) (a :: PType) (b :: PType)
       (s :: S).
Term
  s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Api.AssocMap.html#pmapData"><span class="hs-identifier hs-var">pmapData</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s (PAsData a :--&gt; PAsData b)
-&gt; Term s (PMap g k a :--&gt; PMap g k b)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData a) -&gt; Term s (PAsData b))
-&gt; Term s (PAsData a :--&gt; PAsData b)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PAsData b)) -&gt; Term s (c :--&gt; PAsData b)
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData a) -&gt; Term s (PAsData b))
 -&gt; Term s (PAsData a :--&gt; PAsData b))
-&gt; (Term s (PAsData a) -&gt; Term s (PAsData b))
-&gt; Term s (PAsData a :--&gt; PAsData b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236119"><span class="annot"><span class="annottext">Term s (PAsData a)
</span><a href="#local-6989586621679236119"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s b -&gt; Term s (PAsData b)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; b)
</span><a href="#local-6989586621679236118"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a) -&gt; Term s a
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a)
</span><a href="#local-6989586621679236119"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-367"></span><span>
</span><span id="line-368"></span><span class="annot"><span class="hs-comment">{- | As 'pmap', but over Data representations.

@since 2.0.0
-}</span></span><span>
</span><span id="line-372"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pmapData"><span class="hs-identifier hs-type">pmapData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-373"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235301"><span class="annot"><a href="#local-6989586621679235301"><span class="hs-identifier hs-type">g</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235302"><span class="annot"><a href="#local-6989586621679235302"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235299"><span class="annot"><a href="#local-6989586621679235299"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235300"><span class="annot"><a href="#local-6989586621679235300"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235298"><span class="annot"><a href="#local-6989586621679235298"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-374"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679235298"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235299"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235300"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235301"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235302"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235299"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235301"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235302"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235300"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-375"></span><span id="pmapData"><span class="annot"><span class="annottext">pmapData :: forall (g :: KeyGuarantees) (k :: PType) (a :: PType) (b :: PType)
       (s :: S).
Term
  s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Api.AssocMap.html#pmapData"><span class="hs-identifier hs-var hs-var">pmapData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term
     s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><span class="hs-identifier hs-var">phoistAcyclic</span></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
 -&gt; Term
      s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; ClosedTerm
     ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term
     s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-376"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PAsData a :--&gt; PAsData b)
 -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term
     s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term s (c :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData a :--&gt; PAsData b)
  -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
 -&gt; Term
      s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; (Term s (PAsData a :--&gt; PAsData b)
    -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term
     s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236141"><span class="annot"><span class="annottext">Term s (PAsData a :--&gt; PAsData b)
</span><a href="#local-6989586621679236141"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679236142"><span class="annot"><span class="annottext">Term s (PMap g k a)
</span><a href="#local-6989586621679236142"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-377"></span><span>    </span><span class="annot"><span class="annottext">PMap g k b s -&gt; Term s (PMap g k b)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap g k b s -&gt; Term s (PMap g k b))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; PMap g k b s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap g k b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; PMap g k b s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PMap g k b))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap g k b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-378"></span><span>      </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData a))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><span class="hs-identifier hs-var">precList</span></span><span>
</span><span id="line-379"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236143"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679236143"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679236144"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679236144"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679236145"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679236145"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-380"></span><span>            </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData b)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
              # (ppairDataBuiltin # (pfstBuiltin # x) # (f #$ psndBuiltin # x))
</span><span class="hs-cpp">              # (self # xs)
</span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><span class="hs-identifier hs-var">pnil</span></span><span class="hs-special">)</span><span class="hs-cpp">
        # pto m
</span><span>
</span><span id="line-387"></span><span class="hs-comment">-- Helpers</span><span>
</span><span id="line-388"></span><span>
</span><span id="line-389"></span><span class="hs-comment">-- TODO: Get rid of this whole mess.</span><span>
</span><span id="line-390"></span><span class="hs-keyword">type</span><span> </span><span id="SomeMergeHandler"><span class="annot"><a href="Plutarch.Api.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236146"><span class="annot"><a href="#local-6989586621679236146"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236147"><span class="annot"><a href="#local-6989586621679236147"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236148"><span class="annot"><a href="#local-6989586621679236148"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-391"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#SomeMergeHandler_"><span class="hs-identifier hs-type">SomeMergeHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679236148"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679236146"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679236148"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679236147"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-392"></span><span>
</span><span id="line-393"></span><span class="hs-comment">-- Signals how to handle value merging for matching keys in 'pzipWith'.</span><span>
</span><span id="line-394"></span><span class="hs-keyword">data</span><span> </span><span id="SomeMergeHandler_"><span class="annot"><a href="Plutarch.Api.AssocMap.html#SomeMergeHandler_"><span class="hs-identifier hs-var">SomeMergeHandler_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235387"><span class="annot"><a href="#local-6989586621679235387"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235388"><span class="annot"><a href="#local-6989586621679235388"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235389"><span class="annot"><a href="#local-6989586621679235389"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-395"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="SomeMergeHandlerCommutative"><span class="annot"><a href="Plutarch.Api.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-var">SomeMergeHandlerCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandlerCommutative_"><span class="hs-identifier hs-type">MergeHandlerCommutative_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235387"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235388"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235389"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-396"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SomeMergeHandler"><span class="annot"><a href="Plutarch.Api.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandler_"><span class="hs-identifier hs-type">MergeHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235387"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235388"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235389"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-397"></span><span>
</span><span id="line-398"></span><span id="local-6989586621679236153"><span id="local-6989586621679236164"><span id="local-6989586621679236169"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679235327"><span id="local-6989586621679235328"><span id="local-6989586621679235329"><span class="annot"><a href="#local-6989586621679235327"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-399"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679235313"><span class="annot"><a href="#local-6989586621679235313"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679235314"><span class="annot"><a href="#local-6989586621679235314"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235327"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235313"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235314"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-400"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#SomeMergeHandler_"><span class="hs-identifier hs-type">SomeMergeHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235327"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235328"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235329"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span class="hs-keyword">type</span><span> </span><span id="MergeHandler"><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236172"><span class="annot"><a href="#local-6989586621679236172"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236173"><span class="annot"><a href="#local-6989586621679236173"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236174"><span class="annot"><a href="#local-6989586621679236174"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-403"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandler_"><span class="hs-identifier hs-type">MergeHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679236174"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679236172"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679236174"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679236173"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-404"></span><span>
</span><span id="line-405"></span><span class="hs-comment">{- Signals how to handle value merging for matching keys in 'pzipWith'.

 No restrictions on commutativity: Safe to use for both commutative and
 non-commutative merging operations.
-}</span><span>
</span><span id="line-410"></span><span class="hs-keyword">data</span><span> </span><span id="MergeHandler_"><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandler_"><span class="hs-identifier hs-var">MergeHandler_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235330"><span class="annot"><a href="#local-6989586621679235330"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235331"><span class="annot"><a href="#local-6989586621679235331"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235332"><span class="annot"><a href="#local-6989586621679235332"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MergeHandler"><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span></span><span>
</span><span id="line-411"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AmhBoth%3AMergeHandler"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#%24sel%3AmhBoth%3AMergeHandler"><span class="hs-identifier hs-var hs-var">mhBoth</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#BothPresentHandler_"><span class="hs-identifier hs-type">BothPresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235330"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235331"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235332"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-412"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AmhLeft%3AMergeHandler"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#%24sel%3AmhLeft%3AMergeHandler"><span class="hs-identifier hs-var hs-var">mhLeft</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235330"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235331"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235332"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-413"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AmhRight%3AMergeHandler"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#%24sel%3AmhRight%3AMergeHandler"><span class="hs-identifier hs-var hs-var">mhRight</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235330"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235331"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235332"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-414"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span id="local-6989586621679236181"><span id="local-6989586621679236191"><span id="local-6989586621679236195"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679235322"><span id="local-6989586621679235325"><span id="local-6989586621679235326"><span class="annot"><a href="#local-6989586621679235322"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-417"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679235323"><span class="annot"><a href="#local-6989586621679235323"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679235324"><span class="annot"><a href="#local-6989586621679235324"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235322"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235323"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235324"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-418"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandler_"><span class="hs-identifier hs-type">MergeHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235322"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235325"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235326"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span class="hs-keyword">type</span><span> </span><span id="MergeHandlerCommutative"><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236198"><span class="annot"><a href="#local-6989586621679236198"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236199"><span class="annot"><a href="#local-6989586621679236199"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236200"><span class="annot"><a href="#local-6989586621679236200"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-421"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandlerCommutative_"><span class="hs-identifier hs-type">MergeHandlerCommutative_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679236200"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679236198"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679236200"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679236199"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-422"></span><span>
</span><span id="line-423"></span><span class="hs-comment">{- Signals how to handle value merging for matching keys in 'pzipWith'.

 Safe to use for commutative merging operations only.
-}</span><span>
</span><span id="line-427"></span><span class="hs-keyword">data</span><span> </span><span id="MergeHandlerCommutative_"><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandlerCommutative_"><span class="hs-identifier hs-var">MergeHandlerCommutative_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235357"><span class="annot"><a href="#local-6989586621679235357"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235358"><span class="annot"><a href="#local-6989586621679235358"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235359"><span class="annot"><a href="#local-6989586621679235359"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MergeHandlerCommutative"><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span></span><span>
</span><span id="line-428"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AmhcBoth%3AMergeHandlerCommutative"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v
-&gt; BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.Api.AssocMap.html#%24sel%3AmhcBoth%3AMergeHandlerCommutative"><span class="hs-identifier hs-var hs-var">mhcBoth</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#BothPresentHandlerCommutative_"><span class="hs-identifier hs-type">BothPresentHandlerCommutative_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235357"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235358"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235359"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-429"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AmhcOne%3AMergeHandlerCommutative"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#%24sel%3AmhcOne%3AMergeHandlerCommutative"><span class="hs-identifier hs-var hs-var">mhcOne</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235357"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235358"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235359"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-430"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-431"></span><span>
</span><span id="line-432"></span><span id="local-6989586621679236206"><span id="local-6989586621679236214"><span id="local-6989586621679236218"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679235317"><span id="local-6989586621679235320"><span id="local-6989586621679235321"><span class="annot"><a href="#local-6989586621679235317"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-433"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679235318"><span class="annot"><a href="#local-6989586621679235318"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679235319"><span class="annot"><a href="#local-6989586621679235319"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235317"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235318"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235319"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-434"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandlerCommutative_"><span class="hs-identifier hs-type">MergeHandlerCommutative_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235317"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235320"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235321"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span class="hs-keyword">type</span><span> </span><span id="BothPresentHandler"><span class="annot"><a href="Plutarch.Api.AssocMap.html#BothPresentHandler"><span class="hs-identifier hs-var">BothPresentHandler</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236221"><span class="annot"><a href="#local-6989586621679236221"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236222"><span class="annot"><a href="#local-6989586621679236222"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236223"><span class="annot"><a href="#local-6989586621679236223"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-437"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#BothPresentHandler_"><span class="hs-identifier hs-type">BothPresentHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679236223"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679236221"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679236223"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679236222"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-438"></span><span>
</span><span id="line-439"></span><span class="hs-keyword">data</span><span> </span><span id="BothPresentHandler_"><span class="annot"><a href="Plutarch.Api.AssocMap.html#BothPresentHandler_"><span class="hs-identifier hs-var">BothPresentHandler_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235390"><span class="annot"><a href="#local-6989586621679235390"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235391"><span class="annot"><a href="#local-6989586621679235391"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235392"><span class="annot"><a href="#local-6989586621679235392"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-440"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DropBoth"><span class="annot"><a href="Plutarch.Api.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span></span><span>
</span><span id="line-441"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- True ~ left, False ~ right</span><span>
</span><span id="line-442"></span><span>    </span><span id="PassArg"><span class="annot"><a href="Plutarch.Api.AssocMap.html#PassArg"><span class="hs-identifier hs-var">PassArg</span></a></span></span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-443"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HandleBoth"><span class="annot"><a href="Plutarch.Api.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235391"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235390"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235392"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235390"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235392"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235390"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235392"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span id="local-6989586621679236229"><span id="local-6989586621679236236"><span id="local-6989586621679236240"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679235352"><span id="local-6989586621679235355"><span id="local-6989586621679235356"><span class="annot"><a href="#local-6989586621679235352"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-446"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679235353"><span class="annot"><a href="#local-6989586621679235353"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679235354"><span class="annot"><a href="#local-6989586621679235354"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235352"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235353"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235354"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-447"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#BothPresentHandler_"><span class="hs-identifier hs-type">BothPresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235352"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235355"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235356"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-448"></span><span>
</span><span id="line-449"></span><span class="hs-keyword">type</span><span> </span><span id="BothPresentHandlerCommutative"><span class="annot"><a href="Plutarch.Api.AssocMap.html#BothPresentHandlerCommutative"><span class="hs-identifier hs-var">BothPresentHandlerCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236243"><span class="annot"><a href="#local-6989586621679236243"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236244"><span class="annot"><a href="#local-6989586621679236244"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236245"><span class="annot"><a href="#local-6989586621679236245"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-450"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#BothPresentHandlerCommutative_"><span class="hs-identifier hs-type">BothPresentHandlerCommutative_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679236245"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679236243"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679236245"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679236244"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span class="hs-keyword">data</span><span> </span><span id="BothPresentHandlerCommutative_"><span class="annot"><a href="Plutarch.Api.AssocMap.html#BothPresentHandlerCommutative_"><span class="hs-identifier hs-var">BothPresentHandlerCommutative_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235396"><span class="annot"><a href="#local-6989586621679235396"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235397"><span class="annot"><a href="#local-6989586621679235397"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235398"><span class="annot"><a href="#local-6989586621679235398"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-453"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DropBothCommutative"><span class="annot"><a href="Plutarch.Api.AssocMap.html#DropBothCommutative"><span class="hs-identifier hs-var">DropBothCommutative</span></a></span></span><span>
</span><span id="line-454"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HandleBothCommutative"><span class="annot"><a href="Plutarch.Api.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-var">HandleBothCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235397"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235396"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235398"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235396"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235398"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235396"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235398"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-455"></span><span>
</span><span id="line-456"></span><span id="local-6989586621679236250"><span id="local-6989586621679236254"><span id="local-6989586621679236258"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679235370"><span id="local-6989586621679235373"><span id="local-6989586621679235374"><span class="annot"><a href="#local-6989586621679235370"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-457"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679235371"><span class="annot"><a href="#local-6989586621679235371"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679235372"><span class="annot"><a href="#local-6989586621679235372"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235370"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235371"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235372"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-458"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#BothPresentHandlerCommutative_"><span class="hs-identifier hs-type">BothPresentHandlerCommutative_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235370"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235373"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235374"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span class="hs-keyword">type</span><span> </span><span id="OnePresentHandler"><span class="annot"><a href="Plutarch.Api.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-var">OnePresentHandler</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236261"><span class="annot"><a href="#local-6989586621679236261"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236262"><span class="annot"><a href="#local-6989586621679236262"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679236263"><span class="annot"><a href="#local-6989586621679236263"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-461"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679236263"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679236261"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679236263"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679236262"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-462"></span><span>
</span><span id="line-463"></span><span class="hs-keyword">data</span><span> </span><span id="OnePresentHandler_"><span class="annot"><a href="Plutarch.Api.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-var">OnePresentHandler_</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235393"><span class="annot"><a href="#local-6989586621679235393"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235394"><span class="annot"><a href="#local-6989586621679235394"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235395"><span class="annot"><a href="#local-6989586621679235395"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-464"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DropOne"><span class="annot"><a href="Plutarch.Api.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span></span><span>
</span><span id="line-465"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PassOne"><span class="annot"><a href="Plutarch.Api.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span></span><span>
</span><span id="line-466"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HandleOne"><span class="annot"><a href="Plutarch.Api.AssocMap.html#HandleOne"><span class="hs-identifier hs-var">HandleOne</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235394"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235393"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235395"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235393"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235395"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-467"></span><span>
</span><span id="line-468"></span><span id="local-6989586621679236269"><span id="local-6989586621679236273"><span id="local-6989586621679236277"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679235347"><span id="local-6989586621679235350"><span id="local-6989586621679235351"><span class="annot"><a href="#local-6989586621679235347"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span>
</span><span id="line-469"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679235348"><span class="annot"><a href="#local-6989586621679235348"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679235349"><span class="annot"><a href="#local-6989586621679235349"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235347"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235348"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235349"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-470"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235347"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235350"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235351"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-471"></span><span>
</span><span id="line-472"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-type">unionMergeHandler</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-473"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235243"><span class="annot"><a href="#local-6989586621679235243"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235245"><span class="annot"><a href="#local-6989586621679235245"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235244"><span class="annot"><a href="#local-6989586621679235244"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-474"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-475"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679235243"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235244"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235244"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679235244"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-476"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235245"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235244"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235243"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-477"></span><span id="unionMergeHandler"><span class="annot"><span class="annottext">unionMergeHandler :: forall (s :: S) (k :: PType) (v :: PType).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.Api.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-var hs-var">unionMergeHandler</span></a></span></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.Api.AssocMap.html#NonCommutative"><span class="hs-identifier hs-var">NonCommutative</span></a></span><span> </span><span id="local-6989586621679236280"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679236280"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-478"></span><span>  </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ (-&gt;) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v))
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v)))
-&gt; BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679236281"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679236281"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679236282"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679236282"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679236280"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679236281"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679236282"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span>
</span><span id="line-479"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-var">unionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.Api.AssocMap.html#Commutative"><span class="hs-identifier hs-var">Commutative</span></a></span><span> </span><span id="local-6989586621679236283"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679236283"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-480"></span><span>  </span><span class="annot"><span class="annottext">MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-var">SomeMergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v))
-&gt; MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; SomeMergeHandler_ (-&gt;) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-481"></span><span>    </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandlerCommutative_ f k v
-&gt; OnePresentHandler_ f k v -&gt; MergeHandlerCommutative_ f k v
</span><a href="Plutarch.Api.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v)))
-&gt; BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.Api.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-var">HandleBothCommutative</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679236284"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679236284"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679236285"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679236285"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679236283"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679236284"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v) -&gt; Term s v -&gt; Term s v
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679236285"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span class="hs-comment">{- Zip two 'PMap's, using a 'SomeMergeHandler' to decide how to merge based on key
 presence on the left and right.

 Note that using a 'MergeHandlerCommutative' is less costly than a 'MergeHandler'.
-}</span><span>
</span><span id="line-488"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pzipWith"><span class="hs-identifier hs-type">pzipWith</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-489"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235242"><span class="annot"><a href="#local-6989586621679235242"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235240"><span class="annot"><a href="#local-6989586621679235240"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235241"><span class="annot"><a href="#local-6989586621679235241"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-490"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679235240"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235240"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235241"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-491"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235240"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235241"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235242"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-492"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-493"></span><span>    </span><span class="annot"><a href="#local-6989586621679235242"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-494"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235240"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235241"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-495"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235240"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235241"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-496"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235240"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235241"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-497"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-498"></span><span id="pzipWith"><span class="annot"><span class="annottext">pzipWith :: forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.AssocMap.html#pzipWith"><span class="hs-identifier hs-var hs-var">pzipWith</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span id="local-6989586621679236297"><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679236297"><span class="hs-identifier hs-var">mh</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-499"></span><span>  </span><span class="annot"><span class="annottext">SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
 -&gt; SomeMergeHandler (PAsData k) (PAsData v) s)
-&gt; MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
MergeHandler k v s -&gt; MergeHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.AssocMap.html#mergeHandlerOnData"><span class="hs-identifier hs-var">mergeHandlerOnData</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679236297"><span class="hs-identifier hs-var">mh</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-500"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-type">SomeMergeHandlerCommutative</span></a></span><span> </span><span id="local-6989586621679236300"><span class="annot"><span class="annottext">MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679236300"><span class="hs-identifier hs-var">mhc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-501"></span><span>  </span><span class="annot"><span class="annottext">SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MergeHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-var">SomeMergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandlerCommutative_
   (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
 -&gt; SomeMergeHandler (PAsData k) (PAsData v) s)
-&gt; MergeHandlerCommutative_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; MergeHandlerCommutative_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
MergeHandlerCommutative k v s
-&gt; MergeHandlerCommutative (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.AssocMap.html#mergeHandlerCommutativeOnData"><span class="hs-identifier hs-var">mergeHandlerCommutativeOnData</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679236300"><span class="hs-identifier hs-var">mhc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-502"></span><span>
</span><span id="line-503"></span><span class="hs-comment">{- Zip two 'PMap's, using a 'SomeMergeHandler' to decide how to merge based on key
 presence on the left and right.

 Note that using a 'MergeHandlerCommutative' is less costly than a 'MergeHandler'.
-}</span><span>
</span><span id="line-508"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pzipWithData"><span class="hs-identifier hs-type">pzipWithData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-509"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235404"><span class="annot"><a href="#local-6989586621679235404"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235402"><span class="annot"><a href="#local-6989586621679235402"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235403"><span class="annot"><a href="#local-6989586621679235403"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-510"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679235402"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235402"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-511"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235402"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235403"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679235404"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-512"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-513"></span><span>    </span><span class="annot"><a href="#local-6989586621679235404"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-514"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235402"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235403"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-515"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235402"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235403"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-516"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235402"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235403"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-517"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-518"></span><span id="pzipWithData"><span class="annot"><span class="annottext">pzipWithData :: forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var hs-var">pzipWithData</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span id="local-6989586621679236322"><span class="annot"><span class="annottext">mh :: MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236322"><span class="hs-identifier hs-var">mh</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679236323"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236323"><span class="hs-identifier hs-var">rightPresent</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-519"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236324"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679236324"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679236325"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679236325"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-520"></span><span>    </span><span class="annot"><span class="annottext">PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v))
-&gt; PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; PMap 'Sorted k v s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.Api.AssocMap.html#zipMerge"><span class="hs-identifier hs-var">zipMerge</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236323"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
MergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="Plutarch.Api.AssocMap.html#zipMergeInsert"><span class="hs-identifier hs-var">zipMergeInsert</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236322"><span class="hs-identifier hs-var">mh</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679236324"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679236325"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-521"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-type">SomeMergeHandlerCommutative</span></a></span><span> </span><span id="local-6989586621679236328"><span class="annot"><span class="annottext">mh :: MergeHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236328"><span class="hs-identifier hs-var">mh</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679236329"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236329"><span class="hs-identifier hs-var">onePresent</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-522"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236330"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679236330"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679236331"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679236331"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-523"></span><span>    </span><span class="annot"><span class="annottext">PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">(PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v))
-&gt; PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.Api.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; PMap 'Sorted k v s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.Api.AssocMap.html#zipMergeCommutative"><span class="hs-identifier hs-var">zipMergeCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236329"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MergeHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
MergeHandlerCommutative (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="Plutarch.Api.AssocMap.html#zipMergeInsertCommutative"><span class="hs-identifier hs-var">zipMergeInsertCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236328"><span class="hs-identifier hs-var">mh</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679236330"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><span class="hs-identifier hs-var">pto</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679236331"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-524"></span><span>
</span><span id="line-525"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#mergeHandlerOnData"><span class="hs-identifier hs-type">mergeHandlerOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-526"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235407"><span class="annot"><a href="#local-6989586621679235407"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235405"><span class="annot"><a href="#local-6989586621679235405"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235406"><span class="annot"><a href="#local-6989586621679235406"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-527"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235405"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235406"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-528"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235405"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235406"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235407"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-529"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235405"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235406"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679235407"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-530"></span><span id="mergeHandlerOnData"><span class="annot"><span class="annottext">mergeHandlerOnData :: forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
MergeHandler k v s -&gt; MergeHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.AssocMap.html#mergeHandlerOnData"><span class="hs-identifier hs-var hs-var">mergeHandlerOnData</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span id="local-6989586621679236342"><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679236342"><span class="hs-identifier hs-var">bothPresent</span></a></span></span><span> </span><span id="local-6989586621679236343"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679236343"><span class="hs-identifier hs-var">leftPresent</span></a></span></span><span> </span><span id="local-6989586621679236344"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679236344"><span class="hs-identifier hs-var">rightPresent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-531"></span><span>  </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; MergeHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; BothPresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
BothPresentHandler k v s
-&gt; BothPresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.AssocMap.html#bothPresentOnData"><span class="hs-identifier hs-var">bothPresentOnData</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679236342"><span class="hs-identifier hs-var">bothPresent</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
OnePresentHandler k v s
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-var">onePresentOnData</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679236343"><span class="hs-identifier hs-var">leftPresent</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
OnePresentHandler k v s
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-var">onePresentOnData</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679236344"><span class="hs-identifier hs-var">rightPresent</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-532"></span><span>
</span><span id="line-533"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#mergeHandlerCommutativeOnData"><span class="hs-identifier hs-type">mergeHandlerCommutativeOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-534"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235411"><span class="annot"><a href="#local-6989586621679235411"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235409"><span class="annot"><a href="#local-6989586621679235409"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235410"><span class="annot"><a href="#local-6989586621679235410"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-535"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235409"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235410"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-536"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235409"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235410"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235411"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-537"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235409"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235410"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679235411"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-538"></span><span id="mergeHandlerCommutativeOnData"><span class="annot"><span class="annottext">mergeHandlerCommutativeOnData :: forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
MergeHandlerCommutative k v s
-&gt; MergeHandlerCommutative (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.AssocMap.html#mergeHandlerCommutativeOnData"><span class="hs-identifier hs-var hs-var">mergeHandlerCommutativeOnData</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span id="local-6989586621679236353"><span class="annot"><span class="annottext">BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679236353"><span class="hs-identifier hs-var">bothPresent</span></a></span></span><span> </span><span id="local-6989586621679236354"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679236354"><span class="hs-identifier hs-var">onePresent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-539"></span><span>  </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; MergeHandlerCommutative_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandlerCommutative_ f k v
-&gt; OnePresentHandler_ f k v -&gt; MergeHandlerCommutative_ f k v
</span><a href="Plutarch.Api.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
-&gt; BothPresentHandlerCommutative_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
BothPresentHandlerCommutative k v s
-&gt; BothPresentHandlerCommutative (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.AssocMap.html#bothPresentCommutativeOnData"><span class="hs-identifier hs-var">bothPresentCommutativeOnData</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679236353"><span class="hs-identifier hs-var">bothPresent</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
OnePresentHandler k v s
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-var">onePresentOnData</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s k) (Term s v)
</span><a href="#local-6989586621679236354"><span class="hs-identifier hs-var">onePresent</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-540"></span><span>
</span><span id="line-541"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#zipMerge"><span class="hs-identifier hs-type">zipMerge</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-542"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235419"><span class="annot"><a href="#local-6989586621679235419"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235417"><span class="annot"><a href="#local-6989586621679235417"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235418"><span class="annot"><a href="#local-6989586621679235418"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-543"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-type">OnePresentHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235417"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235418"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679235419"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-544"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-545"></span><span>    </span><span class="annot"><a href="#local-6989586621679235419"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-546"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PSBool</span></span><span>
</span><span id="line-547"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235417"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235418"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-548"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235417"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235418"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-549"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235417"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235418"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-550"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235417"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235418"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-551"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-552"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-553"></span><span>    </span><span class="annot"><a href="#local-6989586621679235419"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-554"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235417"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235418"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-555"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235417"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235418"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-556"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235417"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235418"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-557"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-558"></span><span id="zipMerge"><span class="annot"><span class="annottext">zipMerge :: forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.Api.AssocMap.html#zipMerge"><span class="hs-identifier hs-var hs-var">zipMerge</span></a></span></span><span> </span><span id="local-6989586621679236375"><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="#local-6989586621679236375"><span class="hs-identifier hs-var">rightPresent</span></a></span></span><span> </span><span id="local-6989586621679236376"><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679236376"><span class="hs-identifier hs-var">mergeInsertRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236377"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236377"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span id="local-6989586621679236378"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236378"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236377"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-559"></span><span>  </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
</span><span class="hs-identifier hs-var">PNil</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-560"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="#local-6989586621679236375"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-561"></span><span>      </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: PType) (s :: S). PBuiltinList a s
</span><span class="hs-identifier hs-var">PNil</span></span><span>
</span><span id="line-562"></span><span>      </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236378"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-563"></span><span>      </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679236380"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679236380"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-564"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: PType -&gt; PType) (a :: PType) (b :: PType) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><span class="hs-identifier hs-var">List.pmap</span></span><span class="hs-cpp">
          # plam
</span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">pair</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-567"></span><span>                </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pfstBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-568"></span><span>                  </span><span class="hs-identifier">ppairDataBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">handler</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">psndBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span>
</span><span id="line-569"></span><span>            </span><span class="hs-special">)</span><span class="hs-cpp">
          # rs
</span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PCons</span></span><span> </span><span id="local-6989586621679236384"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236384"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679236385"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236385"><span class="hs-identifier hs-var">ls'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679236376"><span class="hs-identifier hs-var">mergeInsertRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term s PSBool
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
forall (s :: S). Term s PSBool
</span><span class="hs-identifier hs-var">pstrue</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236384"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236385"><span class="hs-identifier hs-var">ls'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236378"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-572"></span><span>
</span><span id="line-573"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#zipMergeInsert"><span class="hs-identifier hs-type">zipMergeInsert</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-574"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235423"><span class="annot"><a href="#local-6989586621679235423"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235421"><span class="annot"><a href="#local-6989586621679235421"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235422"><span class="annot"><a href="#local-6989586621679235422"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-575"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679235421"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235421"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-576"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235421"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235422"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679235423"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-577"></span><span>  </span><span class="hs-comment">-- | 'PSTrue' means first arg is left, second arg is right.</span><span>
</span><span id="line-578"></span><span>  </span><span class="hs-comment">-- The first list gets passed in deconstructed form as head and tail</span><span>
</span><span id="line-579"></span><span>  </span><span class="hs-comment">-- separately.</span><span>
</span><span id="line-580"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-581"></span><span>    </span><span class="annot"><a href="#local-6989586621679235423"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-582"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PSBool</span></span><span>
</span><span id="line-583"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235421"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235422"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-584"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235421"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235422"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-585"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235421"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235422"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-586"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235421"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235422"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-587"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-588"></span><span id="zipMergeInsert"><span class="annot"><span class="annottext">zipMergeInsert :: forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
MergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="Plutarch.Api.AssocMap.html#zipMergeInsert"><span class="hs-identifier hs-var hs-var">zipMergeInsert</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span id="local-6989586621679236455"><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236455"><span class="hs-identifier hs-var">bothPresent</span></a></span></span><span> </span><span id="local-6989586621679236456"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236456"><span class="hs-identifier hs-var">leftPresent</span></a></span></span><span> </span><span id="local-6989586621679236457"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236457"><span class="hs-identifier hs-var">rightPresent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermCont
  s
  (Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (a :: PType) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s
   (Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
 -&gt; Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; TermCont
     s
     (Term
        s
        (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-589"></span><span>  </span><span class="hs-comment">-- deduplicates all the zipMerge calls through plet, almost as good as hoisting</span><span>
</span><span id="line-590"></span><span>  </span><span id="local-6989586621679236458"><span class="annot"><span class="annottext">Term
  s
  ((PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679236458"><span class="hs-identifier hs-var">zipMerge'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term
    s
    ((PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
  -&gt; Term
       s
       (PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
 -&gt; Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; TermCont
     s
     (Term
        s
        ((PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   -&gt; Term
        s
        (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
  -&gt; Term
       s
       (PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
 -&gt; TermCont
      s
      (Term
         s
         ((PSBool
           :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; ((Term
       s
       ((PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     -&gt; Term
          s
          (PSBool
           :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
    -&gt; Term
         s
         (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; TermCont
     s
     (Term
        s
        ((PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term
      s
      ((PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   ((PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; (Term
       s
       ((PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     -&gt; Term
          s
          (PSBool
           :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
 -&gt; Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term
      s
      ((PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
  -&gt; Term
       s
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; Term
      s
      ((PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; (Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    -&gt; Term
         s
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.Api.AssocMap.html#zipMerge"><span class="hs-identifier hs-var">zipMerge</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236457"><span class="hs-identifier hs-var">rightPresent</span></a></span><span>
</span><span id="line-591"></span><span>  </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     s
     (Term
        s
        (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; TermCont
      s
      (Term
         s
         (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     s
     (Term
        s
        (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    :--&gt; (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
   :--&gt; (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (((a :--&gt; b) :--&gt; (a :--&gt; b)) :--&gt; (a :--&gt; b))
</span><span class="hs-identifier hs-var">pfix</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    :--&gt; (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
   :--&gt; (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PSBool
            :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term s PSBool
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PSBool
            :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s PSBool
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (c
      :--&gt; (PSBool
            :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
  -&gt; Term s PSBool
  -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term
      s
      ((PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
       :--&gt; (PSBool
             :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))))
-&gt; (Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    -&gt; Term s PSBool
    -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PSBool
            :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236459"><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679236459"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679236460"><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679236460"><span class="hs-identifier hs-var">argOrder'</span></a></span></span><span> </span><span id="local-6989586621679236461"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236461"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679236462"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236462"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span id="local-6989586621679236463"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236463"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont
  s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-592"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679236464"><span class="annot"><span class="annottext">zipMergeRec :: Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679236464"><span class="hs-identifier hs-var hs-var">zipMergeRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679236458"><span class="hs-identifier hs-var">zipMerge'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679236459"><span class="hs-identifier hs-var">self</span></a></span><span>
</span><span id="line-593"></span><span>        </span><span id="local-6989586621679236465"><span class="annot"><span class="annottext">xs :: Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236465"><span class="hs-identifier hs-var hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236461"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236462"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-594"></span><span>        </span><span id="local-6989586621679236466"><span class="annot"><span class="annottext">zipMergeOrdered :: Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236466"><span class="hs-identifier hs-var hs-var">zipMergeOrdered</span></a></span></span><span> </span><span id="local-6989586621679236467"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236467"><span class="hs-identifier hs-var">xSide</span></a></span></span><span> </span><span id="local-6989586621679236468"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236468"><span class="hs-identifier hs-var">ySide</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-595"></span><span>          </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679236460"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236469"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679236469"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
PSBool s
-&gt; Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Api.AssocMap.html#applyOrder"><span class="hs-identifier hs-var">applyOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679236469"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679236464"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236467"><span class="hs-identifier hs-var">xSide</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236468"><span class="hs-identifier hs-var">ySide</span></a></span><span>
</span><span id="line-596"></span><span>    </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236463"><span class="hs-identifier hs-var">ys</span></a></span><span> </span><span class="annot"><span class="annottext">((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-597"></span><span>      </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
</span><span class="hs-identifier hs-var">PNil</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679236460"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236471"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679236471"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-598"></span><span>        </span><span class="hs-comment">-- picking handler for presence of x-side only</span><span>
</span><span id="line-599"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.Api.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679236471"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236456"><span class="hs-identifier hs-var">leftPresent</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236457"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-600"></span><span>          </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.Api.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: PType) (s :: S). PBuiltinList a s
</span><span class="hs-identifier hs-var">PNil</span></span><span>
</span><span id="line-601"></span><span>          </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.Api.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236461"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236462"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-602"></span><span>          </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679236473"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679236473"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-603"></span><span>            </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: PType -&gt; PType) (a :: PType) (b :: PType) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><span class="hs-identifier hs-var">List.pmap</span></span><span class="hs-cpp">
              # plam
</span><span>                </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">pair</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-606"></span><span>                    </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pfstBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-607"></span><span>                      </span><span class="hs-identifier">ppairDataBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">handler</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">psndBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span>
</span><span id="line-608"></span><span>                </span><span class="hs-special">)</span><span class="hs-cpp">
              # xs
</span><span>      </span><span class="annot"><span class="hs-identifier hs-type">PCons</span></span><span> </span><span id="local-6989586621679236476"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236476"><span class="hs-identifier hs-var">y1</span></a></span></span><span> </span><span id="local-6989586621679236477"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236477"><span class="hs-identifier hs-var">ys'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont
  s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-611"></span><span>        </span><span id="local-6989586621679236478"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236478"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v)))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PBuiltinPair (PAsData k) (PAsData v))
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; ((Term s (PBuiltinPair (PAsData k) (PAsData v))
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236476"><span class="hs-identifier hs-var">y1</span></a></span><span>
</span><span id="line-612"></span><span>        </span><span id="local-6989586621679236479"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236479"><span class="hs-identifier hs-var">xk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData k)
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PAsData k)))
-&gt; ((Term s (PAsData k)
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData k)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236461"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-613"></span><span>        </span><span id="local-6989586621679236480"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236480"><span class="hs-identifier hs-var">yk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData k)
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PAsData k)))
-&gt; ((Term s (PAsData k)
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData k)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236478"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-614"></span><span>        </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-615"></span><span>          </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-616"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236479"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236480"><span class="hs-identifier hs-var">yk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-617"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236455"><span class="hs-identifier hs-var">bothPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-618"></span><span>                </span><span class="annot"><span class="annottext">BothPresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.Api.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236466"><span class="hs-identifier hs-var">zipMergeOrdered</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236462"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236477"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-619"></span><span>                </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PassArg"><span class="hs-identifier hs-type">PassArg</span></a></span><span> </span><span id="local-6989586621679236481"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679236481"><span class="hs-identifier hs-var">passLeft</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679236460"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236482"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679236482"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-620"></span><span>                  </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                    # (if passLeft == (argOrder == PSTrue) then x else y)
</span><span class="hs-cpp">                    # applyOrder argOrder zipMergeRec xs' ys'
</span><span>                </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#HandleBoth"><span class="hs-identifier hs-type">HandleBoth</span></a></span><span> </span><span id="local-6989586621679236483"><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData v)
    -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v)))
</span><a href="#local-6989586621679236483"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679236460"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236484"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679236484"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-624"></span><span>                  </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                    # ( ppairDataBuiltin
</span><span class="hs-cpp">                          # xk
</span><span class="hs-cpp">                          #$ applyOrder' argOrder (merge xk) (psndBuiltin # x) (psndBuiltin # y)
</span><span>                      </span><span class="hs-special">)</span><span class="hs-cpp">
                    #$ applyOrder argOrder zipMergeRec xs' ys'
</span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-631"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-632"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236479"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236480"><span class="hs-identifier hs-var">yk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-633"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679236460"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236486"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679236486"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-634"></span><span>                    </span><span class="hs-comment">-- picking handler for presence of only x-side</span><span>
</span><span id="line-635"></span><span>                    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.Api.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679236486"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236456"><span class="hs-identifier hs-var">leftPresent</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236457"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-636"></span><span>                      </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.Api.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679236459"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term s PSBool
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">PSBool s -&gt; Term s PSBool -&gt; Term s PSBool -&gt; Term s PSBool
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.Api.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679236486"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
forall (s :: S). Term s PSBool
</span><span class="hs-identifier hs-var">psfalse</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
forall (s :: S). Term s PSBool
</span><span class="hs-identifier hs-var">pstrue</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236478"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236477"><span class="hs-identifier hs-var">ys'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236462"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-637"></span><span>                      </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.Api.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236461"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
PSBool s
-&gt; Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Api.AssocMap.html#applyOrder"><span class="hs-identifier hs-var">applyOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679236486"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679236464"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236462"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236463"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-638"></span><span>                      </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679236487"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679236487"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-639"></span><span>                        </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                          # (ppairDataBuiltin # xk # handler xk (psndBuiltin # x))
</span><span class="hs-cpp">                          # (self # branchOrder argOrder psfalse pstrue # y # ys' # xs')
</span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-643"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679236460"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236488"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679236488"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-644"></span><span>                    </span><span class="hs-comment">-- picking handler for presence of only y-side</span><span>
</span><span id="line-645"></span><span>                    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; OnePresentHandler_
     (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.Api.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679236488"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236457"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236456"><span class="hs-identifier hs-var">leftPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-646"></span><span>                      </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.Api.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679236459"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term s PSBool
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679236460"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236461"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236462"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236477"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-647"></span><span>                      </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.Api.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236478"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
PSBool s
-&gt; Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Api.AssocMap.html#applyOrder"><span class="hs-identifier hs-var">applyOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679236488"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679236464"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236465"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236477"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-648"></span><span>                      </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679236489"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679236489"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-649"></span><span>                        </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                          # (ppairDataBuiltin # yk # handler yk (psndBuiltin # y))
</span><span class="hs-cpp">                          # (self # argOrder' # x # xs' # ys')
</span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-653"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-654"></span><span>
</span><span id="line-655"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#zipMergeCommutative"><span class="hs-identifier hs-type">zipMergeCommutative</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-656"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235426"><span class="annot"><a href="#local-6989586621679235426"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235424"><span class="annot"><a href="#local-6989586621679235424"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235425"><span class="annot"><a href="#local-6989586621679235425"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-657"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-type">OnePresentHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235424"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235425"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679235426"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-658"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-659"></span><span>    </span><span class="annot"><a href="#local-6989586621679235426"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-660"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235424"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235425"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-661"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235424"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235425"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-662"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235424"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235425"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-663"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235424"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235425"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-664"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-665"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-666"></span><span>    </span><span class="annot"><a href="#local-6989586621679235426"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-667"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235424"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235425"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-668"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235424"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235425"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-669"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235424"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235425"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-670"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-671"></span><span id="zipMergeCommutative"><span class="annot"><span class="annottext">zipMergeCommutative :: forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.Api.AssocMap.html#zipMergeCommutative"><span class="hs-identifier hs-var hs-var">zipMergeCommutative</span></a></span></span><span> </span><span id="local-6989586621679236508"><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="#local-6989586621679236508"><span class="hs-identifier hs-var">onePresent</span></a></span></span><span> </span><span id="local-6989586621679236509"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679236509"><span class="hs-identifier hs-var">mergeInsertRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236510"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236510"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span id="local-6989586621679236511"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236511"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236510"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-672"></span><span>  </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
</span><span class="hs-identifier hs-var">PNil</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-673"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="#local-6989586621679236508"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-674"></span><span>      </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: PType) (s :: S). PBuiltinList a s
</span><span class="hs-identifier hs-var">PNil</span></span><span>
</span><span id="line-675"></span><span>      </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236511"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-676"></span><span>      </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679236512"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679236512"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-677"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: PType -&gt; PType) (a :: PType) (b :: PType) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><span class="hs-identifier hs-var">List.pmap</span></span><span class="hs-cpp">
          # plam
</span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">pair</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-680"></span><span>                </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pfstBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-681"></span><span>                  </span><span class="hs-identifier">ppairDataBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">handler</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">psndBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span>
</span><span id="line-682"></span><span>            </span><span class="hs-special">)</span><span class="hs-cpp">
          # rs
</span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PCons</span></span><span> </span><span id="local-6989586621679236515"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236515"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679236516"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236516"><span class="hs-identifier hs-var">ls'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679236509"><span class="hs-identifier hs-var">mergeInsertRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236515"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236516"><span class="hs-identifier hs-var">ls'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236511"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-685"></span><span>
</span><span id="line-686"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#zipMergeInsertCommutative"><span class="hs-identifier hs-type">zipMergeInsertCommutative</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-687"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235429"><span class="annot"><a href="#local-6989586621679235429"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235427"><span class="annot"><a href="#local-6989586621679235427"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235428"><span class="annot"><a href="#local-6989586621679235428"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-688"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">POrd</span></span><span> </span><span class="annot"><a href="#local-6989586621679235427"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235427"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-689"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235427"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235428"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679235429"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-690"></span><span>  </span><span class="hs-comment">-- | 'PSTrue' means first arg is left, second arg is right.</span><span>
</span><span id="line-691"></span><span>  </span><span class="hs-comment">-- The first list gets passed in deconstructed form as head and tail</span><span>
</span><span id="line-692"></span><span>  </span><span class="hs-comment">-- separately.</span><span>
</span><span id="line-693"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span>
</span><span id="line-694"></span><span>    </span><span class="annot"><a href="#local-6989586621679235429"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-695"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235427"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235428"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-696"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235427"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235428"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-697"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235427"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235428"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-698"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">PBuiltinList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PBuiltinPair</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235427"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235428"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-699"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-700"></span><span id="zipMergeInsertCommutative"><span class="annot"><span class="annottext">zipMergeInsertCommutative :: forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
MergeHandlerCommutative (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="Plutarch.Api.AssocMap.html#zipMergeInsertCommutative"><span class="hs-identifier hs-var hs-var">zipMergeInsertCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span id="local-6989586621679236571"><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236571"><span class="hs-identifier hs-var">bothPresent</span></a></span></span><span> </span><span id="local-6989586621679236572"><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236572"><span class="hs-identifier hs-var">onePresent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermCont
  s
  (Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (a :: PType) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s
   (Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     s
     (Term
        s
        (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-701"></span><span>  </span><span class="hs-comment">-- deduplicates all the zipMerge calls through plet, almost as good as hoisting</span><span>
</span><span id="line-702"></span><span>  </span><span id="local-6989586621679236573"><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679236573"><span class="hs-identifier hs-var">zipMerge'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term
    s
    ((PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
  -&gt; Term
       s
       (PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     s
     (Term
        s
        ((PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   -&gt; Term
        s
        (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
  -&gt; Term
       s
       (PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; TermCont
      s
      (Term
         s
         ((PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; ((Term
       s
       ((PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     -&gt; Term
          s
          (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    -&gt; Term
         s
         (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     s
     (Term
        s
        ((PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   ((PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; (Term
       s
       ((PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     -&gt; Term
          s
          (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
  -&gt; Term
       s
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; (Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.Api.AssocMap.html#zipMergeCommutative"><span class="hs-identifier hs-var">zipMergeCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236572"><span class="hs-identifier hs-var">onePresent</span></a></span><span>
</span><span id="line-703"></span><span>  </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; TermCont
     s
     (Term
        s
        (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; TermCont
      s
      (Term
         s
         (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; TermCont
     s
     (Term
        s
        (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (((a :--&gt; b) :--&gt; (a :--&gt; b)) :--&gt; (a :--&gt; b))
</span><span class="hs-identifier hs-var">pfix</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#$</span></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><span class="hs-identifier hs-var">plam</span></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
  -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; (Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236574"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679236574"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679236575"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236575"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679236576"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236576"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span id="local-6989586621679236577"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236577"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont
  s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-704"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679236578"><span class="annot"><span class="annottext">zipMergeRec :: Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679236578"><span class="hs-identifier hs-var hs-var">zipMergeRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679236573"><span class="hs-identifier hs-var">zipMerge'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679236574"><span class="hs-identifier hs-var">self</span></a></span><span>
</span><span id="line-705"></span><span>        </span><span id="local-6989586621679236579"><span class="annot"><span class="annottext">xs :: Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236579"><span class="hs-identifier hs-var hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236575"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236576"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-706"></span><span>    </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">pmatch</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236577"><span class="hs-identifier hs-var">ys</span></a></span><span> </span><span class="annot"><span class="annottext">((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-707"></span><span>      </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
</span><span class="hs-identifier hs-var">PNil</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-708"></span><span>        </span><span class="hs-comment">-- picking handler for presence of x-side only</span><span>
</span><span id="line-709"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236572"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-710"></span><span>          </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.Api.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><span class="hs-identifier hs-var">pcon</span></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: PType) (s :: S). PBuiltinList a s
</span><span class="hs-identifier hs-var">PNil</span></span><span>
</span><span id="line-711"></span><span>          </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.Api.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236575"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236576"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-712"></span><span>          </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679236580"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679236580"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-713"></span><span>            </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: PType -&gt; PType) (a :: PType) (b :: PType) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><span class="hs-identifier hs-var">List.pmap</span></span><span class="hs-cpp">
              # plam
</span><span>                </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">pair</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-716"></span><span>                    </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pfstBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-717"></span><span>                      </span><span class="hs-identifier">ppairDataBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">handler</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">psndBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span>
</span><span id="line-718"></span><span>                </span><span class="hs-special">)</span><span class="hs-cpp">
              # xs
</span><span>      </span><span class="annot"><span class="hs-identifier hs-type">PCons</span></span><span> </span><span id="local-6989586621679236583"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236583"><span class="hs-identifier hs-var">y1</span></a></span></span><span> </span><span id="local-6989586621679236584"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236584"><span class="hs-identifier hs-var">ys'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont
  s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). TermCont s (Term s a) -&gt; Term s a
</span><span class="hs-identifier hs-var">unTermCont</span></span><span> </span><span class="annot"><span class="annottext">(TermCont
   s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-721"></span><span>        </span><span id="local-6989586621679236585"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236585"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v)))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PBuiltinPair (PAsData k) (PAsData v))
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; ((Term s (PBuiltinPair (PAsData k) (PAsData v))
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236583"><span class="hs-identifier hs-var">y1</span></a></span><span>
</span><span id="line-722"></span><span>        </span><span id="local-6989586621679236586"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236586"><span class="hs-identifier hs-var">xk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData k)
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PAsData k)))
-&gt; ((Term s (PAsData k)
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData k)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236575"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-723"></span><span>        </span><span id="local-6989586621679236587"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236587"><span class="hs-identifier hs-var">yk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont s a
</span><span class="hs-identifier hs-var">tcont</span></span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData k)
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont s (Term s (PAsData k)))
-&gt; ((Term s (PAsData k)
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont s (Term s (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData k)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><span class="hs-identifier hs-var">plet</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><span class="hs-identifier hs-var">pfstBuiltin</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236585"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-724"></span><span>        </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a. a -&gt; TermCont s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-725"></span><span>          </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-726"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236586"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#==</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236587"><span class="hs-identifier hs-var">yk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-727"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236571"><span class="hs-identifier hs-var">bothPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-728"></span><span>                </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.Api.AssocMap.html#DropBothCommutative"><span class="hs-identifier hs-var">DropBothCommutative</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679236578"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236576"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236584"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-729"></span><span>                </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-type">HandleBothCommutative</span></a></span><span> </span><span id="local-6989586621679236588"><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData v)
    -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v)))
</span><a href="#local-6989586621679236588"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-730"></span><span>                  </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                    # ( ppairDataBuiltin
</span><span class="hs-cpp">                          # xk
</span><span class="hs-cpp">                          #$ merge xk (psndBuiltin # x) (psndBuiltin # y)
</span><span>                      </span><span class="hs-special">)</span><span class="hs-cpp">
                    #$ zipMergeRec
</span><span class="hs-cpp">                    # xs'
</span><span class="hs-cpp">                    # ys'
</span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-739"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><span class="hs-identifier hs-var">pif</span></span><span>
</span><span id="line-740"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236586"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><span class="hs-operator hs-var">#&lt;</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236587"><span class="hs-identifier hs-var">yk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-741"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236572"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-742"></span><span>                    </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.Api.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679236574"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236585"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236584"><span class="hs-identifier hs-var">ys'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236576"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-743"></span><span>                    </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.Api.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236575"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679236578"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236576"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236577"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-744"></span><span>                    </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679236589"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679236589"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-745"></span><span>                      </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                        # (ppairDataBuiltin # xk # handler xk (psndBuiltin # x))
</span><span class="hs-cpp">                        # (self # y # ys' # xs')
</span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-749"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="#local-6989586621679236572"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-750"></span><span>                    </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.Api.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679236574"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236575"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236576"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236584"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-751"></span><span>                    </span><span class="annot"><span class="annottext">OnePresentHandler_ (-&gt;) (Term s (PAsData k)) (Term s (PAsData v))
</span><a href="Plutarch.Api.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679236585"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679236578"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236584"><span class="hs-identifier hs-var">ys'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679236579"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-752"></span><span>                    </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679236590"><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))
</span><a href="#local-6989586621679236590"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-753"></span><span>                      </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><span class="hs-identifier hs-var">pcons</span></span><span class="hs-cpp">
                        # (ppairDataBuiltin # yk # handler yk (psndBuiltin # y))
</span><span class="hs-cpp">                        # (self # x # xs' # ys')
</span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-757"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-758"></span><span>
</span><span id="line-759"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#bothPresentOnData"><span class="hs-identifier hs-type">bothPresentOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-760"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235435"><span class="annot"><a href="#local-6989586621679235435"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235433"><span class="annot"><a href="#local-6989586621679235433"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235434"><span class="annot"><a href="#local-6989586621679235434"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-761"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235433"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235434"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-762"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#BothPresentHandler"><span class="hs-identifier hs-type">BothPresentHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235433"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235434"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235435"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-763"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#BothPresentHandler"><span class="hs-identifier hs-type">BothPresentHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235433"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235434"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679235435"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-764"></span><span id="bothPresentOnData"><span class="annot"><span class="annottext">bothPresentOnData :: forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
BothPresentHandler k v s
-&gt; BothPresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.AssocMap.html#bothPresentOnData"><span class="hs-identifier hs-var hs-var">bothPresentOnData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-765"></span><span>  </span><span class="annot"><span class="annottext">BothPresentHandler k v s
</span><a href="Plutarch.Api.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BothPresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v. BothPresentHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span><span>
</span><span id="line-766"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#PassArg"><span class="hs-identifier hs-type">PassArg</span></a></span><span> </span><span id="local-6989586621679236597"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679236597"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; BothPresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
Bool -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#PassArg"><span class="hs-identifier hs-var">PassArg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679236597"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-767"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#HandleBoth"><span class="hs-identifier hs-type">HandleBoth</span></a></span><span> </span><span id="local-6989586621679236598"><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v))
</span><a href="#local-6989586621679236598"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k)
 -&gt; (Term s (PAsData v)
     -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))))
-&gt; BothPresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236599"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236599"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679236600"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679236600"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679236601"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679236601"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s (PAsData v)) -&gt; Term s v -&gt; Term s (PAsData v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v))
</span><a href="#local-6989586621679236598"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236599"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679236600"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679236601"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-768"></span><span>
</span><span id="line-769"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-type">onePresentOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-770"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235439"><span class="annot"><a href="#local-6989586621679235439"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235437"><span class="annot"><a href="#local-6989586621679235437"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235438"><span class="annot"><a href="#local-6989586621679235438"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-771"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235437"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235438"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-772"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-type">OnePresentHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235437"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235438"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235439"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-773"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-type">OnePresentHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235437"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235438"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679235439"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-774"></span><span id="onePresentOnData"><span class="annot"><span class="annottext">onePresentOnData :: forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
OnePresentHandler k v s
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-var hs-var">onePresentOnData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-775"></span><span>  </span><span class="annot"><span class="annottext">OnePresentHandler k v s
</span><a href="Plutarch.Api.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span>
</span><span id="line-776"></span><span>  </span><span class="annot"><span class="annottext">OnePresentHandler k v s
</span><a href="Plutarch.Api.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span>
</span><span id="line-777"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679236607"><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; Term s v)
</span><a href="#local-6989586621679236607"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v)))
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v v) -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.Api.AssocMap.html#HandleOne"><span class="hs-identifier hs-var">HandleOne</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236608"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236608"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679236609"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679236609"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s (PAsData v)) -&gt; Term s v -&gt; Term s (PAsData v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; Term s v)
</span><a href="#local-6989586621679236607"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236608"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679236609"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-778"></span><span>
</span><span id="line-779"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#bothPresentCommutativeOnData"><span class="hs-identifier hs-type">bothPresentCommutativeOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-780"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235445"><span class="annot"><a href="#local-6989586621679235445"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235443"><span class="annot"><a href="#local-6989586621679235443"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235444"><span class="annot"><a href="#local-6989586621679235444"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-781"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235443"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PIsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235444"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-782"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#BothPresentHandlerCommutative"><span class="hs-identifier hs-type">BothPresentHandlerCommutative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235443"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235444"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235445"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-783"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#BothPresentHandlerCommutative"><span class="hs-identifier hs-type">BothPresentHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235443"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PAsData</span></span><span> </span><span class="annot"><a href="#local-6989586621679235444"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679235445"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-784"></span><span id="bothPresentCommutativeOnData"><span class="annot"><span class="annottext">bothPresentCommutativeOnData :: forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
BothPresentHandlerCommutative k v s
-&gt; BothPresentHandlerCommutative (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.AssocMap.html#bothPresentCommutativeOnData"><span class="hs-identifier hs-var hs-var">bothPresentCommutativeOnData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-785"></span><span>  </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative k v s
</span><a href="Plutarch.Api.AssocMap.html#DropBothCommutative"><span class="hs-identifier hs-var">DropBothCommutative</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.Api.AssocMap.html#DropBothCommutative"><span class="hs-identifier hs-var">DropBothCommutative</span></a></span><span>
</span><span id="line-786"></span><span>  </span><span class="annot"><a href="Plutarch.Api.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-type">HandleBothCommutative</span></a></span><span> </span><span id="local-6989586621679236616"><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v))
</span><a href="#local-6989586621679236616"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-787"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData k)
 -&gt; (Term s (PAsData v)
     -&gt; (Term s (PAsData v) -&gt; Term s (PAsData v))))
-&gt; BothPresentHandlerCommutative (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.Api.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-var">HandleBothCommutative</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679236617"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236617"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679236618"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679236618"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679236619"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679236619"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><span class="hs-identifier hs-var">pdata</span></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s (PAsData v)) -&gt; Term s v -&gt; Term s (PAsData v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; (Term s v -&gt; (Term s v -&gt; Term s v))
</span><a href="#local-6989586621679236616"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679236617"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679236618"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><span class="hs-identifier hs-var">pfromData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679236619"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-788"></span><span>
</span><span id="line-789"></span><span class="annot"><span class="hs-comment">-- | Apply given Plutarch fun with given reified (on Haskell-level) arg order.</span></span><span>
</span><span id="line-790"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#applyOrder"><span class="hs-identifier hs-type">applyOrder</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-791"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235458"><span class="annot"><a href="#local-6989586621679235458"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235459"><span class="annot"><a href="#local-6989586621679235459"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235460"><span class="annot"><a href="#local-6989586621679235460"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PType</span></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-792"></span><span>  </span><span class="annot"><span class="hs-comment">-- | 'PSTrue' means first arg is left, second arg is right.</span></span><span>
</span><span id="line-793"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PSBool</span></span><span> </span><span class="annot"><a href="#local-6989586621679235458"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-794"></span><span>  </span><span class="annot"><span class="hs-comment">-- | A function that expects argument order 'left right'.</span></span><span>
</span><span id="line-795"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679235458"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235459"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679235459"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">:--&gt;</span></span><span> </span><span class="annot"><a href="#local-6989586621679235460"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-796"></span><span>  </span><span class="annot"><span class="hs-comment">-- | First arg.</span></span><span>
</span><span id="line-797"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679235458"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235459"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-798"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Second arg.</span></span><span>
</span><span id="line-799"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679235458"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235459"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-800"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Term</span></span><span> </span><span class="annot"><a href="#local-6989586621679235458"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679235460"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-801"></span><span id="applyOrder"><span class="annot"><span class="annottext">applyOrder :: forall (s :: S) (a :: PType) (b :: PType).
PSBool s
-&gt; Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Api.AssocMap.html#applyOrder"><span class="hs-identifier hs-var hs-var">applyOrder</span></a></span></span><span> </span><span id="local-6989586621679236620"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679236620"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span id="local-6989586621679236621"><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b))
</span><a href="#local-6989586621679236621"><span class="hs-identifier hs-var">pfun</span></a></span></span><span> </span><span id="local-6989586621679236622"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679236622"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679236623"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679236623"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PSBool s -&gt; Term s b -&gt; Term s b -&gt; Term s b
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.Api.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679236620"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b))
</span><a href="#local-6989586621679236621"><span class="hs-identifier hs-var">pfun</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s (a :--&gt; b)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679236622"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679236623"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b))
</span><a href="#local-6989586621679236621"><span class="hs-identifier hs-var">pfun</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s (a :--&gt; b)
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679236623"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
forall (s :: S) (a :: PType) (b :: PType).
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><span class="hs-operator hs-var">#</span></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679236622"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-802"></span><span>
</span><span id="line-803"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#branchOrder"><span class="hs-identifier hs-type">branchOrder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235461"><span class="annot"><a href="#local-6989586621679235461"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235462"><span class="annot"><a href="#local-6989586621679235462"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PSBool</span></span><span> </span><span class="annot"><a href="#local-6989586621679235461"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679235462"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679235462"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679235462"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-804"></span><span id="branchOrder"><span class="annot"><span class="annottext">branchOrder :: forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.Api.AssocMap.html#branchOrder"><span class="hs-identifier hs-var hs-var">branchOrder</span></a></span></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><span class="hs-identifier hs-var">PSTrue</span></span><span> </span><span id="local-6989586621679236624"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679236624"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679236624"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-805"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><span class="hs-identifier hs-var">PSFalse</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679236625"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679236625"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679236625"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-806"></span><span>
</span><span id="line-807"></span><span class="annot"><a href="Plutarch.Api.AssocMap.html#applyOrder%27"><span class="hs-identifier hs-type">applyOrder'</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-808"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235464"><span class="annot"><a href="#local-6989586621679235464"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235465"><span class="annot"><a href="#local-6989586621679235465"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679235466"><span class="annot"><a href="#local-6989586621679235466"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-809"></span><span>  </span><span class="annot"><span class="hs-comment">-- | 'PSTrue' means first arg is left, second arg is right.</span></span><span>
</span><span id="line-810"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PSBool</span></span><span> </span><span class="annot"><a href="#local-6989586621679235464"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-811"></span><span>  </span><span class="annot"><span class="hs-comment">-- | A function that expects argument order 'left right'.</span></span><span>
</span><span id="line-812"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679235465"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679235465"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679235466"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-813"></span><span>  </span><span class="annot"><span class="hs-comment">-- | First arg.</span></span><span>
</span><span id="line-814"></span><span>  </span><span class="annot"><a href="#local-6989586621679235465"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-815"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Second arg.</span></span><span>
</span><span id="line-816"></span><span>  </span><span class="annot"><a href="#local-6989586621679235465"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-817"></span><span>  </span><span class="annot"><a href="#local-6989586621679235466"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-818"></span><span id="applyOrder%27"><span class="annot"><span class="annottext">applyOrder' :: forall (s :: S) a b. PSBool s -&gt; (a -&gt; a -&gt; b) -&gt; a -&gt; a -&gt; b
</span><a href="Plutarch.Api.AssocMap.html#applyOrder%27"><span class="hs-identifier hs-var hs-var">applyOrder'</span></a></span></span><span> </span><span id="local-6989586621679236626"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679236626"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span id="local-6989586621679236627"><span class="annot"><span class="annottext">a -&gt; a -&gt; b
</span><a href="#local-6989586621679236627"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span id="local-6989586621679236628"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679236628"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679236629"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679236629"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PSBool s -&gt; b -&gt; b -&gt; b
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.Api.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679236626"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; b
</span><a href="#local-6989586621679236627"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679236628"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679236629"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; b
</span><a href="#local-6989586621679236627"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679236629"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679236628"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-819"></span></pre></body></html>