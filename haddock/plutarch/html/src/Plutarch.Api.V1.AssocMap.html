<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-orphans #-}</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutarch.Api.V1.AssocMap</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-6"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier">PMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier">PMap</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#KeyGuarantees"><span class="hs-identifier">KeyGuarantees</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Unsorted"><span class="hs-identifier">Unsorted</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier">Sorted</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Creation</span></span><span>
</span><span id="line-10"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pempty"><span class="hs-identifier">pempty</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#psingleton"><span class="hs-identifier">psingleton</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#psingletonData"><span class="hs-identifier">psingletonData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pinsert"><span class="hs-identifier">pinsert</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pinsertData"><span class="hs-identifier">pinsertData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pdelete"><span class="hs-identifier">pdelete</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pfromAscList"><span class="hs-identifier">pfromAscList</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#passertSorted"><span class="hs-identifier">passertSorted</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pforgetSorted"><span class="hs-identifier">pforgetSorted</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Lookups</span></span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#plookup"><span class="hs-identifier">plookup</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#plookupData"><span class="hs-identifier">plookupData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pfindWithDefault"><span class="hs-identifier">pfindWithDefault</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pfoldAt"><span class="hs-identifier">pfoldAt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pnull"><span class="hs-identifier">pnull</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Folds</span></span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pall"><span class="hs-identifier">pall</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pany"><span class="hs-identifier">pany</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Filters and traversals</span></span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pfilter"><span class="hs-identifier">pfilter</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pmap"><span class="hs-identifier">pmap</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pmapData"><span class="hs-identifier">pmapData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pmapMaybe"><span class="hs-identifier">pmapMaybe</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pmapMaybeData"><span class="hs-identifier">pmapMaybeData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Combining</span></span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandler"><span class="hs-identifier">BothPresentHandler</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandler_"><span class="hs-identifier">BothPresentHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandlerCommutative"><span class="hs-identifier">BothPresentHandlerCommutative</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandlerCommutative_"><span class="hs-identifier">BothPresentHandlerCommutative_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#OnePresentHandler"><span class="hs-identifier">OnePresentHandler</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#OnePresentHandler_"><span class="hs-identifier">OnePresentHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler"><span class="hs-identifier">MergeHandler</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler_"><span class="hs-identifier">MergeHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier">MergeHandlerCommutative</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative_"><span class="hs-identifier">MergeHandlerCommutative_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler"><span class="hs-identifier">SomeMergeHandler</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler_"><span class="hs-identifier">SomeMergeHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Commutativity"><span class="hs-identifier">Commutativity</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pzipWith"><span class="hs-identifier">pzipWith</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pzipWithData"><span class="hs-identifier">pzipWithData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pzipWithDefault"><span class="hs-identifier">pzipWithDefault</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pzipWithDataDefault"><span class="hs-identifier">pzipWithDataDefault</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pzipWithDefaults"><span class="hs-identifier">pzipWithDefaults</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pzipWithDataDefaults"><span class="hs-identifier">pzipWithDataDefaults</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pintersectionWith"><span class="hs-identifier">pintersectionWith</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pintersectionWithData"><span class="hs-identifier">pintersectionWithData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pleftBiasedUnion"><span class="hs-identifier">pleftBiasedUnion</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#punionResolvingCollisionsWith"><span class="hs-identifier">punionResolvingCollisionsWith</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#punionResolvingCollisionsWithData"><span class="hs-identifier">punionResolvingCollisionsWithData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pdifference"><span class="hs-identifier">pdifference</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#punsortedDifference"><span class="hs-identifier">punsortedDifference</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Partial order operations</span></span><span>
</span><span id="line-67"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pcheckBinRel"><span class="hs-identifier">pcheckBinRel</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusLedgerApi.V1</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Plutus</span></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.AssocMap</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PlutusMap</span></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.Monoid</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx</span></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx.Semigroup</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx</span></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html"><span class="hs-identifier">Plutarch.Builtin</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-76"></span><span>  </span><span class="annot"><a href="Plutarch.Builtin.html#pasMap"><span class="hs-identifier">pasMap</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>  </span><span class="annot"><a href="Plutarch.Builtin.html#pdataImpl"><span class="hs-identifier">pdataImpl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>  </span><span class="annot"><a href="Plutarch.Builtin.html#pforgetData"><span class="hs-identifier">pforgetData</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>  </span><span class="annot"><a href="Plutarch.Builtin.html#pfromDataImpl"><span class="hs-identifier">pfromDataImpl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-80"></span><span>  </span><span class="annot"><a href="Plutarch.Builtin.html#ppairDataBuiltin"><span class="hs-identifier">ppairDataBuiltin</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-81"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Internal.html"><span class="hs-identifier">Plutarch.Internal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#punsafeBuiltin"><span class="hs-identifier">punsafeBuiltin</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Internal.Witness.html"><span class="hs-identifier">Plutarch.Internal.Witness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Witness.html#witness"><span class="hs-identifier">witness</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Lift.html"><span class="hs-identifier">Plutarch.Lift</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-85"></span><span>  </span><span class="annot"><a href="Plutarch.Lift.html#PConstantDecl"><span class="hs-identifier">PConstantDecl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-86"></span><span>  </span><span class="annot"><a href="Plutarch.Lift.html#PConstantRepr"><span class="hs-identifier">PConstantRepr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-87"></span><span>  </span><span class="annot"><a href="Plutarch.Lift.html#PConstanted"><span class="hs-identifier">PConstanted</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-88"></span><span>  </span><span class="annot"><a href="Plutarch.Lift.html#PLifted"><span class="hs-identifier">PLifted</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-89"></span><span>  </span><span class="annot"><a href="Plutarch.Lift.html#PUnsafeLiftDecl"><span class="hs-identifier">PUnsafeLiftDecl</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-90"></span><span>  </span><span class="annot"><a href="Plutarch.Lift.html#pconstantFromRepr"><span class="hs-identifier">pconstantFromRepr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-91"></span><span>  </span><span class="annot"><a href="Plutarch.Lift.html#pconstantToRepr"><span class="hs-identifier">pconstantToRepr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-92"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.List.html"><span class="hs-identifier">Plutarch.List</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">List</span></span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Prelude.html"><span class="hs-identifier">Plutarch.Prelude</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.List.html#pall"><span class="hs-identifier">pall</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.List.html#pany"><span class="hs-identifier">pany</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.List.html#pfilter"><span class="hs-identifier">pfilter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.List.html#pmap"><span class="hs-identifier">pmap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.List.html#pnull"><span class="hs-identifier">pnull</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.List.html#psingleton"><span class="hs-identifier">psingleton</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.List.html#pzipWith"><span class="hs-identifier">pzipWith</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Prelude.html"><span class="hs-identifier">Plutarch.Prelude</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PPrelude</span></span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.TryFrom.html"><span class="hs-identifier">Plutarch.TryFrom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.TryFrom.html#PTryFrom"><span class="hs-identifier">PTryFrom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.TryFrom.html#PTryFromExcess"><span class="hs-identifier">PTryFromExcess</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.TryFrom.html#ptryFrom%27"><span class="hs-identifier">ptryFrom'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Unsafe.html"><span class="hs-identifier">Plutarch.Unsafe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#punsafeCoerce"><span class="hs-identifier">punsafeCoerce</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Unsafe.html#punsafeDowncast"><span class="hs-identifier">punsafeDowncast</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusCore</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PLC</span></span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Foldable.html"><span class="hs-identifier">Data.Foldable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Foldable.html#foldl%27"><span class="hs-identifier">foldl'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Exts.html"><span class="hs-identifier">GHC.Exts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IsList.html#IsList"><span class="hs-identifier">IsList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IsList.html#Item"><span class="hs-identifier">Item</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IsList.html#fromList"><span class="hs-identifier">fromList</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IsList.html#toList"><span class="hs-identifier">toList</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Foldable.html#all"><span class="hs-identifier">all</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Foldable.html#any"><span class="hs-identifier">any</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.List.html#filter"><span class="hs-identifier">filter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.List.html#lookup"><span class="hs-identifier">lookup</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Foldable.html#null"><span class="hs-identifier">null</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Proxy.html"><span class="hs-identifier">Data.Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Proxy.html#Proxy"><span class="hs-identifier">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Proxy.html#Proxy"><span class="hs-identifier">Proxy</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Traversable.html"><span class="hs-identifier">Data.Traversable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Traversable.html#for"><span class="hs-identifier">for</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Bifunctor.html"><span class="hs-identifier">Data.Bifunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Bifunctor.html#bimap"><span class="hs-identifier">bimap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Bool.html"><span class="hs-identifier">Plutarch.Bool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#PSBool"><span class="hs-identifier">PSBool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#PSFalse"><span class="hs-identifier">PSFalse</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Bool.html#PSTrue"><span class="hs-identifier">PSTrue</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Bool.html#psfalse"><span class="hs-identifier">psfalse</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Bool.html#pstrue"><span class="hs-identifier">pstrue</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-keyword">data</span><span> </span><span id="KeyGuarantees"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-var">KeyGuarantees</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Sorted"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-var">Sorted</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Unsorted"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Unsorted"><span class="hs-identifier hs-var">Unsorted</span></a></span></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-keyword">type</span><span> </span><span id="PBuiltinListOfPairs"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PBuiltinListOfPairs"><span class="hs-identifier hs-var">PBuiltinListOfPairs</span></a></span></span><span> </span><span id="local-6989586621679923240"><span class="annot"><a href="#local-6989586621679923240"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679923241"><span class="annot"><a href="#local-6989586621679923241"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923240"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923241"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-keyword">newtype</span><span> </span><span id="Flip"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Flip"><span class="hs-identifier hs-var">Flip</span></a></span></span><span> </span><span id="local-6989586621679923242"><span class="annot"><a href="#local-6989586621679923242"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679923243"><span class="annot"><a href="#local-6989586621679923243"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679923244"><span class="annot"><a href="#local-6989586621679923244"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Flip"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Flip"><span class="hs-identifier hs-var">Flip</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679923242"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923244"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923243"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923247"><span id="local-6989586621679923249"><span class="annot"><span class="annottext">(forall x. Flip @k @k f a b -&gt; Rep (Flip @k @k f a b) x)
-&gt; (forall x. Rep (Flip @k @k f a b) x -&gt; Flip @k @k f a b)
-&gt; Generic (Flip @k @k f a b)
forall x. Rep (Flip @k @k f a b) x -&gt; Flip @k @k f a b
forall x. Flip @k @k f a b -&gt; Rep (Flip @k @k f a b) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall k k (f :: k -&gt; k -&gt; Type) (a :: k) (b :: k) x.
Rep (Flip @k @k f a b) x -&gt; Flip @k @k f a b
forall k k (f :: k -&gt; k -&gt; Type) (a :: k) (b :: k) x.
Flip @k @k f a b -&gt; Rep (Flip @k @k f a b) x
$cfrom :: forall k k (f :: k -&gt; k -&gt; Type) (a :: k) (b :: k) x.
Flip @k @k f a b -&gt; Rep (Flip @k @k f a b) x
from :: forall x. Flip @k @k f a b -&gt; Rep (Flip @k @k f a b) x
$cto :: forall k k (f :: k -&gt; k -&gt; Type) (a :: k) (b :: k) x.
Rep (Flip @k @k f a b) x -&gt; Flip @k @k f a b
to :: forall x. Rep (Flip @k @k f a b) x -&gt; Flip @k @k f a b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">role</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><span class="hs-identifier">nominal</span></span><span> </span><span class="annot"><span class="hs-identifier">nominal</span></span><span> </span><span class="annot"><span class="hs-identifier">nominal</span></span><span> </span><span class="annot"><span class="hs-identifier">nominal</span></span><span>
</span><span id="line-117"></span><span class="hs-keyword">newtype</span><span> </span><span id="PMap"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922504"><span class="annot"><a href="#local-6989586621679922504"><span class="hs-identifier hs-type">keysort</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#KeyGuarantees"><span class="hs-identifier hs-type">KeyGuarantees</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922502"><span class="annot"><a href="#local-6989586621679922502"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922503"><span class="annot"><a href="#local-6989586621679922503"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922501"><span class="annot"><a href="#local-6989586621679922501"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PMap"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922501"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922502"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922503"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923253"><span id="local-6989586621679923255"><span class="annot"><span class="annottext">(forall x. PMap keysort k v s -&gt; Rep (PMap keysort k v s) x)
-&gt; (forall x. Rep (PMap keysort k v s) x -&gt; PMap keysort k v s)
-&gt; Generic (PMap keysort k v s)
forall x. Rep (PMap keysort k v s) x -&gt; PMap keysort k v s
forall x. PMap keysort k v s -&gt; Rep (PMap keysort k v s) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) x.
Rep (PMap keysort k v s) x -&gt; PMap keysort k v s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) x.
PMap keysort k v s -&gt; Rep (PMap keysort k v s) x
$cfrom :: forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) x.
PMap keysort k v s -&gt; Rep (PMap keysort k v s) x
from :: forall x. PMap keysort k v s -&gt; Rep (PMap keysort k v s) x
$cto :: forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) x.
Rep (PMap keysort k v s) x -&gt; PMap keysort k v s
to :: forall x. Rep (PMap keysort k v s) x -&gt; PMap keysort k v s
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923258"><span id="local-6989586621679923264"><span class="annot"><span class="annottext">(forall (s :: S).
 PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v)))
-&gt; (forall (s :: S) (b :: PType).
    Term s (PInner (PMap keysort k v))
    -&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType (PMap keysort k v)
forall (s :: S).
PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v))
forall (s :: S) (b :: PType).
Term s (PInner (PMap keysort k v))
-&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v))
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) (b :: PType).
Term s (PInner (PMap keysort k v))
-&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b
forall (a :: PType).
(forall (s :: S). a s -&gt; Term s (PInner a))
-&gt; (forall (s :: S) (b :: PType).
    Term s (PInner a) -&gt; (a s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType a
$cpcon' :: forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v))
pcon' :: forall (s :: S).
PMap keysort k v s -&gt; Term s (PInner (PMap keysort k v))
$cpmatch' :: forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S) (b :: PType).
Term s (PInner (PMap keysort k v))
-&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b
pmatch' :: forall (s :: S) (b :: PType).
Term s (PInner (PMap keysort k v))
-&gt; (PMap keysort k v s -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.PlutusType.html#PlutusType"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PlutusType</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679923273"><span class="annot"><span class="annottext">(forall (s :: S).
 Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString)
-&gt; PShow (PMap keysort k v)
forall (s :: S).
Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
(PIsData k, PIsData v, PShow k, PShow v) =&gt;
Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString
forall (t :: PType).
(forall (s :: S). Bool -&gt; Term s t -&gt; Term s PString) -&gt; PShow t
$cpshow' :: forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
(PIsData k, PIsData v, PShow k, PShow v) =&gt;
Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString
pshow' :: forall (s :: S).
Bool -&gt; Term s (PMap keysort k v) -&gt; Term s PString
</span><a href="Plutarch.Show.html#PShow"><span class="hs-identifier hs-var hs-var hs-var hs-var">PShow</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679922280"><span id="local-6989586621679922281"><span id="local-6989586621679922282"><span class="annot"><a href="Plutarch.Internal.PlutusType.html#DerivePlutusType"><span class="hs-identifier hs-type">DerivePlutusType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922280"><span class="hs-identifier hs-type">keysort</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922281"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922282"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span> </span><span class="hs-keyword">type</span><span> </span><span id="DPTStrat"><span class="annot"><a href="Plutarch.Internal.PlutusType.html#DPTStrat"><span class="hs-identifier hs-var">DPTStrat</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Internal.Newtype.html#PlutusTypeNewtype"><span class="hs-identifier hs-type">PlutusTypeNewtype</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679922344"><span id="local-6989586621679922345"><span id="local-6989586621679922346"><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922344"><span class="hs-identifier hs-type">keysort</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922345"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922346"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-123"></span><span>  </span><span id="local-6989586621679923324"><span class="annot"><span class="annottext">pfromDataImpl :: forall (s :: S).
Term s (PAsData (PMap keysort k v)) -&gt; Term s (PMap keysort k v)
</span><a href="Plutarch.Builtin.html#pfromDataImpl"><span class="hs-identifier hs-var hs-var hs-var hs-var">pfromDataImpl</span></a></span></span><span> </span><span id="local-6989586621679923325"><span class="annot"><span class="annottext">Term s (PAsData (PMap keysort k v))
</span><a href="#local-6989586621679923325"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s (PMap keysort k v)
forall (s :: S) (a :: PType) (b :: PType). Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#punsafeCoerce"><span class="hs-identifier hs-var">punsafeCoerce</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair PData PData))
 -&gt; Term s (PMap keysort k v))
-&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s (PMap keysort k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
forall (s :: S).
Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
</span><a href="Plutarch.Builtin.html#pasMap"><span class="hs-identifier hs-var">pasMap</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s PData -&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap keysort k v)) -&gt; Term s PData
forall (s :: S) (a :: PType). Term s (PAsData a) -&gt; Term s PData
</span><a href="Plutarch.Builtin.html#pforgetData"><span class="hs-identifier hs-var">pforgetData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap keysort k v))
</span><a href="#local-6989586621679923325"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-124"></span><span>  </span><span id="local-6989586621679923329"><span class="annot"><span class="annottext">pdataImpl :: forall (s :: S). Term s (PMap keysort k v) -&gt; Term s PData
</span><a href="Plutarch.Builtin.html#pdataImpl"><span class="hs-identifier hs-var hs-var hs-var hs-var">pdataImpl</span></a></span></span><span> </span><span id="local-6989586621679923330"><span class="annot"><span class="annottext">Term s (PMap keysort k v)
</span><a href="#local-6989586621679923330"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefaultFun -&gt; Term s (PMap keysort k v :--&gt; PData)
forall (s :: S) (a :: PType). DefaultFun -&gt; Term s a
</span><a href="Plutarch.Internal.html#punsafeBuiltin"><span class="hs-identifier hs-var">punsafeBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">DefaultFun
</span><span class="hs-identifier hs-var">PLC.MapData</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap keysort k v :--&gt; PData)
-&gt; Term s (PMap keysort k v) -&gt; Term s PData
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap keysort k v)
</span><a href="#local-6989586621679923330"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679922373"><span id="local-6989586621679922374"><span class="annot"><a href="Plutarch.Bool.html#PEq"><span class="hs-identifier hs-type">PEq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922373"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922374"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-127"></span><span>  </span><span id="local-6989586621679923339"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679923339"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679923340"><span class="annot"><span class="annottext">#== :: forall (s :: S).
Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool
</span><a href="#local-6989586621679923340"><span class="hs-operator hs-var hs-var hs-var hs-var">#==</span></a></span></span><span> </span><span id="local-6989586621679923342"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679923342"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall (s :: S).
Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
</span><a href="#local-6989586621679923343"><span class="hs-identifier hs-var">peqViaData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679923339"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v :--&gt; PBool)
-&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679923342"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-128"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-129"></span><span>      </span><span id="local-6989586621679922376"><span class="annot"><a href="#local-6989586621679923343"><span class="hs-identifier hs-type">peqViaData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922376"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922373"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922374"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922373"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922374"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Bool.html#PBool"><span class="hs-identifier hs-type">PBool</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-130"></span><span>      </span><span id="local-6989586621679923343"><span class="annot"><span class="annottext">peqViaData :: forall (s :: S).
Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
</span><a href="#local-6989586621679923343"><span class="hs-identifier hs-var hs-var">peqViaData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (s :: S).
 Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
-&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">((forall (s :: S).
  Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
 -&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
-&gt; (forall (s :: S).
    Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
-&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool)
-&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool)
-&gt; Term s (c :--&gt; (PMap 'Sorted k v :--&gt; PBool))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool)
 -&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v) -&gt; Term s PBool)
-&gt; Term s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679923360"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679923360"><span class="hs-identifier hs-var">m0</span></a></span></span><span> </span><span id="local-6989586621679923361"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679923361"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PAsData (PMap 'Sorted k v))
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><a href="Plutarch.Builtin.html#pdata"><span class="hs-identifier hs-var">pdata</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679923360"><span class="hs-identifier hs-var">m0</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap 'Sorted k v))
-&gt; Term s (PAsData (PMap 'Sorted k v)) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData (PMap 'Sorted k v))
-&gt; Term s (PAsData (PMap 'Sorted k v)) -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><a href="Plutarch.Bool.html#%23%3D%3D"><span class="hs-operator hs-var">#==</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PAsData (PMap 'Sorted k v))
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><a href="Plutarch.Builtin.html#pdata"><span class="hs-identifier hs-var">pdata</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679923361"><span class="hs-identifier hs-var">m1</span></a></span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-133"></span><span>  </span><span id="local-6989586621679922414"><span id="local-6989586621679922415"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.DataRepr.Internal.html#PLiftData"><span class="hs-identifier hs-type">PLiftData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922414"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.DataRepr.Internal.html#PLiftData"><span class="hs-identifier hs-type">PLiftData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922415"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Lift.html#PLifted"><span class="hs-identifier hs-type">PLifted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922414"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-137"></span><span>  </span><span class="annot"><a href="Plutarch.Lift.html#PUnsafeLiftDecl"><span class="hs-identifier hs-type">PUnsafeLiftDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922414"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922415"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-138"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PLifted"><span class="annot"><a href="Plutarch.Lift.html#PLifted"><span class="hs-identifier hs-var">PLifted</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922414"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922415"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusMap.Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Lift.html#PLifted"><span class="hs-identifier hs-type">PLifted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922414"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Lift.html#PLifted"><span class="hs-identifier hs-type">PLifted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922415"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-142"></span><span>  </span><span id="local-6989586621679922412"><span id="local-6989586621679922413"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.DataRepr.Internal.html#PConstantData"><span class="hs-identifier hs-type">PConstantData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922412"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-143"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.DataRepr.Internal.html#PConstantData"><span class="hs-identifier hs-type">PConstantData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922413"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-144"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922412"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-145"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-146"></span><span>  </span><span class="annot"><a href="Plutarch.Lift.html#PConstantDecl"><span class="hs-identifier hs-type">PConstantDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PlutusMap.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679922412"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922413"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PConstantRepr"><span class="annot"><a href="Plutarch.Lift.html#PConstantRepr"><span class="hs-identifier hs-var">PConstantRepr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PlutusMap.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679922412"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922413"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Plutus.Data</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Plutus.Data</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PConstanted"><span class="annot"><a href="Plutarch.Lift.html#PConstanted"><span class="hs-identifier hs-var">PConstanted</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">PlutusMap.Map</span></span><span> </span><span class="annot"><a href="#local-6989586621679922412"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922413"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Lift.html#PConstanted"><span class="hs-identifier hs-type">PConstanted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922412"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Lift.html#PConstanted"><span class="hs-identifier hs-type">PConstanted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922413"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>  </span><span id="local-6989586621679923457"><span class="annot"><span class="annottext">pconstantToRepr :: Map k v -&gt; PConstantRepr (Map k v)
</span><a href="Plutarch.Lift.html#pconstantToRepr"><span class="hs-identifier hs-var hs-var hs-var hs-var">pconstantToRepr</span></a></span></span><span> </span><span id="local-6989586621679923458"><span class="annot"><span class="annottext">Map k v
</span><a href="#local-6989586621679923458"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(k -&gt; Data) -&gt; (v -&gt; Data) -&gt; (k, v) -&gt; (Data, Data)
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d) -&gt; (a, c) -&gt; (b, d)
forall (p :: Type -&gt; Type -&gt; Type) a b c d.
Bifunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p a c -&gt; p b d
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Bifunctor.html#bimap"><span class="hs-identifier hs-var">bimap</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; Data
forall a. ToData a =&gt; a -&gt; Data
</span><span class="hs-identifier hs-var">Plutus.toData</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; Data
forall a. ToData a =&gt; a -&gt; Data
</span><span class="hs-identifier hs-var">Plutus.toData</span></span><span> </span><span class="annot"><span class="annottext">((k, v) -&gt; (Data, Data)) -&gt; [(k, v)] -&gt; [(Data, Data)]
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Map k v -&gt; [(k, v)]
forall k v. Map k v -&gt; [(k, v)]
</span><span class="hs-identifier hs-var">PlutusMap.toList</span></span><span> </span><span class="annot"><span class="annottext">Map k v
</span><a href="#local-6989586621679923458"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-151"></span><span>  </span><span id="local-6989586621679923473"><span class="annot"><span class="annottext">pconstantFromRepr :: PConstantRepr (Map k v) -&gt; Maybe (Map k v)
</span><a href="Plutarch.Lift.html#pconstantFromRepr"><span class="hs-identifier hs-var hs-var hs-var hs-var">pconstantFromRepr</span></a></span></span><span> </span><span id="local-6989586621679923474"><span class="annot"><span class="annottext">PConstantRepr (Map k v)
</span><a href="#local-6989586621679923474"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([(k, v)] -&gt; Map k v) -&gt; Maybe [(k, v)] -&gt; Maybe (Map k v)
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: Type -&gt; Type) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">[(k, v)] -&gt; Map k v
forall k v. [(k, v)] -&gt; Map k v
</span><span class="hs-identifier hs-var">PlutusMap.fromList</span></span><span> </span><span class="annot"><span class="annottext">(Maybe [(k, v)] -&gt; Maybe (Map k v))
-&gt; Maybe [(k, v)] -&gt; Maybe (Map k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-152"></span><span>    </span><span class="annot"><span class="annottext">[(Data, Data)] -&gt; ((Data, Data) -&gt; Maybe (k, v)) -&gt; Maybe [(k, v)]
forall (t :: Type -&gt; Type) (f :: Type -&gt; Type) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Traversable.html#for"><span class="hs-identifier hs-var">for</span></a></span><span> </span><span class="annot"><span class="annottext">[(Data, Data)]
PConstantRepr (Map k v)
</span><a href="#local-6989586621679923474"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">(((Data, Data) -&gt; Maybe (k, v)) -&gt; Maybe [(k, v)])
-&gt; ((Data, Data) -&gt; Maybe (k, v)) -&gt; Maybe [(k, v)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679923476"><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679923476"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679923477"><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679923477"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-153"></span><span>      </span><span id="local-6989586621679923478"><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679923478"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Data -&gt; Maybe k
forall a. FromData a =&gt; Data -&gt; Maybe a
</span><span class="hs-identifier hs-var">Plutus.fromData</span></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679923476"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-154"></span><span>      </span><span id="local-6989586621679923480"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679923480"><span class="hs-identifier hs-var">y'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Data -&gt; Maybe v
forall a. FromData a =&gt; Data -&gt; Maybe a
</span><span class="hs-identifier hs-var">Plutus.fromData</span></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679923477"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-155"></span><span>      </span><span class="annot"><span class="annottext">(k, v) -&gt; Maybe (k, v)
forall a. a -&gt; Maybe a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679923478"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679923480"><span class="hs-identifier hs-var">y'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-158"></span><span>  </span><span id="local-6989586621679922469"><span id="local-6989586621679922470"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.TryFrom.html#PTryFrom"><span class="hs-identifier hs-type">PTryFrom</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PData"><span class="hs-identifier hs-type">PData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922469"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.TryFrom.html#PTryFrom"><span class="hs-identifier hs-type">PTryFrom</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PData"><span class="hs-identifier hs-type">PData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922470"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-161"></span><span>  </span><span class="annot"><a href="Plutarch.TryFrom.html#PTryFrom"><span class="hs-identifier hs-type">PTryFrom</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PData"><span class="hs-identifier hs-type">PData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922469"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922470"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PTryFromExcess"><span class="annot"><a href="Plutarch.TryFrom.html#PTryFromExcess"><span class="hs-identifier hs-var">PTryFromExcess</span></a></span></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PData"><span class="hs-identifier hs-type">PData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922469"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922470"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Flip"><span class="hs-identifier hs-type">Flip</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922469"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922470"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span>  </span><span id="local-6989586621679923517"><span class="annot"><span class="annottext">ptryFrom' :: forall (s :: S) (r :: PType).
Term s PData
-&gt; ((Term s (PAsData (PMap 'Unsorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
</span><a href="Plutarch.TryFrom.html#ptryFrom%27"><span class="hs-identifier hs-var hs-var hs-var hs-var">ptryFrom'</span></a></span></span><span> </span><span id="local-6989586621679923518"><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679923518"><span class="hs-identifier hs-var">opq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermCont
  @r
  s
  (Term s (PAsData (PMap 'Unsorted k v)),
   Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
-&gt; ((Term s (PAsData (PMap 'Unsorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
forall (r :: PType) (s :: S) a.
TermCont @r s a -&gt; (a -&gt; Term s r) -&gt; Term s r
</span><a href="Plutarch.TermCont.html#%24sel%3ArunTermCont%3ATermCont"><span class="hs-identifier hs-var">runTermCont</span></a></span><span> </span><span class="annot"><span class="annottext">(TermCont
   @r
   s
   (Term s (PAsData (PMap 'Unsorted k v)),
    Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
 -&gt; ((Term s (PAsData (PMap 'Unsorted k v)),
      Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
     -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont
     @r
     s
     (Term s (PAsData (PMap 'Unsorted k v)),
      Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
-&gt; ((Term s (PAsData (PMap 'Unsorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Unsorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-165"></span><span>    </span><span id="local-6989586621679923520"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair PData PData))
</span><a href="#local-6989586621679923520"><span class="hs-identifier hs-var">opq'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair PData PData)) -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont @r s (Term s (PBuiltinList (PBuiltinPair PData PData)))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont @r s a
</span><a href="Plutarch.TermCont.html#tcont"><span class="hs-identifier hs-var">tcont</span></a></span><span> </span><span class="annot"><span class="annottext">(((Term s (PBuiltinList (PBuiltinPair PData PData)) -&gt; Term s r)
  -&gt; Term s r)
 -&gt; TermCont
      @r s (Term s (PBuiltinList (PBuiltinPair PData PData))))
-&gt; (Term s (PBuiltinList (PBuiltinPair PData PData))
    -&gt; (Term s (PBuiltinList (PBuiltinPair PData PData)) -&gt; Term s r)
    -&gt; Term s r)
-&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; TermCont @r s (Term s (PBuiltinList (PBuiltinPair PData PData)))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; (Term s (PBuiltinList (PBuiltinPair PData PData)) -&gt; Term s r)
-&gt; Term s r
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair PData PData))
 -&gt; TermCont
      @r s (Term s (PBuiltinList (PBuiltinPair PData PData))))
-&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; TermCont @r s (Term s (PBuiltinList (PBuiltinPair PData PData)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
forall (s :: S).
Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
</span><a href="Plutarch.Builtin.html#pasMap"><span class="hs-identifier hs-var">pasMap</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PData :--&gt; PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s PData -&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679923518"><span class="hs-identifier hs-var">opq</span></a></span><span>
</span><span id="line-166"></span><span>    </span><span id="local-6989586621679923524"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679923524"><span class="hs-identifier hs-var">unwrapped</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont
     @r s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont @r s a
</span><a href="Plutarch.TermCont.html#tcont"><span class="hs-identifier hs-var">tcont</span></a></span><span> </span><span class="annot"><span class="annottext">(((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   -&gt; Term s r)
  -&gt; Term s r)
 -&gt; TermCont
      @r
      s
      (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
        -&gt; Term s r)
    -&gt; Term s r)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     @r s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s r)
-&gt; Term s r
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      @r
      s
      (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     @r s (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair PData PData
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair PData PData)
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: PType -&gt; PType) (a :: PType) (b :: PType) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><a href="Plutarch.List.html#pmap"><span class="hs-identifier hs-var">List.pmap</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair PData PData
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair PData PData)
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinPair PData PData
      :--&gt; PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair PData PData)
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair PData PData
   :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S).
Term
  s
  (PBuiltinPair PData PData
   :--&gt; PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679923525"><span class="hs-identifier hs-var">ptryFromPair</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair PData PData)
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair PData PData))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair PData PData))
</span><a href="#local-6989586621679923520"><span class="hs-identifier hs-var">opq'</span></a></span><span>
</span><span id="line-167"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData (PMap 'Unsorted k v)),
 Term s (PMap 'Unsorted k v))
-&gt; TermCont
     @r
     s
     (Term s (PAsData (PMap 'Unsorted k v)),
      Term s (PMap 'Unsorted k v))
forall a. a -&gt; TermCont @r s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s PData -&gt; Term s (PAsData (PMap 'Unsorted k v))
forall (s :: S) (a :: PType) (b :: PType). Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#punsafeCoerce"><span class="hs-identifier hs-var">punsafeCoerce</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679923518"><span class="hs-identifier hs-var">opq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PMap 'Unsorted k v s -&gt; Term s (PMap 'Unsorted k v)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">(PMap 'Unsorted k v s -&gt; Term s (PMap 'Unsorted k v))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; PMap 'Unsorted k v s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PMap 'Unsorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Unsorted k v s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PMap 'Unsorted k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PMap 'Unsorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679923524"><span class="hs-identifier hs-var">unwrapped</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-169"></span><span>      </span><span id="local-6989586621679922496"><span class="annot"><a href="#local-6989586621679923525"><span class="hs-identifier hs-type">ptryFromPair</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922496"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PData"><span class="hs-identifier hs-type">PData</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PData"><span class="hs-identifier hs-type">PData</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922469"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922470"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-170"></span><span>      </span><span id="local-6989586621679923525"><span class="annot"><span class="annottext">ptryFromPair :: forall (s :: S).
Term
  s
  (PBuiltinPair PData PData
   :--&gt; PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679923525"><span class="hs-identifier hs-var hs-var">ptryFromPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair PData PData)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinPair PData PData
      :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (c :--&gt; PBuiltinPair (PAsData k) (PAsData v))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair PData PData)
  -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term
      s
      (PBuiltinPair PData PData
       :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (Term s (PBuiltinPair PData PData)
    -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinPair PData PData
      :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679923541"><span class="annot"><span class="annottext">Term s (PBuiltinPair PData PData)
</span><a href="#local-6989586621679923541"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-171"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><a href="Plutarch.Builtin.html#ppairDataBuiltin"><span class="hs-identifier hs-var">ppairDataBuiltin</span></a></span><span class="hs-cpp">
          # ptryFrom (pfstBuiltin # p) fst
</span><span class="hs-cpp">          # ptryFrom (psndBuiltin # p) fst
</span><span>
</span><span id="line-175"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-176"></span><span>  </span><span id="local-6989586621679922524"><span id="local-6989586621679922525"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922524"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-177"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922524"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-178"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922525"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.TryFrom.html#PTryFrom"><span class="hs-identifier hs-type">PTryFrom</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PData"><span class="hs-identifier hs-type">PData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922524"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.TryFrom.html#PTryFrom"><span class="hs-identifier hs-type">PTryFrom</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PData"><span class="hs-identifier hs-type">PData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922525"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-182"></span><span>  </span><span class="annot"><a href="Plutarch.TryFrom.html#PTryFrom"><span class="hs-identifier hs-type">PTryFrom</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PData"><span class="hs-identifier hs-type">PData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922524"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922525"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-183"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PTryFromExcess"><span class="annot"><a href="Plutarch.TryFrom.html#PTryFromExcess"><span class="hs-identifier hs-var">PTryFromExcess</span></a></span></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PData"><span class="hs-identifier hs-type">PData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922524"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922525"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Flip"><span class="hs-identifier hs-type">Flip</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922524"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922525"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>  </span><span id="local-6989586621679923570"><span class="annot"><span class="annottext">ptryFrom' :: forall (s :: S) (r :: PType).
Term s PData
-&gt; ((Term s (PAsData (PMap 'Sorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
</span><a href="Plutarch.TryFrom.html#ptryFrom%27"><span class="hs-identifier hs-var hs-var hs-var hs-var">ptryFrom'</span></a></span></span><span> </span><span id="local-6989586621679923571"><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679923571"><span class="hs-identifier hs-var">opq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermCont
  @r
  s
  (Term s (PAsData (PMap 'Sorted k v)),
   Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
-&gt; ((Term s (PAsData (PMap 'Sorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
forall (r :: PType) (s :: S) a.
TermCont @r s a -&gt; (a -&gt; Term s r) -&gt; Term s r
</span><a href="Plutarch.TermCont.html#%24sel%3ArunTermCont%3ATermCont"><span class="hs-identifier hs-var">runTermCont</span></a></span><span> </span><span class="annot"><span class="annottext">(TermCont
   @r
   s
   (Term s (PAsData (PMap 'Sorted k v)),
    Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
 -&gt; ((Term s (PAsData (PMap 'Sorted k v)),
      Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
     -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont
     @r
     s
     (Term s (PAsData (PMap 'Sorted k v)),
      Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
-&gt; ((Term s (PAsData (PMap 'Sorted k v)),
     Reduce (PTryFromExcess PData (PAsData (PMap 'Sorted k v)) s))
    -&gt; Term s r)
-&gt; Term s r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-186"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679923572"><span class="annot"><span class="annottext">Term s (PAsData (PMap 'Unsorted k v))
</span><a href="#local-6989586621679923572"><span class="hs-identifier hs-var">opq'</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData (PMap 'Unsorted k v)),
   Term s (PMap 'Unsorted k v))
  -&gt; Term s r)
 -&gt; Term s r)
-&gt; TermCont
     @r
     s
     (Term s (PAsData (PMap 'Unsorted k v)),
      Term s (PMap 'Unsorted k v))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont @r s a
</span><a href="Plutarch.TermCont.html#tcont"><span class="hs-identifier hs-var">tcont</span></a></span><span> </span><span class="annot"><span class="annottext">((((Term s (PAsData (PMap 'Unsorted k v)),
    Term s (PMap 'Unsorted k v))
   -&gt; Term s r)
  -&gt; Term s r)
 -&gt; TermCont
      @r
      s
      (Term s (PAsData (PMap 'Unsorted k v)),
       Term s (PMap 'Unsorted k v)))
-&gt; (((Term s (PAsData (PMap 'Unsorted k v)),
      Term s (PMap 'Unsorted k v))
     -&gt; Term s r)
    -&gt; Term s r)
-&gt; TermCont
     @r
     s
     (Term s (PAsData (PMap 'Unsorted k v)),
      Term s (PMap 'Unsorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (b :: PType) (a :: PType) (s :: S) (r :: PType).
PTryFrom a b =&gt;
Term s a
-&gt; ((Term s b, Reduce (PTryFromExcess a b s)) -&gt; Term s r)
-&gt; Term s r
</span><a href="Plutarch.TryFrom.html#ptryFrom"><span class="hs-identifier hs-var">ptryFrom</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922524"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922525"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679923571"><span class="hs-identifier hs-var">opq</span></a></span><span>
</span><span id="line-187"></span><span>    </span><span id="local-6989586621679923573"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679923573"><span class="hs-identifier hs-var">unwrapped</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
-&gt; TermCont @r s (Term s (PMap 'Sorted k v))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont @r s a
</span><a href="Plutarch.TermCont.html#tcont"><span class="hs-identifier hs-var">tcont</span></a></span><span> </span><span class="annot"><span class="annottext">(((Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
 -&gt; TermCont @r s (Term s (PMap 'Sorted k v)))
-&gt; ((Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
-&gt; TermCont @r s (Term s (PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
-&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
-&gt; (Term s (PAsData (PMap 'Unsorted k v))
    -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PAsData (PMap 'Unsorted k v))
-&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r)
-&gt; Term s r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PMap 'Unsorted k v) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#papp"><span class="hs-identifier hs-var">papp</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Unsorted k v :--&gt; PMap 'Sorted k v)
forall (k :: PType) (v :: PType) (any :: KeyGuarantees) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term s (PMap any k v :--&gt; PMap 'Sorted k v)
</span><a href="Plutarch.Api.V1.AssocMap.html#passertSorted"><span class="hs-identifier hs-var">passertSorted</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Unsorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; (Term s (PAsData (PMap 'Unsorted k v))
    -&gt; Term s (PMap 'Unsorted k v))
-&gt; Term s (PAsData (PMap 'Unsorted k v))
-&gt; Term s (PMap 'Sorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap 'Unsorted k v))
-&gt; Term s (PMap 'Unsorted k v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData (PMap 'Unsorted k v))
 -&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r) -&gt; Term s r)
-&gt; Term s (PAsData (PMap 'Unsorted k v))
-&gt; (Term s (PMap 'Sorted k v) -&gt; Term s r)
-&gt; Term s r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData (PMap 'Unsorted k v))
</span><a href="#local-6989586621679923572"><span class="hs-identifier hs-var">opq'</span></a></span><span>
</span><span id="line-188"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData (PMap 'Sorted k v)), Term s (PMap 'Sorted k v))
-&gt; TermCont
     @r
     s
     (Term s (PAsData (PMap 'Sorted k v)), Term s (PMap 'Sorted k v))
forall a. a -&gt; TermCont @r s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s PData -&gt; Term s (PAsData (PMap 'Sorted k v))
forall (s :: S) (a :: PType) (b :: PType). Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#punsafeCoerce"><span class="hs-identifier hs-var">punsafeCoerce</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PData
</span><a href="#local-6989586621679923571"><span class="hs-identifier hs-var">opq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679923573"><span class="hs-identifier hs-var">unwrapped</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="annot"><span class="hs-comment">-- | Tests whether the map is empty.</span></span><span>
</span><span id="line-191"></span><span id="local-6989586621679922534"><span id="local-6989586621679922535"><span id="local-6989586621679922536"><span id="local-6989586621679922537"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pnull"><span class="hs-identifier hs-type">pnull</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922534"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922535"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922536"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922537"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Bool.html#PBool"><span class="hs-identifier hs-type">PBool</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-192"></span><span id="pnull"><span class="annot"><span class="annottext">pnull :: forall (s :: S) (any :: KeyGuarantees) (k :: PType) (v :: PType).
Term s (PMap any k v :--&gt; PBool)
</span><a href="Plutarch.Api.V1.AssocMap.html#pnull"><span class="hs-identifier hs-var hs-var">pnull</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s (PMap any k v :--&gt; PBool)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679923587"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679923587"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a :--&gt; PBool)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a :--&gt; PBool)
</span><a href="Plutarch.List.html#pnull"><span class="hs-identifier hs-var">List.pnull</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v) -&gt; Term s (PInner (PMap any k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><a href="Plutarch.Internal.Other.html#pto"><span class="hs-identifier hs-var">pto</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679923587"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span class="annot"><span class="hs-comment">-- | Look up the given key in a 'PMap'.</span></span><span>
</span><span id="line-195"></span><span id="local-6989586621679922547"><span id="local-6989586621679922548"><span id="local-6989586621679922549"><span id="local-6989586621679922550"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#plookup"><span class="hs-identifier hs-type">plookup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922547"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922548"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922549"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922547"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922550"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922547"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922548"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Maybe.html#PMaybe"><span class="hs-identifier hs-type">PMaybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922548"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-196"></span><span id="plookup"><span class="annot"><span class="annottext">plookup :: forall (k :: PType) (v :: PType) (s :: S) (any :: KeyGuarantees).
(PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
</span><a href="Plutarch.Api.V1.AssocMap.html#plookup"><span class="hs-identifier hs-var hs-var">plookup</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (k :--&gt; (PMap any k v :--&gt; PMaybe v))
-&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (k :--&gt; (PMap any k v :--&gt; PMaybe v))
 -&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v)))
-&gt; ClosedTerm (k :--&gt; (PMap any k v :--&gt; PMaybe v))
-&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-197"></span><span>  </span><span class="annot"><span class="annottext">(Term s k -&gt; Term s (PMap any k v :--&gt; PMaybe v))
-&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap any k v :--&gt; PMaybe v))
-&gt; Term s (c :--&gt; (PMap any k v :--&gt; PMaybe v))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s (PMap any k v :--&gt; PMaybe v))
 -&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v)))
-&gt; (Term s k -&gt; Term s (PMap any k v :--&gt; PMaybe v))
-&gt; Term s (k :--&gt; (PMap any k v :--&gt; PMaybe v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679923604"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679923604"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-198"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe v)
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe v)))
forall (s :: S) (k :: PType) (v :: PType) (x :: PType)
       (any :: KeyGuarantees).
Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
</span><a href="Plutarch.Api.V1.AssocMap.html#plookupDataWith"><span class="hs-identifier hs-var">plookupDataWith</span></a></span><span class="hs-cpp">
      # phoistAcyclic (plam $ \pair -&gt; pcon $ PJust $ pfromData $ psndBuiltin # pair)
</span><span class="hs-cpp">      # pdata key
</span><span>
</span><span id="line-202"></span><span class="annot"><span class="hs-comment">-- | Look up the given key data in a 'PMap'.</span></span><span>
</span><span id="line-203"></span><span id="local-6989586621679922566"><span id="local-6989586621679922567"><span id="local-6989586621679922568"><span id="local-6989586621679922569"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#plookupData"><span class="hs-identifier hs-type">plookupData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922566"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922567"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922568"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922567"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922569"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Maybe.html#PMaybe"><span class="hs-identifier hs-type">PMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922569"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-204"></span><span id="plookupData"><span class="annot"><span class="annottext">plookupData :: forall (s :: S) (k :: PType) (any :: KeyGuarantees) (v :: PType).
Term s (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe (PAsData v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#plookupData"><span class="hs-identifier hs-var hs-var">plookupData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe (PAsData v))))
forall (s :: S) (k :: PType) (v :: PType) (x :: PType)
       (any :: KeyGuarantees).
Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
</span><a href="Plutarch.Api.V1.AssocMap.html#plookupDataWith"><span class="hs-identifier hs-var">plookupDataWith</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe (PAsData v))))
-&gt; Term
     s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
-&gt; Term s (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
-&gt; Term
     s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PMaybe (PAsData v)))
-&gt; Term
     s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMaybe (PAsData v)))
-&gt; Term s (c :--&gt; PMaybe (PAsData v))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PMaybe (PAsData v)))
 -&gt; Term
      s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v)))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PMaybe (PAsData v)))
-&gt; Term
     s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe (PAsData v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679923628"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679923628"><span class="hs-identifier hs-var">pair</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PMaybe (PAsData v) s -&gt; Term s (PMaybe (PAsData v))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">(PMaybe (PAsData v) s -&gt; Term s (PMaybe (PAsData v)))
-&gt; PMaybe (PAsData v) s -&gt; Term s (PMaybe (PAsData v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; PMaybe (PAsData v) s
forall (a :: PType) (s :: S). Term s a -&gt; PMaybe a s
</span><a href="Plutarch.Maybe.html#PJust"><span class="hs-identifier hs-var">PJust</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; PMaybe (PAsData v) s)
-&gt; Term s (PAsData v) -&gt; PMaybe (PAsData v) s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><a href="Plutarch.Builtin.html#psndBuiltin"><span class="hs-identifier hs-var">psndBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679923628"><span class="hs-identifier hs-var">pair</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span class="annot"><span class="hs-comment">-- | Look up the given key data in a 'PMap', applying the given function to the found key-value pair.</span></span><span>
</span><span id="line-207"></span><span id="local-6989586621679922557"><span id="local-6989586621679922558"><span id="local-6989586621679922559"><span id="local-6989586621679922560"><span id="local-6989586621679922561"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#plookupDataWith"><span class="hs-identifier hs-type">plookupDataWith</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-208"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-209"></span><span>    </span><span class="annot"><a href="#local-6989586621679922557"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922558"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922559"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Maybe.html#PMaybe"><span class="hs-identifier hs-type">PMaybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922560"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922558"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-212"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922561"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922558"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922559"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-213"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Maybe.html#PMaybe"><span class="hs-identifier hs-type">PMaybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922560"><span class="hs-identifier hs-type">x</span></a></span><span>
</span><span id="line-214"></span><span>    </span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-215"></span><span id="plookupDataWith"><span class="annot"><span class="annottext">plookupDataWith :: forall (s :: S) (k :: PType) (v :: PType) (x :: PType)
       (any :: KeyGuarantees).
Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
</span><a href="Plutarch.Api.V1.AssocMap.html#plookupDataWith"><span class="hs-identifier hs-var hs-var">plookupDataWith</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
   :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
      :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
    :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
 -&gt; Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
       :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x))))
-&gt; ClosedTerm
     ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
      :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
      :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-216"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
 -&gt; Term s (PAsData k)
 -&gt; Term s (PMap any k v)
 -&gt; Term s (PMaybe x))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
      :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PAsData k)
 -&gt; Term s (PMap any k v)
 -&gt; Term s (PMaybe x))
-&gt; Term s (c :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
  -&gt; Term s (PAsData k)
  -&gt; Term s (PMap any k v)
  -&gt; Term s (PMaybe x))
 -&gt; Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
       :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x))))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
    -&gt; Term s (PAsData k)
    -&gt; Term s (PMap any k v)
    -&gt; Term s (PMaybe x))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
      :--&gt; (PAsData k :--&gt; (PMap any k v :--&gt; PMaybe x)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679923655"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
</span><a href="#local-6989586621679923655"><span class="hs-identifier hs-var">unwrap</span></a></span></span><span> </span><span id="local-6989586621679923656"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679923656"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679923657"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679923657"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-217"></span><span>    </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PMaybe x))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
    -&gt; Term s (PMaybe x))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><a href="Plutarch.List.html#precList"><span class="hs-identifier hs-var">precList</span></a></span><span>
</span><span id="line-218"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679923659"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
</span><a href="#local-6989586621679923659"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679923660"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679923660"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679923661"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679923661"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-219"></span><span>          </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PMaybe x) -&gt; Term s (PMaybe x) -&gt; Term s (PMaybe x)
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><a href="Plutarch.Bool.html#pif"><span class="hs-identifier hs-var">pif</span></a></span><span>
</span><span id="line-220"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><a href="Plutarch.Builtin.html#pfstBuiltin"><span class="hs-identifier hs-var">pfstBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679923660"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><a href="Plutarch.Bool.html#%23%3D%3D"><span class="hs-operator hs-var">#==</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679923656"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
</span><a href="#local-6989586621679923655"><span class="hs-identifier hs-var">unwrap</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PMaybe x)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PMaybe x)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679923660"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
</span><a href="#local-6989586621679923659"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PMaybe x)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679923661"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PMaybe x)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
-&gt; Term s (PMaybe x)
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PMaybe x)
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
 -&gt; Term s (PMaybe x))
-&gt; Term s (PMaybe x)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PMaybe x)
-&gt; Term s (PMaybe x)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">PMaybe x s -&gt; Term s (PMaybe x)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">PMaybe x s
forall (a :: PType) (s :: S). PMaybe a s
</span><a href="Plutarch.Maybe.html#PNothing"><span class="hs-identifier hs-var">PNothing</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
      # pto m
</span><span>
</span><span id="line-227"></span><span class="annot"><span class="hs-comment">-- | Look up the given key in a 'PMap', returning the default value if the key is absent.</span></span><span>
</span><span id="line-228"></span><span id="local-6989586621679922590"><span id="local-6989586621679922591"><span id="local-6989586621679922592"><span id="local-6989586621679922593"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pfindWithDefault"><span class="hs-identifier hs-type">pfindWithDefault</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922590"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922591"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922592"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922591"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922590"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922593"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922590"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922591"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922591"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-229"></span><span id="pfindWithDefault"><span class="annot"><span class="annottext">pfindWithDefault :: forall (k :: PType) (v :: PType) (s :: S) (any :: KeyGuarantees).
(PIsData k, PIsData v) =&gt;
Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#pfindWithDefault"><span class="hs-identifier hs-var hs-var">pfindWithDefault</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
-&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
 -&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v))))
-&gt; ClosedTerm (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
-&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s k -&gt; Term s (PMap any k v :--&gt; v))
-&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s k -&gt; Term s (PMap any k v :--&gt; v))
-&gt; Term s (c :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s v -&gt; Term s k -&gt; Term s (PMap any k v :--&gt; v))
 -&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v))))
-&gt; (Term s v -&gt; Term s k -&gt; Term s (PMap any k v :--&gt; v))
-&gt; Term s (v :--&gt; (k :--&gt; (PMap any k v :--&gt; v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679923687"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679923687"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span id="local-6989586621679923688"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679923688"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (v :--&gt; ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v))))
forall (s :: S) (k :: PType) (r :: PType) (v :: PType)
       (any :: KeyGuarantees).
Term
  s
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><a href="Plutarch.Api.V1.AssocMap.html#foldAtData"><span class="hs-identifier hs-var">foldAtData</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (v :--&gt; ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v))))
-&gt; Term s (PAsData k)
-&gt; Term s (v :--&gt; ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s (PAsData k)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><a href="Plutarch.Builtin.html#pdata"><span class="hs-identifier hs-var">pdata</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679923688"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v)))
-&gt; Term s v
-&gt; Term s ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679923687"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">Term s ((PAsData v :--&gt; v) :--&gt; (PMap any k v :--&gt; v))
-&gt; Term s (PAsData v :--&gt; v) -&gt; Term s (PMap any k v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v :--&gt; v)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s v) -&gt; Term s (c :--&gt; v)
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="annot"><span class="hs-comment">{- | Look up the given key in a 'PMap'; return the default if the key is
 absent or apply the argument function to the value data if present.
-}</span></span><span>
</span><span id="line-234"></span><span id="local-6989586621679922604"><span id="local-6989586621679922605"><span id="local-6989586621679922606"><span id="local-6989586621679922607"><span id="local-6989586621679922608"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pfoldAt"><span class="hs-identifier hs-type">pfoldAt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922604"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922605"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922604"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922606"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922607"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922606"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922608"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922604"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922607"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922606"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-235"></span><span id="pfoldAt"><span class="annot"><span class="annottext">pfoldAt :: forall (k :: PType) (s :: S) (r :: PType) (v :: PType)
       (any :: KeyGuarantees).
PIsData k =&gt;
Term
  s (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><a href="Plutarch.Api.V1.AssocMap.html#pfoldAt"><span class="hs-identifier hs-var hs-var">pfoldAt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
 -&gt; Term
      s
      (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r)))))
-&gt; ClosedTerm
     (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-236"></span><span>  </span><span class="annot"><span class="annottext">(Term s k
 -&gt; Term s (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s (c :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s k
  -&gt; Term s (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
 -&gt; Term
      s
      (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r)))))
-&gt; (Term s k
    -&gt; Term s (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-237"></span><span>    </span><span class="hs-glyph">\</span><span id="local-6989586621679923700"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679923700"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall (s :: S) (k :: PType) (r :: PType) (v :: PType)
       (any :: KeyGuarantees).
Term
  s
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><a href="Plutarch.Api.V1.AssocMap.html#foldAtData"><span class="hs-identifier hs-var">foldAtData</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term s (PAsData k)
-&gt; Term s (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s (PAsData k)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><a href="Plutarch.Builtin.html#pdata"><span class="hs-identifier hs-var">pdata</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679923700"><span class="hs-identifier hs-var">key</span></a></span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span class="annot"><span class="hs-comment">{- | Look up the given key data in a 'PMap'; return the default if the key is
 absent or apply the argument function to the value data if present.
-}</span></span><span>
</span><span id="line-242"></span><span id="local-6989586621679922599"><span id="local-6989586621679922600"><span id="local-6989586621679922601"><span id="local-6989586621679922602"><span id="local-6989586621679922603"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#foldAtData"><span class="hs-identifier hs-type">foldAtData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922599"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922600"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922601"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922602"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922601"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922603"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922600"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922602"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922601"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-243"></span><span id="foldAtData"><span class="annot"><span class="annottext">foldAtData :: forall (s :: S) (k :: PType) (r :: PType) (v :: PType)
       (any :: KeyGuarantees).
Term
  s
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><a href="Plutarch.Api.V1.AssocMap.html#foldAtData"><span class="hs-identifier hs-var hs-var">foldAtData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  (PAsData k
   :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s
     (PAsData k
      :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (PAsData k
    :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
 -&gt; Term
      s
      (PAsData k
       :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r)))))
-&gt; ClosedTerm
     (PAsData k
      :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
-&gt; Term
     s
     (PAsData k
      :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-244"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PAsData k)
 -&gt; Term s r
 -&gt; Term s (PAsData v :--&gt; r)
 -&gt; Term s (PMap any k v)
 -&gt; Term s r)
-&gt; Term
     s
     (PAsData k
      :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s r
 -&gt; Term s (PAsData v :--&gt; r)
 -&gt; Term s (PMap any k v)
 -&gt; Term s r)
-&gt; Term
     s (c :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s r
  -&gt; Term s (PAsData v :--&gt; r)
  -&gt; Term s (PMap any k v)
  -&gt; Term s r)
 -&gt; Term
      s
      (PAsData k
       :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r)))))
-&gt; (Term s (PAsData k)
    -&gt; Term s r
    -&gt; Term s (PAsData v :--&gt; r)
    -&gt; Term s (PMap any k v)
    -&gt; Term s r)
-&gt; Term
     s
     (PAsData k
      :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679923730"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679923730"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679923731"><span class="annot"><span class="annottext">Term s r
</span><a href="#local-6989586621679923731"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span id="local-6989586621679923732"><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; r)
</span><a href="#local-6989586621679923732"><span class="hs-identifier hs-var">apply</span></a></span></span><span> </span><span id="local-6989586621679923733"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679923733"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-245"></span><span>    </span><span class="annot"><span class="annottext">(Term
   s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s r)
-&gt; (Term
      s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
    -&gt; Term s r)
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><a href="Plutarch.List.html#precList"><span class="hs-identifier hs-var">precList</span></a></span><span>
</span><span id="line-246"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679923734"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
</span><a href="#local-6989586621679923734"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679923735"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679923735"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679923736"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679923736"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-247"></span><span>          </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s r -&gt; Term s r -&gt; Term s r
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><a href="Plutarch.Bool.html#pif"><span class="hs-identifier hs-var">pif</span></a></span><span>
</span><span id="line-248"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><a href="Plutarch.Builtin.html#pfstBuiltin"><span class="hs-identifier hs-var">pfstBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679923735"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><a href="Plutarch.Bool.html#%23%3D%3D"><span class="hs-operator hs-var">#==</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679923730"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; r)
</span><a href="#local-6989586621679923732"><span class="hs-identifier hs-var">apply</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; r) -&gt; Term s (PAsData v) -&gt; Term s r
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23%24"><span class="hs-operator hs-var">#$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><a href="Plutarch.Builtin.html#psndBuiltin"><span class="hs-identifier hs-var">psndBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679923735"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
</span><a href="#local-6989586621679923734"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s r
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679923736"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s r
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; r)
-&gt; Term s r
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Term s r
</span><a href="#local-6989586621679923731"><span class="hs-identifier hs-var">def</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
      # pto m
</span><span>
</span><span id="line-255"></span><span class="annot"><span class="hs-comment">-- | Insert a new key/value pair into the map, overriding the previous if any.</span></span><span>
</span><span id="line-256"></span><span id="local-6989586621679922621"><span id="local-6989586621679922622"><span id="local-6989586621679922623"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pinsert"><span class="hs-identifier hs-type">pinsert</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922621"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922621"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922622"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922623"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922621"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922622"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922621"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922622"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922621"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922622"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-257"></span><span id="pinsert"><span class="annot"><span class="annottext">pinsert :: forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#pinsert"><span class="hs-identifier hs-var hs-var">pinsert</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-258"></span><span>  </span><span class="annot"><span class="annottext">(Term s k
 -&gt; Term s v -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s v -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (c :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s k
  -&gt; Term s v -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
 -&gt; Term
      s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s k
    -&gt; Term s v -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679923774"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679923774"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679923775"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679923775"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-259"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (k :: PType) (s :: S) (v :: PType) (g :: KeyGuarantees).
(POrd k, PIsData k) =&gt;
Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#rebuildAtKey"><span class="hs-identifier hs-var">rebuildAtKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s (c :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><a href="Plutarch.Builtin.html#ppairDataBuiltin"><span class="hs-identifier hs-var">ppairDataBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PAsData k)
-&gt; Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s (PAsData k)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><a href="Plutarch.Builtin.html#pdata"><span class="hs-identifier hs-var">pdata</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679923774"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><a href="Plutarch.Builtin.html#pdata"><span class="hs-identifier hs-var">pdata</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679923775"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-operator">#</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term s k -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679923774"><span class="hs-identifier hs-var">key</span></a></span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span class="annot"><span class="hs-comment">-- | Insert a new data-encoded key/value pair into the map, overriding the previous if any.</span></span><span>
</span><span id="line-262"></span><span id="local-6989586621679922634"><span id="local-6989586621679922635"><span id="local-6989586621679922636"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pinsertData"><span class="hs-identifier hs-type">pinsertData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922634"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922634"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-264"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922635"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922634"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922636"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922634"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922636"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922634"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922636"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-265"></span><span id="pinsertData"><span class="annot"><span class="annottext">pinsertData :: forall (k :: PType) (s :: S) (v :: PType).
(POrd k, PIsData k) =&gt;
Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#pinsertData"><span class="hs-identifier hs-var hs-var">pinsertData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  (PAsData k
   :--&gt; (PAsData v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (PAsData k
      :--&gt; (PAsData v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (PAsData k
    :--&gt; (PAsData v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      (PAsData k
       :--&gt; (PAsData v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     (PAsData k
      :--&gt; (PAsData v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (PAsData k
      :--&gt; (PAsData v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-266"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PAsData k)
 -&gt; Term s (PAsData v)
 -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s
     (PAsData k
      :--&gt; (PAsData v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PAsData v)
 -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s
     (c :--&gt; (PAsData v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PAsData v)
  -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
 -&gt; Term
      s
      (PAsData k
       :--&gt; (PAsData v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (PAsData k)
    -&gt; Term s (PAsData v)
    -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s
     (PAsData k
      :--&gt; (PAsData v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679923812"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679923812"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679923813"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679923813"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-267"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (k :: PType) (s :: S) (v :: PType) (g :: KeyGuarantees).
(POrd k, PIsData k) =&gt;
Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#rebuildAtKey"><span class="hs-identifier hs-var">rebuildAtKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s (c :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><a href="Plutarch.Builtin.html#ppairDataBuiltin"><span class="hs-identifier hs-var">ppairDataBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PAsData k)
-&gt; Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679923812"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679923813"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-operator">#</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term s k -&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679923812"><span class="hs-identifier hs-var">key</span></a></span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span class="annot"><span class="hs-comment">-- | Delete a key from the map.</span></span><span>
</span><span id="line-270"></span><span id="local-6989586621679922641"><span id="local-6989586621679922642"><span id="local-6989586621679922643"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pdelete"><span class="hs-identifier hs-type">pdelete</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922641"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922641"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922642"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922641"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922641"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922643"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922641"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922643"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-271"></span><span id="pdelete"><span class="annot"><span class="annottext">pdelete :: forall (k :: PType) (s :: S) (v :: PType).
(POrd k, PIsData k) =&gt;
Term s (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pdelete"><span class="hs-identifier hs-var hs-var">pdelete</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (k :: PType) (s :: S) (v :: PType) (g :: KeyGuarantees).
(POrd k, PIsData k) =&gt;
Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#rebuildAtKey"><span class="hs-identifier hs-var">rebuildAtKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (k :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s (c :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a. a -&gt; a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="annot"><span class="hs-comment">-- | Rebuild the map at the given key.</span></span><span>
</span><span id="line-274"></span><span id="local-6989586621679922628"><span id="local-6989586621679922629"><span id="local-6989586621679922630"><span id="local-6989586621679922631"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#rebuildAtKey"><span class="hs-identifier hs-type">rebuildAtKey</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-275"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922628"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922628"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-276"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-277"></span><span>    </span><span class="annot"><a href="#local-6989586621679922629"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-278"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922628"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922630"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>          </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922628"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922630"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922628"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-282"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922631"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922628"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922630"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-283"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922631"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922628"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922630"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-284"></span><span>    </span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-285"></span><span id="rebuildAtKey"><span class="annot"><span class="annottext">rebuildAtKey :: forall (k :: PType) (s :: S) (v :: PType) (g :: KeyGuarantees).
(POrd k, PIsData k) =&gt;
Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#rebuildAtKey"><span class="hs-identifier hs-var hs-var">rebuildAtKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
       :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v))))
-&gt; ClosedTerm
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-286"></span><span>  </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s k -&gt; Term s (PMap g k v) -&gt; Term s (PMap g k v))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s k -&gt; Term s (PMap g k v) -&gt; Term s (PMap g k v))
-&gt; Term s (c :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s k -&gt; Term s (PMap g k v) -&gt; Term s (PMap g k v))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
       :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s k -&gt; Term s (PMap g k v) -&gt; Term s (PMap g k v))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      :--&gt; (k :--&gt; (PMap g k v :--&gt; PMap g k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679923902"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679923902"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span id="local-6989586621679923903"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679923903"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679923904"><span class="annot"><span class="annottext">Term s (PMap g k v)
</span><a href="#local-6989586621679923904"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-287"></span><span>    </span><span class="annot"><span class="annottext">Term s (PInner (PMap g k v)) -&gt; Term s (PMap g k v)
forall (s :: S) (a :: PType). Term s (PInner a) -&gt; Term s a
</span><a href="Plutarch.Unsafe.html#punsafeDowncast"><span class="hs-identifier hs-var">punsafeDowncast</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PInner (PMap g k v)) -&gt; Term s (PMap g k v))
-&gt; Term s (PInner (PMap g k v)) -&gt; Term s (PMap g k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-288"></span><span>      </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PInner (PMap g k v))
          :--&gt; PInner (PMap g k v)))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PInner (PMap g k v))
       :--&gt; PInner (PMap g k v)))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PInner (PMap g k v))
             :--&gt; PInner (PMap g k v)))
    -&gt; Term
         s
         ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PInner (PMap g k v))
          :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PInner (PMap g k v))
            :--&gt; PInner (PMap g k v)))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><a href="Plutarch.List.html#precList"><span class="hs-identifier hs-var">precList</span></a></span><span>
</span><span id="line-289"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679923905"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; PInner (PMap g k v))
         :--&gt; PInner (PMap g k v)))
</span><a href="#local-6989586621679923905"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679923906"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679923906"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679923907"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679923907"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-290"></span><span>            </span><span class="annot"><span class="annottext">Term s k
-&gt; (Term s k
    -&gt; Term
         s
         ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PInner (PMap g k v))
          :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; Term s k) -&gt; Term s (PAsData k) -&gt; Term s k
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><a href="Plutarch.Builtin.html#pfstBuiltin"><span class="hs-identifier hs-var">pfstBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679923906"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s k
  -&gt; Term
       s
       ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PInner (PMap g k v))
        :--&gt; PInner (PMap g k v)))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PInner (PMap g k v))
       :--&gt; PInner (PMap g k v)))
-&gt; (Term s k
    -&gt; Term
         s
         ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PInner (PMap g k v))
          :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679923908"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679923908"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-291"></span><span>              </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PInner (PMap g k v))
 -&gt; Term s (PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PInner (PMap g k v)))
-&gt; Term s (c :--&gt; PInner (PMap g k v))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; PInner (PMap g k v))
  -&gt; Term s (PInner (PMap g k v)))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PInner (PMap g k v))
       :--&gt; PInner (PMap g k v)))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
    -&gt; Term s (PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679923909"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
</span><a href="#local-6989586621679923909"><span class="hs-identifier hs-var">prefix</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-292"></span><span>                </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PInner (PMap g k v))
-&gt; Term s (PInner (PMap g k v))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><a href="Plutarch.Bool.html#pif"><span class="hs-identifier hs-var">pif</span></a></span><span>
</span><span id="line-293"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679923908"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><a href="Plutarch.Bool.html#%23%3C"><span class="hs-operator hs-var">#&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679923903"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; PInner (PMap g k v))
         :--&gt; PInner (PMap g k v)))
</span><a href="#local-6989586621679923905"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; PInner (PMap g k v))
         :--&gt; PInner (PMap g k v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679923907"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PInner (PMap g k v))
   :--&gt; PInner (PMap g k v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PInner (PMap g k v))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23%24"><span class="hs-operator hs-var">#$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PInner (PMap g k v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PInner (PMap g k v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PInner (PMap g k v)))
-&gt; Term s (c :--&gt; PInner (PMap g k v))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PInner (PMap g k v)))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v)))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PInner (PMap g k v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PInner (PMap g k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679923911"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679923911"><span class="hs-identifier hs-var">suffix</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
</span><a href="#local-6989586621679923909"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23%24"><span class="hs-operator hs-var">#$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679923906"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679923911"><span class="hs-identifier hs-var">suffix</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-295"></span><span>                  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PInner (PMap g k v))
-&gt; Term s (PInner (PMap g k v))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><a href="Plutarch.Bool.html#pif"><span class="hs-identifier hs-var">pif</span></a></span><span>
</span><span id="line-296"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679923908"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><a href="Plutarch.Bool.html#%23%3D%3D"><span class="hs-operator hs-var">#==</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679923903"><span class="hs-identifier hs-var">key</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
</span><a href="#local-6989586621679923909"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23%24"><span class="hs-operator hs-var">#$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679923902"><span class="hs-identifier hs-var">handler</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679923907"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
</span><a href="#local-6989586621679923909"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23%24"><span class="hs-operator hs-var">#$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679923902"><span class="hs-identifier hs-var">handler</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23%24"><span class="hs-operator hs-var">#$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679923906"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679923907"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-299"></span><span>                  </span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PInner (PMap g k v))
   :--&gt; PInner (PMap g k v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PInner (PMap g k v))
            :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; PInner (PMap g k v))
    :--&gt; PInner (PMap g k v))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PInner (PMap g k v))
             :--&gt; PInner (PMap g k v)))
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; PInner (PMap g k v))
       :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PInner (PMap g k v))
            :--&gt; PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; PInner (PMap g k v))
 -&gt; Term s (PInner (PMap g k v)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; PInner (PMap g k v))
      :--&gt; PInner (PMap g k v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PInner (PMap g k v)))
-&gt; Term s (c :--&gt; PInner (PMap g k v))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PInner (PMap g k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PInner (PMap g k v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23%24"><span class="hs-operator hs-var">#$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679923902"><span class="hs-identifier hs-var">handler</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><a href="Plutarch.List.html#pnil"><span class="hs-identifier hs-var">pnil</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-cpp">
        # pto m
</span><span class="hs-cpp">        # plam id
</span><span>
</span><span id="line-305"></span><span class="annot"><span class="hs-comment">-- | Construct an empty 'PMap'.</span></span><span>
</span><span id="line-306"></span><span id="local-6989586621679922666"><span id="local-6989586621679922667"><span id="local-6989586621679922668"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pempty"><span class="hs-identifier hs-type">pempty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922666"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922667"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922668"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-307"></span><span id="pempty"><span class="annot"><span class="annottext">pempty :: forall (s :: S) (k :: PType) (v :: PType).
Term s (PMap 'Sorted k v)
</span><a href="Plutarch.Api.V1.AssocMap.html#pempty"><span class="hs-identifier hs-var hs-var">pempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (PInner (PMap 'Sorted k v)) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType). Term s (PInner a) -&gt; Term s a
</span><a href="Plutarch.Unsafe.html#punsafeDowncast"><span class="hs-identifier hs-var">punsafeDowncast</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PInner (PMap 'Sorted k v))
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><a href="Plutarch.List.html#pnil"><span class="hs-identifier hs-var">pnil</span></a></span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span class="annot"><span class="hs-comment">-- | Construct a singleton 'PMap' with the given key and value.</span></span><span>
</span><span id="line-310"></span><span id="local-6989586621679922672"><span id="local-6989586621679922673"><span id="local-6989586621679922674"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#psingleton"><span class="hs-identifier hs-type">psingleton</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922672"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922673"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922674"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922672"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922673"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922672"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922673"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-311"></span><span id="psingleton"><span class="annot"><span class="annottext">psingleton :: forall (k :: PType) (v :: PType) (s :: S).
(PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#psingleton"><span class="hs-identifier hs-var hs-var">psingleton</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (k :--&gt; (v :--&gt; PMap 'Sorted k v))
-&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (k :--&gt; (v :--&gt; PMap 'Sorted k v))
 -&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v)))
-&gt; ClosedTerm (k :--&gt; (v :--&gt; PMap 'Sorted k v))
-&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s k -&gt; Term s v -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s v -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; (v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s v -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s k -&gt; Term s v -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (k :--&gt; (v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679923934"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679923934"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679923935"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679923935"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#psingletonData"><span class="hs-identifier hs-var">psingletonData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
-&gt; Term s (PAsData k) -&gt; Term s (PAsData v :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s (PAsData k)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><a href="Plutarch.Builtin.html#pdata"><span class="hs-identifier hs-var">pdata</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679923934"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PAsData v) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><a href="Plutarch.Builtin.html#pdata"><span class="hs-identifier hs-var">pdata</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679923935"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span class="annot"><span class="hs-comment">-- | Construct a singleton 'PMap' with the given data-encoded key and value.</span></span><span>
</span><span id="line-314"></span><span id="local-6989586621679922679"><span id="local-6989586621679922680"><span id="local-6989586621679922681"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#psingletonData"><span class="hs-identifier hs-type">psingletonData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922679"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922680"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922681"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922680"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922681"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-315"></span><span id="psingletonData"><span class="annot"><span class="annottext">psingletonData :: forall (s :: S) (k :: PType) (v :: PType).
Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#psingletonData"><span class="hs-identifier hs-var hs-var">psingletonData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
-&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
 -&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v)))
-&gt; ClosedTerm (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
-&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-316"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PAsData k)
 -&gt; Term s (PAsData v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PAsData v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PAsData v) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PAsData k)
    -&gt; Term s (PAsData v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PAsData k :--&gt; (PAsData v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-317"></span><span>    </span><span class="hs-glyph">\</span><span id="local-6989586621679923959"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679923959"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621679923960"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679923960"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PInner (PMap 'Sorted k v)) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType). Term s (PInner a) -&gt; Term s a
</span><a href="Plutarch.Unsafe.html#punsafeDowncast"><span class="hs-identifier hs-var">punsafeDowncast</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><a href="Plutarch.Builtin.html#ppairDataBuiltin"><span class="hs-identifier hs-var">ppairDataBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PAsData k)
-&gt; Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679923959"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679923960"><span class="hs-identifier hs-var">value</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><a href="Plutarch.List.html#pnil"><span class="hs-identifier hs-var">pnil</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span class="annot"><span class="hs-comment">-- | Construct a 'PMap' from a list of key-value pairs, sorted by ascending key data.</span></span><span>
</span><span id="line-320"></span><span id="local-6989586621679922686"><span id="local-6989586621679922687"><span id="local-6989586621679922688"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pfromAscList"><span class="hs-identifier hs-type">pfromAscList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922686"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922686"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922687"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922688"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PBuiltinListOfPairs"><span class="hs-identifier hs-type">PBuiltinListOfPairs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922686"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922687"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922686"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922687"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-321"></span><span id="pfromAscList"><span class="annot"><span class="annottext">pfromAscList :: forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term s (PBuiltinListOfPairs k v :--&gt; PMap 'Sorted k v)
</span><a href="Plutarch.Api.V1.AssocMap.html#pfromAscList"><span class="hs-identifier hs-var hs-var">pfromAscList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinListOfPairs k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PBuiltinListOfPairs k v :--&gt; PMap 'Sorted k v)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; PMap 'Sorted k v)
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinListOfPairs k v) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s (PBuiltinListOfPairs k v :--&gt; PMap 'Sorted k v))
-&gt; (Term s (PBuiltinListOfPairs k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PBuiltinListOfPairs k v :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PMap (Any @KeyGuarantees) k v :--&gt; PMap 'Sorted k v)
forall (k :: PType) (v :: PType) (any :: KeyGuarantees) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term s (PMap any k v :--&gt; PMap 'Sorted k v)
</span><a href="Plutarch.Api.V1.AssocMap.html#passertSorted"><span class="hs-identifier hs-var">passertSorted</span></a></span><span> </span><span class="hs-operator">#</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Term s (PMap (Any @KeyGuarantees) k v)
 -&gt; Term s (PMap 'Sorted k v))
-&gt; (Term s (PBuiltinListOfPairs k v)
    -&gt; Term s (PMap (Any @KeyGuarantees) k v))
-&gt; Term s (PBuiltinListOfPairs k v)
-&gt; Term s (PMap 'Sorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PMap (Any @KeyGuarantees) k v s
-&gt; Term s (PMap (Any @KeyGuarantees) k v)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">(PMap (Any @KeyGuarantees) k v s
 -&gt; Term s (PMap (Any @KeyGuarantees) k v))
-&gt; (Term s (PBuiltinListOfPairs k v)
    -&gt; PMap (Any @KeyGuarantees) k v s)
-&gt; Term s (PBuiltinListOfPairs k v)
-&gt; Term s (PMap (Any @KeyGuarantees) k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinListOfPairs k v) -&gt; PMap (Any @KeyGuarantees) k v s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span class="annot"><span class="hs-comment">-- | Assert the map is properly sorted.</span></span><span>
</span><span id="line-324"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#passertSorted"><span class="hs-identifier hs-type">passertSorted</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679922528"><span class="annot"><a href="#local-6989586621679922528"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679922529"><span class="annot"><a href="#local-6989586621679922529"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679922531"><span class="annot"><a href="#local-6989586621679922531"><span class="hs-identifier hs-type">any</span></a></span></span><span> </span><span id="local-6989586621679922530"><span class="annot"><a href="#local-6989586621679922530"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922528"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922528"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922529"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922530"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922531"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922528"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922529"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922528"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922529"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span id="passertSorted"><span class="annot"><span class="annottext">passertSorted :: forall (k :: PType) (v :: PType) (any :: KeyGuarantees) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term s (PMap any k v :--&gt; PMap 'Sorted k v)
</span><a href="Plutarch.Api.V1.AssocMap.html#passertSorted"><span class="hs-identifier hs-var hs-var">passertSorted</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-326"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy @Constraint (PIsData v) -&gt; ()
forall (c :: Constraint). c =&gt; Proxy @Constraint c -&gt; ()
</span><a href="Plutarch.Internal.Witness.html#witness"><span class="hs-identifier hs-var">witness</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy @Constraint (PIsData v)
forall {k} (t :: k). Proxy @k t
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Proxy.html#Proxy"><span class="hs-identifier hs-var">Proxy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Proxy.html#Proxy"><span class="hs-identifier hs-type">Proxy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922529"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-327"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PMap any k v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v)
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PMap any k v :--&gt; PMap 'Sorted k v)
 -&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v))
-&gt; ClosedTerm (PMap any k v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-328"></span><span>        </span><span class="annot"><span class="annottext">(Term s (PMap any k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; PMap 'Sorted k v)
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap any k v) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v))
-&gt; (Term s (PMap any k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap any k v :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679924025"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679924025"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-329"></span><span>          </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
    -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><a href="Plutarch.List.html#precList"><span class="hs-identifier hs-var">precList</span></a></span><span>
</span><span id="line-330"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679924026"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
</span><a href="#local-6989586621679924026"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679924027"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924027"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679924028"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924028"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-331"></span><span>                </span><span class="annot"><span class="annottext">Term s k
-&gt; (Term s k -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; Term s k) -&gt; Term s (PAsData k) -&gt; Term s k
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><a href="Plutarch.Builtin.html#pfstBuiltin"><span class="hs-identifier hs-var">pfstBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924027"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term s k -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679924029"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679924029"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-332"></span><span>                  </span><span class="annot"><span class="annottext">(Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; PMap 'Sorted k v)
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679924030"><span class="annot"><span class="annottext">Term s (k :--&gt; PBool)
</span><a href="#local-6989586621679924030"><span class="hs-identifier hs-var">badKey</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-333"></span><span>                    </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><a href="Plutarch.Bool.html#pif"><span class="hs-identifier hs-var">pif</span></a></span><span>
</span><span id="line-334"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (k :--&gt; PBool)
</span><a href="#local-6989586621679924030"><span class="hs-identifier hs-var">badKey</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (k :--&gt; PBool) -&gt; Term s k -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679924029"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-335"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s PString -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType). Term s PString -&gt; Term s a
</span><a href="Plutarch.Trace.html#ptraceError"><span class="hs-identifier hs-var">ptraceError</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PString
</span><span class="hs-string">&quot;unsorted map&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-336"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
</span><a href="#local-6989586621679924026"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924028"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
-&gt; Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s k -&gt; Term s PBool) -&gt; Term s (k :--&gt; PBool)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><a href="Plutarch.Bool.html#%23%3C"><span class="hs-operator hs-var">#&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679924029"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-337"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span>            </span><span class="hs-comment">-- this is actually the empty map so we can</span><span>
</span><span id="line-339"></span><span>            </span><span class="hs-comment">-- safely assume that it is sorted</span><span>
</span><span id="line-340"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; PMap 'Sorted k v)
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
-&gt; Term s (k :--&gt; PBool) -&gt; Term s (PMap 'Sorted k v)
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
 -&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v))
-&gt; Term s ((k :--&gt; PBool) :--&gt; PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType). Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#punsafeCoerce"><span class="hs-identifier hs-var">punsafeCoerce</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679924025"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
            # pto m
</span><span class="hs-cpp">            # plam (const $ pcon PFalse)
</span><span>
</span><span id="line-344"></span><span class="annot"><span class="hs-comment">-- | Forget the knowledge that keys were sorted.</span></span><span>
</span><span id="line-345"></span><span id="local-6989586621679922706"><span id="local-6989586621679922707"><span id="local-6989586621679922708"><span id="local-6989586621679922709"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pforgetSorted"><span class="hs-identifier hs-type">pforgetSorted</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922706"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922707"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922708"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922706"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922709"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922707"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922708"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-346"></span><span id="pforgetSorted"><span class="annot"><span class="annottext">pforgetSorted :: forall (s :: S) (k :: PType) (v :: PType) (g :: KeyGuarantees).
Term s (PMap 'Sorted k v) -&gt; Term s (PMap g k v)
</span><a href="Plutarch.Api.V1.AssocMap.html#pforgetSorted"><span class="hs-identifier hs-var hs-var">pforgetSorted</span></a></span></span><span> </span><span id="local-6989586621679924033"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679924033"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (PInner (PMap g k v)) -&gt; Term s (PMap g k v)
forall (s :: S) (a :: PType). Term s (PInner a) -&gt; Term s a
</span><a href="Plutarch.Unsafe.html#punsafeDowncast"><span class="hs-identifier hs-var">punsafeDowncast</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><a href="Plutarch.Internal.Other.html#pto"><span class="hs-identifier hs-var">pto</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679924033"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span class="annot"><span class="hs-comment">{- | Given a 'Foldable' of key-value pairs, construct an unsorted 'PMap'.
 Performs linearly with respect to its argument.

 = Note

 If there are duplicate keys in the input, the /last/ key will \'win\' in a
 lookup.
-}</span></span><span>
</span><span id="line-356"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#punsortedMapFromFoldable"><span class="hs-identifier hs-type">punsortedMapFromFoldable</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-357"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922715"><span class="annot"><a href="#local-6989586621679922715"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922716"><span class="annot"><a href="#local-6989586621679922716"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922714"><span class="annot"><a href="#local-6989586621679922714"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922717"><span class="annot"><a href="#local-6989586621679922717"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-358"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Foldable.html#Foldable"><span class="hs-identifier hs-type">Foldable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922714"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922715"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922716"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-359"></span><span>  </span><span class="annot"><a href="#local-6989586621679922714"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922717"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922715"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922717"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922716"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-360"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922717"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922715"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922716"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span id="punsortedMapFromFoldable"><span class="annot"><span class="annottext">punsortedMapFromFoldable :: forall (k :: PType) (v :: PType) (f :: Type -&gt; Type) (s :: S).
(Foldable f, PIsData k, PIsData v) =&gt;
f (Term s k, Term s v) -&gt; Term s (PMap 'Unsorted k v)
</span><a href="Plutarch.Api.V1.AssocMap.html#punsortedMapFromFoldable"><span class="hs-identifier hs-var hs-var">punsortedMapFromFoldable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PMap 'Unsorted k v s -&gt; Term s (PMap 'Unsorted k v)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">(PMap 'Unsorted k v s -&gt; Term s (PMap 'Unsorted k v))
-&gt; (f (Term s k, Term s v) -&gt; PMap 'Unsorted k v s)
-&gt; f (Term s k, Term s v)
-&gt; Term s (PMap 'Unsorted k v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Unsorted k v s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; PMap 'Unsorted k v s)
-&gt; (f (Term s k, Term s v)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; f (Term s k, Term s v)
-&gt; PMap 'Unsorted k v s
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; (Term s k, Term s v)
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; f (Term s k, Term s v)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; f a -&gt; b
forall (t :: Type -&gt; Type) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (Term s k, Term s v)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s' :: S).
Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (Term s' k, Term s' v)
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924045"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: PType) (s :: S). PBuiltinList a s
</span><a href="Plutarch.Builtin.html#PNil"><span class="hs-identifier hs-var">PNil</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-362"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-363"></span><span>    </span><span class="annot"><a href="#local-6989586621679924045"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-364"></span><span>      </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922726"><span class="annot"><a href="#local-6989586621679922726"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-365"></span><span>      </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922726"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922715"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922716"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-366"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922726"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922715"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922726"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922716"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-367"></span><span>      </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922726"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922715"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922716"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-368"></span><span>    </span><span id="local-6989586621679924045"><span class="annot"><span class="annottext">go :: forall (s' :: S).
Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (Term s' k, Term s' v)
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924045"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679924054"><span class="annot"><span class="annottext">Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924054"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679924055"><span class="annot"><span class="annottext">Term s' k
</span><a href="#local-6989586621679924055"><span class="hs-identifier hs-var">key</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924056"><span class="annot"><span class="annottext">Term s' v
</span><a href="#local-6989586621679924056"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-369"></span><span>      </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s'
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s'
 -&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s')
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s'
forall (a :: PType) (s :: S).
Term s a -&gt; Term s (PBuiltinList a) -&gt; PBuiltinList a s
</span><a href="Plutarch.Builtin.html#PCons"><span class="hs-identifier hs-var">PCons</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s'
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><a href="Plutarch.Builtin.html#ppairDataBuiltin"><span class="hs-identifier hs-var">ppairDataBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s'
  (PAsData k
   :--&gt; (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s' (PAsData k)
-&gt; Term s' (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' k -&gt; Term s' (PAsData k)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><a href="Plutarch.Builtin.html#pdata"><span class="hs-identifier hs-var">pdata</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' k
</span><a href="#local-6989586621679924055"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (PAsData v :--&gt; PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s' (PAsData v)
-&gt; Term s' (PBuiltinPair (PAsData k) (PAsData v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' v -&gt; Term s' (PAsData v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><a href="Plutarch.Builtin.html#pdata"><span class="hs-identifier hs-var">pdata</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' v
</span><a href="#local-6989586621679924056"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924054"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span class="annot"><span class="hs-comment">{- | Given a 'Foldable' of (not necessarily sorted) key-value pairs, construct a
 'PMap' which is guaranteed sorted. Performs a linear number of ordered
 insertions with respect to the length of its argument.

 = Note

 If there are duplicate keys, only the /last/ key-value pair will remain in
 the result.
-}</span></span><span>
</span><span id="line-380"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#psortedMapFromFoldable"><span class="hs-identifier hs-type">psortedMapFromFoldable</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-381"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922731"><span class="annot"><a href="#local-6989586621679922731"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922732"><span class="annot"><a href="#local-6989586621679922732"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922730"><span class="annot"><a href="#local-6989586621679922730"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922733"><span class="annot"><a href="#local-6989586621679922733"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-382"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Foldable.html#Foldable"><span class="hs-identifier hs-type">Foldable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922730"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922731"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922731"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922732"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-383"></span><span>  </span><span class="annot"><a href="#local-6989586621679922730"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922733"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922731"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922733"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922732"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-384"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922733"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922731"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922732"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-385"></span><span id="psortedMapFromFoldable"><span class="annot"><span class="annottext">psortedMapFromFoldable :: forall (k :: PType) (v :: PType) (f :: Type -&gt; Type) (s :: S).
(Foldable f, POrd k, PIsData k, PIsData v) =&gt;
f (Term s k, Term s v) -&gt; Term s (PMap 'Sorted k v)
</span><a href="Plutarch.Api.V1.AssocMap.html#psortedMapFromFoldable"><span class="hs-identifier hs-var hs-var">psortedMapFromFoldable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; (Term s k, Term s v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
-&gt; f (Term s k, Term s v)
-&gt; Term s (PMap 'Sorted k v)
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; f a -&gt; b
forall (t :: Type -&gt; Type) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/Data.Foldable.html#foldl%27"><span class="hs-identifier hs-var">foldl'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
-&gt; (Term s k, Term s v) -&gt; Term s (PMap 'Sorted k v)
forall (s' :: S).
Term s' (PMap 'Sorted k v)
-&gt; (Term s' k, Term s' v) -&gt; Term s' (PMap 'Sorted k v)
</span><a href="#local-6989586621679924064"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
forall (s :: S) (k :: PType) (v :: PType).
Term s (PMap 'Sorted k v)
</span><a href="Plutarch.Api.V1.AssocMap.html#pempty"><span class="hs-identifier hs-var">pempty</span></a></span><span>
</span><span id="line-386"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-387"></span><span>    </span><span class="annot"><a href="#local-6989586621679924064"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-388"></span><span>      </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922738"><span class="annot"><a href="#local-6989586621679922738"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-389"></span><span>      </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922738"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922731"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922732"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-390"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922738"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922731"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922738"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922732"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-391"></span><span>      </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922738"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922731"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922732"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-392"></span><span>    </span><span id="local-6989586621679924064"><span class="annot"><span class="annottext">go :: forall (s' :: S).
Term s' (PMap 'Sorted k v)
-&gt; (Term s' k, Term s' v) -&gt; Term s' (PMap 'Sorted k v)
</span><a href="#local-6989586621679924064"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679924074"><span class="annot"><span class="annottext">Term s' (PMap 'Sorted k v)
</span><a href="#local-6989586621679924074"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679924075"><span class="annot"><span class="annottext">Term s' k
</span><a href="#local-6989586621679924075"><span class="hs-identifier hs-var">key</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924076"><span class="annot"><span class="annottext">Term s' v
</span><a href="#local-6989586621679924076"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s' (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term s (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#pinsert"><span class="hs-identifier hs-var">pinsert</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (k :--&gt; (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term s' k
-&gt; Term s' (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' k
</span><a href="#local-6989586621679924075"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term s' v -&gt; Term s' (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' v
</span><a href="#local-6989586621679924076"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)
-&gt; Term s' (PMap 'Sorted k v) -&gt; Term s' (PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s' (PMap 'Sorted k v)
</span><a href="#local-6989586621679924074"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-393"></span><span>
</span><span id="line-394"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679922745"><span id="local-6989586621679922746"><span id="local-6989586621679922747"><span id="local-6989586621679924082"><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922745"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922746"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922745"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IsList.html#IsList"><span class="hs-identifier hs-type">IsList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922747"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922745"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922746"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-395"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Item"><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IsList.html#Item"><span class="hs-identifier hs-var">Item</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922747"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Unsorted"><span class="hs-identifier hs-type">Unsorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922745"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922746"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922747"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922745"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922747"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922746"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-396"></span><span>  </span><span id="local-6989586621679924091"><span class="annot"><span class="annottext">fromList :: [Item (Term s (PMap 'Unsorted k v))] -&gt; Term s (PMap 'Unsorted k v)
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IsList.html#fromList"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Term s k, Term s v)] -&gt; Term s (PMap 'Unsorted k v)
[Item (Term s (PMap 'Unsorted k v))] -&gt; Term s (PMap 'Unsorted k v)
forall (k :: PType) (v :: PType) (f :: Type -&gt; Type) (s :: S).
(Foldable f, PIsData k, PIsData v) =&gt;
f (Term s k, Term s v) -&gt; Term s (PMap 'Unsorted k v)
</span><a href="Plutarch.Api.V1.AssocMap.html#punsortedMapFromFoldable"><span class="hs-identifier hs-var">punsortedMapFromFoldable</span></a></span><span>
</span><span id="line-397"></span><span>  </span><span id="local-6989586621679924097"><span class="annot"><span class="annottext">toList :: Term s (PMap 'Unsorted k v) -&gt; [Item (Term s (PMap 'Unsorted k v))]
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IsList.html#toList"><span class="hs-identifier hs-var hs-var hs-var hs-var">toList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
-&gt; Term s (PMap 'Unsorted k v)
-&gt; [Item (Term s (PMap 'Unsorted k v))]
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;unimplemented&quot;</span></span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679922754"><span id="local-6989586621679922755"><span id="local-6989586621679922756"><span id="local-6989586621679924104"><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922754"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922755"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922754"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IsList.html#IsList"><span class="hs-identifier hs-type">IsList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922756"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922754"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922755"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-400"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="Item"><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IsList.html#Item"><span class="hs-identifier hs-var">Item</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922756"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922754"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922755"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922756"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922754"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922756"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922755"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span>  </span><span id="local-6989586621679924112"><span class="annot"><span class="annottext">fromList :: [Item (Term s (PMap 'Sorted k v))] -&gt; Term s (PMap 'Sorted k v)
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IsList.html#fromList"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Term s k, Term s v)] -&gt; Term s (PMap 'Sorted k v)
[Item (Term s (PMap 'Sorted k v))] -&gt; Term s (PMap 'Sorted k v)
forall (k :: PType) (v :: PType) (f :: Type -&gt; Type) (s :: S).
(Foldable f, POrd k, PIsData k, PIsData v) =&gt;
f (Term s k, Term s v) -&gt; Term s (PMap 'Sorted k v)
</span><a href="Plutarch.Api.V1.AssocMap.html#psortedMapFromFoldable"><span class="hs-identifier hs-var">psortedMapFromFoldable</span></a></span><span>
</span><span id="line-402"></span><span>  </span><span id="local-6989586621679924117"><span class="annot"><span class="annottext">toList :: Term s (PMap 'Sorted k v) -&gt; [Item (Term s (PMap 'Sorted k v))]
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.IsList.html#toList"><span class="hs-identifier hs-var hs-var hs-var hs-var">toList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
-&gt; Term s (PMap 'Sorted k v) -&gt; [Item (Term s (PMap 'Sorted k v))]
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;unimplemented&quot;</span></span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-405"></span><span>  </span><span id="local-6989586621679922763"><span id="local-6989586621679922764"><span id="local-6989586621679922765"><span id="local-6989586621679924124"><span id="local-6989586621679924128"><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922763"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922763"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922764"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922765"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922764"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-406"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922765"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922763"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922764"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-407"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-408"></span><span>  </span><span id="local-6989586621679924149"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679924149"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679924150"><span class="annot"><span class="annottext">&lt;&gt; :: Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v)
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></a></span></span><span> </span><span id="local-6989586621679924151"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679924151"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Commutativity
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Commutativity
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#punionResolvingCollisionsWith"><span class="hs-identifier hs-var">punionResolvingCollisionsWith</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.Api.V1.AssocMap.html#NonCommutative"><span class="hs-identifier hs-var">NonCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((v :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term s (v :--&gt; (v :--&gt; v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s v -&gt; Term s v) -&gt; Term s (v :--&gt; (v :--&gt; v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s v -&gt; Term s v) -&gt; Term s (c :--&gt; (v :--&gt; v))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s v -&gt; Term s v
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679924149"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679924151"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-409"></span><span>
</span><span id="line-410"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-411"></span><span>  </span><span id="local-6989586621679922775"><span id="local-6989586621679922776"><span id="local-6989586621679922777"><span id="local-6989586621679924162"><span id="local-6989586621679924167"><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922775"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922775"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922776"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922774"><span class="annot"><a href="#local-6989586621679922774"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922774"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922776"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-412"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#Monoid"><span class="hs-identifier hs-type">Monoid</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922777"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922775"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922776"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-413"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-414"></span><span>  </span><span id="local-6989586621679924173"><span class="annot"><span class="annottext">mempty :: Term s (PMap 'Sorted k v)
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#mempty"><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
forall (s :: S) (k :: PType) (v :: PType).
Term s (PMap 'Sorted k v)
</span><a href="Plutarch.Api.V1.AssocMap.html#pempty"><span class="hs-identifier hs-var">pempty</span></a></span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-417"></span><span>  </span><span id="local-6989586621679922783"><span id="local-6989586621679922784"><span id="local-6989586621679922785"><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922783"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922783"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922784"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922785"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922784"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-418"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.Semigroup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922785"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922783"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922784"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-419"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-420"></span><span>  </span><span id="local-6989586621679924197"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679924197"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679924198"><span class="annot"><span class="annottext">&lt;&gt; :: Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679924198"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></a></span></span><span> </span><span id="local-6989586621679924200"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679924200"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Commutativity
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Commutativity
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#punionResolvingCollisionsWith"><span class="hs-identifier hs-var">punionResolvingCollisionsWith</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.Api.V1.AssocMap.html#NonCommutative"><span class="hs-identifier hs-var">NonCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((v :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term s (v :--&gt; (v :--&gt; v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s v -&gt; Term s v) -&gt; Term s (v :--&gt; (v :--&gt; v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s v -&gt; Term s v) -&gt; Term s (c :--&gt; (v :--&gt; v))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s v -&gt; Term s v
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(PlutusTx.&lt;&gt;)</span></span><span> </span><span class="annot"><span class="annottext">Term
  s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term s (PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679924197"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679924200"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-421"></span><span>
</span><span id="line-422"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-423"></span><span>  </span><span id="local-6989586621679922792"><span id="local-6989586621679922793"><span id="local-6989586621679922794"><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922792"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922792"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922793"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922791"><span class="annot"><a href="#local-6989586621679922791"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922791"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922793"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-424"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922794"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922792"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922793"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-425"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-426"></span><span>  </span><span id="local-6989586621679924213"><span class="annot"><span class="annottext">mempty :: Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679924213"><span class="hs-identifier hs-var hs-var hs-var hs-var">mempty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
forall (s :: S) (k :: PType) (v :: PType).
Term s (PMap 'Sorted k v)
</span><a href="Plutarch.Api.V1.AssocMap.html#pempty"><span class="hs-identifier hs-var">pempty</span></a></span><span>
</span><span id="line-427"></span><span>
</span><span id="line-428"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-429"></span><span>  </span><span id="local-6989586621679922801"><span id="local-6989586621679922802"><span id="local-6989586621679922803"><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922801"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922801"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922802"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922800"><span class="annot"><a href="#local-6989586621679922800"><span class="hs-identifier hs-type">s'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.Group</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922800"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922802"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-430"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PlutusTx.Group</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922803"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922801"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922802"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-431"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-432"></span><span>  </span><span id="local-6989586621679924238"><span class="annot"><span class="annottext">inv :: Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679924238"><span class="hs-identifier hs-var hs-var hs-var hs-var">inv</span></a></span></span><span> </span><span id="local-6989586621679924240"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679924240"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s ((v :--&gt; v) :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (a :: PType) (b :: PType) (s :: S) (g :: KeyGuarantees)
       (k :: PType).
(PIsData a, PIsData b) =&gt;
Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Api.V1.AssocMap.html#pmap"><span class="hs-identifier hs-var">pmap</span></a></span><span> </span><span class="annot"><span class="annottext">Term s ((v :--&gt; v) :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term s (v :--&gt; v)
-&gt; Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s v) -&gt; Term s (v :--&gt; v)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s v) -&gt; Term s (c :--&gt; v)
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s v
forall a. Group a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">PlutusTx.inv</span></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)
-&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679924240"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-433"></span><span>
</span><span id="line-434"></span><span class="hs-keyword">type</span><span> </span><span id="BothPresentHandler"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandler"><span class="hs-identifier hs-var">BothPresentHandler</span></a></span></span><span> </span><span id="local-6989586621679924241"><span class="annot"><a href="#local-6989586621679924241"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679924242"><span class="annot"><a href="#local-6989586621679924242"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679924243"><span class="annot"><a href="#local-6989586621679924243"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandler_"><span class="hs-identifier hs-type">BothPresentHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924243"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924241"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924243"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924242"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span class="hs-keyword">data</span><span> </span><span id="BothPresentHandler_"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandler_"><span class="hs-identifier hs-var">BothPresentHandler_</span></a></span></span><span> </span><span id="local-6989586621679922895"><span class="annot"><a href="#local-6989586621679922895"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679922896"><span class="annot"><a href="#local-6989586621679922896"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679922897"><span class="annot"><a href="#local-6989586621679922897"><span class="hs-identifier hs-type">v</span></a></span></span><span>
</span><span id="line-437"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DropBoth"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span></span><span>
</span><span id="line-438"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-comment">-- | True ~ left, False ~ right</span></span><span>
</span><span id="line-439"></span><span>    </span><span id="PassArg"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PassArg"><span class="hs-identifier hs-var">PassArg</span></a></span></span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-440"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HandleBoth"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922896"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922895"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922897"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922895"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922897"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922895"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922897"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span id="local-6989586621679924249"><span id="local-6989586621679924257"><span id="local-6989586621679924262"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679922817"><span id="local-6989586621679922818"><span id="local-6989586621679922819"><span class="annot"><a href="#local-6989586621679922817"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679922815"><span class="annot"><a href="#local-6989586621679922815"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679922816"><span class="annot"><a href="#local-6989586621679922816"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922817"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922815"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922816"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandler_"><span class="hs-identifier hs-type">BothPresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922817"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922818"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922819"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span class="hs-keyword">type</span><span> </span><span id="BothPresentHandlerCommutative"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandlerCommutative"><span class="hs-identifier hs-var">BothPresentHandlerCommutative</span></a></span></span><span> </span><span id="local-6989586621679924266"><span class="annot"><a href="#local-6989586621679924266"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679924267"><span class="annot"><a href="#local-6989586621679924267"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679924268"><span class="annot"><a href="#local-6989586621679924268"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandlerCommutative_"><span class="hs-identifier hs-type">BothPresentHandlerCommutative_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924268"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924266"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924268"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924267"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-445"></span><span>
</span><span id="line-446"></span><span class="hs-keyword">data</span><span> </span><span id="BothPresentHandlerCommutative_"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandlerCommutative_"><span class="hs-identifier hs-var">BothPresentHandlerCommutative_</span></a></span></span><span> </span><span id="local-6989586621679922905"><span class="annot"><a href="#local-6989586621679922905"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679922906"><span class="annot"><a href="#local-6989586621679922906"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679922907"><span class="annot"><a href="#local-6989586621679922907"><span class="hs-identifier hs-type">v</span></a></span></span><span>
</span><span id="line-447"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DropBothCommutative"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#DropBothCommutative"><span class="hs-identifier hs-var">DropBothCommutative</span></a></span></span><span>
</span><span id="line-448"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HandleBothCommutative"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-var">HandleBothCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922906"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922905"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922907"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922905"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922907"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922905"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922907"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span id="local-6989586621679924273"><span id="local-6989586621679924277"><span id="local-6989586621679924282"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679922826"><span id="local-6989586621679922827"><span id="local-6989586621679922828"><span class="annot"><a href="#local-6989586621679922826"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679922824"><span class="annot"><a href="#local-6989586621679922824"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679922825"><span class="annot"><a href="#local-6989586621679922825"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922826"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922824"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922825"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandlerCommutative_"><span class="hs-identifier hs-type">BothPresentHandlerCommutative_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922826"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922827"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922828"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span class="hs-keyword">type</span><span> </span><span id="OnePresentHandler"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-var">OnePresentHandler</span></a></span></span><span> </span><span id="local-6989586621679924285"><span class="annot"><a href="#local-6989586621679924285"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679924286"><span class="annot"><a href="#local-6989586621679924286"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679924287"><span class="annot"><a href="#local-6989586621679924287"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924287"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924285"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924287"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924286"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-453"></span><span>
</span><span id="line-454"></span><span class="hs-keyword">data</span><span> </span><span id="OnePresentHandler_"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-var">OnePresentHandler_</span></a></span></span><span> </span><span id="local-6989586621679922915"><span class="annot"><a href="#local-6989586621679922915"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679922916"><span class="annot"><a href="#local-6989586621679922916"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679922917"><span class="annot"><a href="#local-6989586621679922917"><span class="hs-identifier hs-type">v</span></a></span></span><span>
</span><span id="line-455"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DropOne"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span></span><span>
</span><span id="line-456"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PassOne"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span></span><span>
</span><span id="line-457"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HandleOne"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#HandleOne"><span class="hs-identifier hs-var">HandleOne</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922916"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922915"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922917"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922915"><span class="hs-operator hs-type">`f`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922917"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-458"></span><span>
</span><span id="line-459"></span><span id="local-6989586621679924293"><span id="local-6989586621679924297"><span id="local-6989586621679924302"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679922835"><span id="local-6989586621679922836"><span id="local-6989586621679922837"><span class="annot"><a href="#local-6989586621679922835"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679922833"><span class="annot"><a href="#local-6989586621679922833"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679922834"><span class="annot"><a href="#local-6989586621679922834"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922835"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922833"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922834"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922835"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922836"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922837"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-460"></span><span>
</span><span id="line-461"></span><span class="hs-keyword">type</span><span> </span><span id="MergeHandler"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span></span><span> </span><span id="local-6989586621679924305"><span class="annot"><a href="#local-6989586621679924305"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679924306"><span class="annot"><a href="#local-6989586621679924306"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679924307"><span class="annot"><a href="#local-6989586621679924307"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler_"><span class="hs-identifier hs-type">MergeHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924307"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924305"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924307"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924306"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-462"></span><span>
</span><span id="line-463"></span><span class="annot"><span class="hs-comment">{- | Signals how to handle value merging for matching keys in 'pzipWith'.

 No restrictions on commutativity: Safe to use for both commutative and
 non-commutative merging operations.
-}</span></span><span>
</span><span id="line-468"></span><span class="hs-keyword">data</span><span> </span><span id="MergeHandler_"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler_"><span class="hs-identifier hs-var">MergeHandler_</span></a></span></span><span> </span><span id="local-6989586621679922838"><span class="annot"><a href="#local-6989586621679922838"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679922839"><span class="annot"><a href="#local-6989586621679922839"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679922840"><span class="annot"><a href="#local-6989586621679922840"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MergeHandler"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span></span><span>
</span><span id="line-469"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AmhBoth%3AMergeHandler"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#%24sel%3AmhBoth%3AMergeHandler"><span class="hs-identifier hs-var hs-var">mhBoth</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandler_"><span class="hs-identifier hs-type">BothPresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922838"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922839"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922840"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-470"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AmhLeft%3AMergeHandler"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#%24sel%3AmhLeft%3AMergeHandler"><span class="hs-identifier hs-var hs-var">mhLeft</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922838"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922839"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922840"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-471"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AmhRight%3AMergeHandler"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#%24sel%3AmhRight%3AMergeHandler"><span class="hs-identifier hs-var hs-var">mhRight</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922838"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922839"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922840"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-472"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-473"></span><span>
</span><span id="line-474"></span><span id="local-6989586621679924314"><span id="local-6989586621679924322"><span id="local-6989586621679924327"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679922856"><span id="local-6989586621679922857"><span id="local-6989586621679922858"><span class="annot"><a href="#local-6989586621679922856"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679922854"><span class="annot"><a href="#local-6989586621679922854"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679922855"><span class="annot"><a href="#local-6989586621679922855"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922856"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922854"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922855"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler_"><span class="hs-identifier hs-type">MergeHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922856"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922857"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922858"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-475"></span><span>
</span><span id="line-476"></span><span class="hs-keyword">type</span><span> </span><span id="MergeHandlerCommutative"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span></span><span> </span><span id="local-6989586621679924330"><span class="annot"><a href="#local-6989586621679924330"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679924331"><span class="annot"><a href="#local-6989586621679924331"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679924332"><span class="annot"><a href="#local-6989586621679924332"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative_"><span class="hs-identifier hs-type">MergeHandlerCommutative_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924332"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924330"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924332"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924331"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-477"></span><span>
</span><span id="line-478"></span><span class="annot"><span class="hs-comment">{- | Signals how to handle value merging for matching keys in 'pzipWith'.

 Safe to use for commutative merging operations only.
-}</span></span><span>
</span><span id="line-482"></span><span class="hs-keyword">data</span><span> </span><span id="MergeHandlerCommutative_"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative_"><span class="hs-identifier hs-var">MergeHandlerCommutative_</span></a></span></span><span> </span><span id="local-6989586621679922859"><span class="annot"><a href="#local-6989586621679922859"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679922860"><span class="annot"><a href="#local-6989586621679922860"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679922861"><span class="annot"><a href="#local-6989586621679922861"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MergeHandlerCommutative"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span></span><span>
</span><span id="line-483"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AmhcBoth%3AMergeHandlerCommutative"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v
-&gt; BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#%24sel%3AmhcBoth%3AMergeHandlerCommutative"><span class="hs-identifier hs-var hs-var">mhcBoth</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandlerCommutative_"><span class="hs-identifier hs-type">BothPresentHandlerCommutative_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922859"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922860"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922861"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-484"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AmhcOne%3AMergeHandlerCommutative"><span class="annot"><span class="annottext">forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#%24sel%3AmhcOne%3AMergeHandlerCommutative"><span class="hs-identifier hs-var hs-var">mhcOne</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#OnePresentHandler_"><span class="hs-identifier hs-type">OnePresentHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922859"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922860"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922861"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-485"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-486"></span><span>
</span><span id="line-487"></span><span id="local-6989586621679924338"><span id="local-6989586621679924345"><span id="local-6989586621679924350"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679922874"><span id="local-6989586621679922875"><span id="local-6989586621679922876"><span class="annot"><a href="#local-6989586621679922874"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679922872"><span class="annot"><a href="#local-6989586621679922872"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679922873"><span class="annot"><a href="#local-6989586621679922873"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922874"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922872"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922873"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative_"><span class="hs-identifier hs-type">MergeHandlerCommutative_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922874"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922875"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922876"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-488"></span><span>
</span><span id="line-489"></span><span class="hs-keyword">type</span><span> </span><span id="SomeMergeHandler"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span></span><span> </span><span id="local-6989586621679924353"><span class="annot"><a href="#local-6989586621679924353"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679924354"><span class="annot"><a href="#local-6989586621679924354"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679924355"><span class="annot"><a href="#local-6989586621679924355"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler_"><span class="hs-identifier hs-type">SomeMergeHandler_</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-&gt;</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924355"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924353"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924355"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679924354"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-490"></span><span>
</span><span id="line-491"></span><span class="annot"><span class="hs-comment">-- | Signals how to handle value merging for matching keys in 'pzipWith'.</span></span><span>
</span><span id="line-492"></span><span class="hs-keyword">data</span><span> </span><span id="SomeMergeHandler_"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler_"><span class="hs-identifier hs-var">SomeMergeHandler_</span></a></span></span><span> </span><span id="local-6989586621679922997"><span class="annot"><a href="#local-6989586621679922997"><span class="hs-identifier hs-type">f</span></a></span></span><span> </span><span id="local-6989586621679922998"><span class="annot"><a href="#local-6989586621679922998"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679922999"><span class="annot"><a href="#local-6989586621679922999"><span class="hs-identifier hs-type">v</span></a></span></span><span>
</span><span id="line-493"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="SomeMergeHandlerCommutative"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-var">SomeMergeHandlerCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative_"><span class="hs-identifier hs-type">MergeHandlerCommutative_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922997"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922998"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922999"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-494"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SomeMergeHandler"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler_"><span class="hs-identifier hs-type">MergeHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922997"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922998"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922999"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-495"></span><span>
</span><span id="line-496"></span><span id="local-6989586621679924360"><span id="local-6989586621679924368"><span id="local-6989586621679924373"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679922883"><span id="local-6989586621679922884"><span id="local-6989586621679922885"><span class="annot"><a href="#local-6989586621679922883"><span class="hs-keyword hs-type hs-type hs-type">stock</span></a></span></span></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679922881"><span class="annot"><a href="#local-6989586621679922881"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679922882"><span class="annot"><a href="#local-6989586621679922882"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922883"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922881"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922882"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler_"><span class="hs-identifier hs-type">SomeMergeHandler_</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922883"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922884"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922885"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-497"></span><span>
</span><span id="line-498"></span><span class="hs-keyword">data</span><span> </span><span id="Commutativity"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Commutativity"><span class="hs-identifier hs-var">Commutativity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Commutative"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Commutative"><span class="hs-identifier hs-var">Commutative</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="NonCommutative"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#NonCommutative"><span class="hs-identifier hs-var">NonCommutative</span></a></span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679924378"><span id="local-6989586621679924380"><span class="annot"><span class="annottext">Commutativity -&gt; Commutativity -&gt; Bool
(Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool) -&gt; Eq Commutativity
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Commutativity -&gt; Commutativity -&gt; Bool
== :: Commutativity -&gt; Commutativity -&gt; Bool
$c/= :: Commutativity -&gt; Commutativity -&gt; Bool
/= :: Commutativity -&gt; Commutativity -&gt; Bool
</span><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924387"><span id="local-6989586621679924389"><span id="local-6989586621679924391"><span id="local-6989586621679924395"><span id="local-6989586621679924398"><span id="local-6989586621679924401"><span id="local-6989586621679924404"><span class="annot"><span class="annottext">Eq Commutativity
Eq Commutativity =&gt;
(Commutativity -&gt; Commutativity -&gt; Ordering)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Bool)
-&gt; (Commutativity -&gt; Commutativity -&gt; Commutativity)
-&gt; (Commutativity -&gt; Commutativity -&gt; Commutativity)
-&gt; Ord Commutativity
Commutativity -&gt; Commutativity -&gt; Bool
Commutativity -&gt; Commutativity -&gt; Ordering
Commutativity -&gt; Commutativity -&gt; Commutativity
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Commutativity -&gt; Commutativity -&gt; Ordering
compare :: Commutativity -&gt; Commutativity -&gt; Ordering
$c&lt; :: Commutativity -&gt; Commutativity -&gt; Bool
&lt; :: Commutativity -&gt; Commutativity -&gt; Bool
$c&lt;= :: Commutativity -&gt; Commutativity -&gt; Bool
&lt;= :: Commutativity -&gt; Commutativity -&gt; Bool
$c&gt; :: Commutativity -&gt; Commutativity -&gt; Bool
&gt; :: Commutativity -&gt; Commutativity -&gt; Bool
$c&gt;= :: Commutativity -&gt; Commutativity -&gt; Bool
&gt;= :: Commutativity -&gt; Commutativity -&gt; Bool
$cmax :: Commutativity -&gt; Commutativity -&gt; Commutativity
max :: Commutativity -&gt; Commutativity -&gt; Commutativity
$cmin :: Commutativity -&gt; Commutativity -&gt; Commutativity
min :: Commutativity -&gt; Commutativity -&gt; Commutativity
</span><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679924408"><span id="local-6989586621679924410"><span id="local-6989586621679924414"><span class="annot"><span class="annottext">Int -&gt; Commutativity -&gt; ShowS
[Commutativity] -&gt; ShowS
Commutativity -&gt; [Char]
(Int -&gt; Commutativity -&gt; ShowS)
-&gt; (Commutativity -&gt; [Char])
-&gt; ([Commutativity] -&gt; ShowS)
-&gt; Show Commutativity
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Commutativity -&gt; ShowS
showsPrec :: Int -&gt; Commutativity -&gt; ShowS
$cshow :: Commutativity -&gt; [Char]
show :: Commutativity -&gt; [Char]
$cshowList :: [Commutativity] -&gt; ShowS
showList :: [Commutativity] -&gt; ShowS
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-499"></span><span>
</span><span id="line-500"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#bothPresentOnData"><span class="hs-identifier hs-type">bothPresentOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-501"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922890"><span class="annot"><a href="#local-6989586621679922890"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922888"><span class="annot"><a href="#local-6989586621679922888"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922889"><span class="annot"><a href="#local-6989586621679922889"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-502"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922888"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922889"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-503"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandler"><span class="hs-identifier hs-type">BothPresentHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922888"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922889"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922890"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-504"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandler"><span class="hs-identifier hs-type">BothPresentHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922888"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922889"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679922890"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-505"></span><span id="bothPresentOnData"><span class="annot"><span class="annottext">bothPresentOnData :: forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
BothPresentHandler k v s
-&gt; BothPresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.V1.AssocMap.html#bothPresentOnData"><span class="hs-identifier hs-var hs-var">bothPresentOnData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-506"></span><span>  </span><span class="annot"><span class="annottext">BothPresentHandler k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BothPresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v. BothPresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span><span>
</span><span id="line-507"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PassArg"><span class="hs-identifier hs-type">PassArg</span></a></span><span> </span><span id="local-6989586621679924423"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679924423"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; BothPresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
Bool -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#PassArg"><span class="hs-identifier hs-var">PassArg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679924423"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-508"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#HandleBoth"><span class="hs-identifier hs-type">HandleBoth</span></a></span><span> </span><span id="local-6989586621679924424"><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s k)
  ((-&gt;)
     @LiftedRep
     @LiftedRep
     (Term s v)
     ((-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)))
</span><a href="#local-6989586621679924424"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s (PAsData k))
  ((-&gt;)
     @LiftedRep
     @LiftedRep
     (Term s (PAsData v))
     ((-&gt;)
        @LiftedRep @LiftedRep (Term s (PAsData v)) (Term s (PAsData v))))
-&gt; BothPresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679924425"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924425"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679924426"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679924426"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679924427"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679924427"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><a href="Plutarch.Builtin.html#pdata"><span class="hs-identifier hs-var">pdata</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s (PAsData v)) -&gt; Term s v -&gt; Term s (PAsData v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s k)
  ((-&gt;)
     @LiftedRep
     @LiftedRep
     (Term s v)
     ((-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)))
</span><a href="#local-6989586621679924424"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924425"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679924426"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679924427"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-509"></span><span>
</span><span id="line-510"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#bothPresentCommutativeOnData"><span class="hs-identifier hs-type">bothPresentCommutativeOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-511"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922900"><span class="annot"><a href="#local-6989586621679922900"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922898"><span class="annot"><a href="#local-6989586621679922898"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922899"><span class="annot"><a href="#local-6989586621679922899"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-512"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922898"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922899"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-513"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandlerCommutative"><span class="hs-identifier hs-type">BothPresentHandlerCommutative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922898"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922899"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922900"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-514"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#BothPresentHandlerCommutative"><span class="hs-identifier hs-type">BothPresentHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922898"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922899"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679922900"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-515"></span><span id="bothPresentCommutativeOnData"><span class="annot"><span class="annottext">bothPresentCommutativeOnData :: forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
BothPresentHandlerCommutative k v s
-&gt; BothPresentHandlerCommutative (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.V1.AssocMap.html#bothPresentCommutativeOnData"><span class="hs-identifier hs-var hs-var">bothPresentCommutativeOnData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-516"></span><span>  </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#DropBothCommutative"><span class="hs-identifier hs-var">DropBothCommutative</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#DropBothCommutative"><span class="hs-identifier hs-var">DropBothCommutative</span></a></span><span>
</span><span id="line-517"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-type">HandleBothCommutative</span></a></span><span> </span><span id="local-6989586621679924435"><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s k)
  ((-&gt;)
     @LiftedRep
     @LiftedRep
     (Term s v)
     ((-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)))
</span><a href="#local-6989586621679924435"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-518"></span><span>    </span><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s (PAsData k))
  ((-&gt;)
     @LiftedRep
     @LiftedRep
     (Term s (PAsData v))
     ((-&gt;)
        @LiftedRep @LiftedRep (Term s (PAsData v)) (Term s (PAsData v))))
-&gt; BothPresentHandlerCommutative (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-var">HandleBothCommutative</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679924436"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924436"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679924437"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679924437"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679924438"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679924438"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><a href="Plutarch.Builtin.html#pdata"><span class="hs-identifier hs-var">pdata</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s (PAsData v)) -&gt; Term s v -&gt; Term s (PAsData v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s k)
  ((-&gt;)
     @LiftedRep
     @LiftedRep
     (Term s v)
     ((-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)))
</span><a href="#local-6989586621679924435"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924436"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679924437"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679924438"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-type">onePresentOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-521"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922910"><span class="annot"><a href="#local-6989586621679922910"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922908"><span class="annot"><a href="#local-6989586621679922908"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922909"><span class="annot"><a href="#local-6989586621679922909"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-522"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922908"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922909"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-523"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-type">OnePresentHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922908"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922909"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922910"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-524"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-type">OnePresentHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922908"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922909"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679922910"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-525"></span><span id="onePresentOnData"><span class="annot"><span class="annottext">onePresentOnData :: forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
OnePresentHandler k v s
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.V1.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-var hs-var">onePresentOnData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-526"></span><span>  </span><span class="annot"><span class="annottext">OnePresentHandler k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span>
</span><span id="line-527"></span><span>  </span><span class="annot"><span class="annottext">OnePresentHandler k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span>
</span><span id="line-528"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679924445"><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s k)
  ((-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v))
</span><a href="#local-6989586621679924445"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s (PAsData k))
  ((-&gt;)
     @LiftedRep @LiftedRep (Term s (PAsData v)) (Term s (PAsData v)))
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v v) -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#HandleOne"><span class="hs-identifier hs-var">HandleOne</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679924446"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924446"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679924447"><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679924447"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (PAsData v)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><a href="Plutarch.Builtin.html#pdata"><span class="hs-identifier hs-var">pdata</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s (PAsData v)) -&gt; Term s v -&gt; Term s (PAsData v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s k)
  ((-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v))
</span><a href="#local-6989586621679924445"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924446"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
</span><a href="#local-6989586621679924447"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-529"></span><span>
</span><span id="line-530"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#mergeHandlerOnData"><span class="hs-identifier hs-type">mergeHandlerOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-531"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922920"><span class="annot"><a href="#local-6989586621679922920"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922918"><span class="annot"><a href="#local-6989586621679922918"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922919"><span class="annot"><a href="#local-6989586621679922919"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-532"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922918"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922919"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-533"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922918"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922919"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922920"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-534"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922918"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922919"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679922920"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-535"></span><span id="mergeHandlerOnData"><span class="annot"><span class="annottext">mergeHandlerOnData :: forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
MergeHandler k v s -&gt; MergeHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.V1.AssocMap.html#mergeHandlerOnData"><span class="hs-identifier hs-var hs-var">mergeHandlerOnData</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span id="local-6989586621679924457"><span class="annot"><span class="annottext">BothPresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
</span><a href="#local-6989586621679924457"><span class="hs-identifier hs-var">bothPresent</span></a></span></span><span> </span><span id="local-6989586621679924458"><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
</span><a href="#local-6989586621679924458"><span class="hs-identifier hs-var">leftPresent</span></a></span></span><span> </span><span id="local-6989586621679924459"><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
</span><a href="#local-6989586621679924459"><span class="hs-identifier hs-var">rightPresent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-536"></span><span>  </span><span class="annot"><span class="annottext">BothPresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
-&gt; MergeHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BothPresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; BothPresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
BothPresentHandler k v s
-&gt; BothPresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.V1.AssocMap.html#bothPresentOnData"><span class="hs-identifier hs-var">bothPresentOnData</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
</span><a href="#local-6989586621679924457"><span class="hs-identifier hs-var">bothPresent</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
OnePresentHandler k v s
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.V1.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-var">onePresentOnData</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
</span><a href="#local-6989586621679924458"><span class="hs-identifier hs-var">leftPresent</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
OnePresentHandler k v s
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.V1.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-var">onePresentOnData</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
</span><a href="#local-6989586621679924459"><span class="hs-identifier hs-var">rightPresent</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-537"></span><span>
</span><span id="line-538"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#mergeHandlerCommutativeOnData"><span class="hs-identifier hs-type">mergeHandlerCommutativeOnData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-539"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922927"><span class="annot"><a href="#local-6989586621679922927"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922925"><span class="annot"><a href="#local-6989586621679922925"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922926"><span class="annot"><a href="#local-6989586621679922926"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-540"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922925"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922926"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-541"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922925"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922926"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922927"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-542"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922925"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922926"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679922927"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-543"></span><span id="mergeHandlerCommutativeOnData"><span class="annot"><span class="annottext">mergeHandlerCommutativeOnData :: forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
MergeHandlerCommutative k v s
-&gt; MergeHandlerCommutative (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.V1.AssocMap.html#mergeHandlerCommutativeOnData"><span class="hs-identifier hs-var hs-var">mergeHandlerCommutativeOnData</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span id="local-6989586621679924467"><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
</span><a href="#local-6989586621679924467"><span class="hs-identifier hs-var">bothPresent</span></a></span></span><span> </span><span id="local-6989586621679924468"><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
</span><a href="#local-6989586621679924468"><span class="hs-identifier hs-var">onePresent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-544"></span><span>  </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
-&gt; MergeHandlerCommutative_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandlerCommutative_ f k v
-&gt; OnePresentHandler_ f k v -&gt; MergeHandlerCommutative_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; BothPresentHandlerCommutative_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
BothPresentHandlerCommutative k v s
-&gt; BothPresentHandlerCommutative (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.V1.AssocMap.html#bothPresentCommutativeOnData"><span class="hs-identifier hs-var">bothPresentCommutativeOnData</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
</span><a href="#local-6989586621679924467"><span class="hs-identifier hs-var">bothPresent</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
OnePresentHandler k v s
-&gt; OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.V1.AssocMap.html#onePresentOnData"><span class="hs-identifier hs-var">onePresentOnData</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
</span><a href="#local-6989586621679924468"><span class="hs-identifier hs-var">onePresent</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-545"></span><span>
</span><span id="line-546"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#branchOrder"><span class="hs-identifier hs-type">branchOrder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922932"><span class="annot"><a href="#local-6989586621679922932"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922934"><span class="annot"><a href="#local-6989586621679922934"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Plutarch.Bool.html#PSBool"><span class="hs-identifier hs-type">PSBool</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922932"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679922934"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679922934"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679922934"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-547"></span><span id="branchOrder"><span class="annot"><span class="annottext">branchOrder :: forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.Api.V1.AssocMap.html#branchOrder"><span class="hs-identifier hs-var hs-var">branchOrder</span></a></span></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="Plutarch.Bool.html#PSTrue"><span class="hs-identifier hs-var">PSTrue</span></a></span><span> </span><span id="local-6989586621679924470"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679924470"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679924470"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-548"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="Plutarch.Bool.html#PSFalse"><span class="hs-identifier hs-var">PSFalse</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679924471"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679924471"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679924471"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-549"></span><span>
</span><span id="line-550"></span><span class="annot"><span class="hs-comment">-- | Apply given Plutarch fun with given reified (on Haskell-level) arg order.</span></span><span>
</span><span id="line-551"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#applyOrder"><span class="hs-identifier hs-type">applyOrder</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-552"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922937"><span class="annot"><a href="#local-6989586621679922937"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922938"><span class="annot"><a href="#local-6989586621679922938"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922939"><span class="annot"><a href="#local-6989586621679922939"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-553"></span><span>  </span><span class="annot"><span class="hs-comment">-- | 'PSTrue' means first arg is left, second arg is right.</span></span><span>
</span><span id="line-554"></span><span>  </span><span class="annot"><a href="Plutarch.Bool.html#PSBool"><span class="hs-identifier hs-type">PSBool</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922937"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-555"></span><span>  </span><span class="annot"><span class="hs-comment">-- | A function that expects argument order 'left right'.</span></span><span>
</span><span id="line-556"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922937"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922938"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922938"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922939"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-557"></span><span>  </span><span class="annot"><span class="hs-comment">-- | First arg.</span></span><span>
</span><span id="line-558"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922937"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922938"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-559"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Second arg.</span></span><span>
</span><span id="line-560"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922937"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922938"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-561"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922937"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922939"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-562"></span><span id="applyOrder"><span class="annot"><span class="annottext">applyOrder :: forall (s :: S) (a :: PType) (b :: PType).
PSBool s
-&gt; Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Api.V1.AssocMap.html#applyOrder"><span class="hs-identifier hs-var hs-var">applyOrder</span></a></span></span><span> </span><span id="local-6989586621679924481"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679924481"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span id="local-6989586621679924482"><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b))
</span><a href="#local-6989586621679924482"><span class="hs-identifier hs-var">pfun</span></a></span></span><span> </span><span id="local-6989586621679924483"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679924483"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679924484"><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679924484"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PSBool s -&gt; Term s b -&gt; Term s b -&gt; Term s b
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.Api.V1.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679924481"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b))
</span><a href="#local-6989586621679924482"><span class="hs-identifier hs-var">pfun</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s (a :--&gt; b)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679924483"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679924484"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b))
</span><a href="#local-6989586621679924482"><span class="hs-identifier hs-var">pfun</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s (a :--&gt; b)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679924484"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
</span><a href="#local-6989586621679924483"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-563"></span><span>
</span><span id="line-564"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#applyOrder%27"><span class="hs-identifier hs-type">applyOrder'</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-565"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922943"><span class="annot"><a href="#local-6989586621679922943"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922944"><span class="annot"><a href="#local-6989586621679922944"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922945"><span class="annot"><a href="#local-6989586621679922945"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-566"></span><span>  </span><span class="annot"><span class="hs-comment">-- | 'PSTrue' means first arg is left, second arg is right.</span></span><span>
</span><span id="line-567"></span><span>  </span><span class="annot"><a href="Plutarch.Bool.html#PSBool"><span class="hs-identifier hs-type">PSBool</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922943"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-568"></span><span>  </span><span class="annot"><span class="hs-comment">-- | A function that expects argument order 'left right'.</span></span><span>
</span><span id="line-569"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922944"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679922944"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679922945"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-570"></span><span>  </span><span class="annot"><span class="hs-comment">-- | First arg.</span></span><span>
</span><span id="line-571"></span><span>  </span><span class="annot"><a href="#local-6989586621679922944"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-572"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Second arg.</span></span><span>
</span><span id="line-573"></span><span>  </span><span class="annot"><a href="#local-6989586621679922944"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-574"></span><span>  </span><span class="annot"><a href="#local-6989586621679922945"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-575"></span><span id="applyOrder%27"><span class="annot"><span class="annottext">applyOrder' :: forall (s :: S) a b. PSBool s -&gt; (a -&gt; a -&gt; b) -&gt; a -&gt; a -&gt; b
</span><a href="Plutarch.Api.V1.AssocMap.html#applyOrder%27"><span class="hs-identifier hs-var hs-var">applyOrder'</span></a></span></span><span> </span><span id="local-6989586621679924486"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679924486"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span id="local-6989586621679924487"><span class="annot"><span class="annottext">a -&gt; a -&gt; b
</span><a href="#local-6989586621679924487"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span id="local-6989586621679924488"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679924488"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679924489"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679924489"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PSBool s -&gt; b -&gt; b -&gt; b
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.Api.V1.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679924486"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; b
</span><a href="#local-6989586621679924487"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679924488"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679924489"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; b
</span><a href="#local-6989586621679924487"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679924489"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679924488"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-576"></span><span>
</span><span id="line-577"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#zipMergeInsert"><span class="hs-identifier hs-type">zipMergeInsert</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-578"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922951"><span class="annot"><a href="#local-6989586621679922951"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922949"><span class="annot"><a href="#local-6989586621679922949"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922950"><span class="annot"><a href="#local-6989586621679922950"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-579"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922949"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922949"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-580"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922949"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922950"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679922951"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-581"></span><span>  </span><span class="hs-comment">-- | 'PSTrue' means first arg is left, second arg is right.</span><span>
</span><span id="line-582"></span><span>  </span><span class="hs-comment">-- The first list gets passed in deconstructed form as head and tail</span><span>
</span><span id="line-583"></span><span>  </span><span class="hs-comment">-- separately.</span><span>
</span><span id="line-584"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-585"></span><span>    </span><span class="annot"><a href="#local-6989586621679922951"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-586"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.Bool.html#PSBool"><span class="hs-identifier hs-type">PSBool</span></a></span><span>
</span><span id="line-587"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922949"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922950"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-588"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922949"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922950"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-589"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922949"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922950"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-590"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922949"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922950"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-591"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-592"></span><span id="zipMergeInsert"><span class="annot"><span class="annottext">zipMergeInsert :: forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
MergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="Plutarch.Api.V1.AssocMap.html#zipMergeInsert"><span class="hs-identifier hs-var hs-var">zipMergeInsert</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span id="local-6989586621679924664"><span class="annot"><span class="annottext">BothPresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924664"><span class="hs-identifier hs-var">bothPresent</span></a></span></span><span> </span><span id="local-6989586621679924665"><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924665"><span class="hs-identifier hs-var">leftPresent</span></a></span></span><span> </span><span id="local-6989586621679924666"><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924666"><span class="hs-identifier hs-var">rightPresent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermCont
  @(PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
  s
  (Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (a :: PType) (s :: S). TermCont @a s (Term s a) -&gt; Term s a
</span><a href="Plutarch.TermCont.html#unTermCont"><span class="hs-identifier hs-var">unTermCont</span></a></span><span> </span><span class="annot"><span class="annottext">(TermCont
   @(PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   s
   (Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
 -&gt; Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; TermCont
     @(PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
     s
     (Term
        s
        (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-593"></span><span>  </span><span class="hs-comment">-- deduplicates all the zipMerge calls through plet, almost as good as hoisting</span><span>
</span><span id="line-594"></span><span>  </span><span id="local-6989586621679924668"><span class="annot"><span class="annottext">Term
  s
  ((PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679924668"><span class="hs-identifier hs-var">zipMerge'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term
    s
    ((PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
  -&gt; Term
       s
       (PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
 -&gt; Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; TermCont
     @(PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
     s
     (Term
        s
        ((PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont @r s a
</span><a href="Plutarch.TermCont.html#tcont"><span class="hs-identifier hs-var">tcont</span></a></span><span> </span><span class="annot"><span class="annottext">(((Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   -&gt; Term
        s
        (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
  -&gt; Term
       s
       (PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
 -&gt; TermCont
      @(PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      s
      (Term
         s
         ((PSBool
           :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; ((Term
       s
       ((PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     -&gt; Term
          s
          (PSBool
           :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
    -&gt; Term
         s
         (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; TermCont
     @(PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
     s
     (Term
        s
        ((PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term
      s
      ((PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   ((PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; (Term
       s
       ((PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     -&gt; Term
          s
          (PSBool
           :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
 -&gt; Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term
      s
      ((PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
  -&gt; Term
       s
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; Term
      s
      ((PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; (Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    -&gt; Term
         s
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.Api.V1.AssocMap.html#zipMerge"><span class="hs-identifier hs-var">zipMerge</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924666"><span class="hs-identifier hs-var">rightPresent</span></a></span><span>
</span><span id="line-595"></span><span>  </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     @(PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
     s
     (Term
        s
        (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall a.
a
-&gt; TermCont
     @(PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
     s
     a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; TermCont
      @(PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      s
      (Term
         s
         (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     @(PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
     s
     (Term
        s
        (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    :--&gt; (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
   :--&gt; (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (((a :--&gt; b) :--&gt; (a :--&gt; b)) :--&gt; (a :--&gt; b))
</span><a href="Plutarch.Internal.Other.html#pfix"><span class="hs-identifier hs-var">pfix</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    :--&gt; (PSBool
          :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
   :--&gt; (PSBool
         :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                           :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PSBool
            :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23%24"><span class="hs-operator hs-var">#$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term s PSBool
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PSBool
            :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s PSBool
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (c
      :--&gt; (PSBool
            :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PSBool
     :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
  -&gt; Term s PSBool
  -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term
      s
      ((PSBool
        :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                          :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
       :--&gt; (PSBool
             :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))))
-&gt; (Term
      s
      (PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    -&gt; Term s PSBool
    -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     ((PSBool
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
      :--&gt; (PSBool
            :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679924671"><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679924671"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679924672"><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679924672"><span class="hs-identifier hs-var">argOrder'</span></a></span></span><span> </span><span id="local-6989586621679924673"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924673"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679924674"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924674"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span id="local-6989586621679924675"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924675"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont
  @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  s
  (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). TermCont @a s (Term s a) -&gt; Term s a
</span><a href="Plutarch.TermCont.html#unTermCont"><span class="hs-identifier hs-var">unTermCont</span></a></span><span> </span><span class="annot"><span class="annottext">(TermCont
   @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   s
   (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-596"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679924676"><span class="annot"><span class="annottext">zipMergeRec :: Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679924676"><span class="hs-identifier hs-var hs-var">zipMergeRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679924668"><span class="hs-identifier hs-var">zipMerge'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PSBool
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679924671"><span class="hs-identifier hs-var">self</span></a></span><span>
</span><span id="line-597"></span><span>        </span><span id="local-6989586621679924677"><span class="annot"><span class="annottext">xs :: Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924677"><span class="hs-identifier hs-var hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924673"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924674"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-598"></span><span>        </span><span id="local-6989586621679924678"><span class="annot"><span class="annottext">zipMergeOrdered :: Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924678"><span class="hs-identifier hs-var hs-var">zipMergeOrdered</span></a></span></span><span> </span><span id="local-6989586621679924679"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924679"><span class="hs-identifier hs-var">xSide</span></a></span></span><span> </span><span id="local-6989586621679924680"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924680"><span class="hs-identifier hs-var">ySide</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-599"></span><span>          </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.PlutusType.html#pmatch"><span class="hs-identifier hs-var">pmatch</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679924672"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679924682"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679924682"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
PSBool s
-&gt; Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Api.V1.AssocMap.html#applyOrder"><span class="hs-identifier hs-var">applyOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679924682"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679924676"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924679"><span class="hs-identifier hs-var">xSide</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924680"><span class="hs-identifier hs-var">ySide</span></a></span><span>
</span><span id="line-600"></span><span>    </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a.
a
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))) s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      s
      (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.PlutusType.html#pmatch"><span class="hs-identifier hs-var">pmatch</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924675"><span class="hs-identifier hs-var">ys</span></a></span><span> </span><span class="annot"><span class="annottext">((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-601"></span><span>      </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
</span><a href="Plutarch.Builtin.html#PNil"><span class="hs-identifier hs-var">PNil</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.PlutusType.html#pmatch"><span class="hs-identifier hs-var">pmatch</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679924672"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679924683"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679924683"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-602"></span><span>        </span><span class="hs-comment">-- picking handler for presence of x-side only</span><span>
</span><span id="line-603"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.Api.V1.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679924683"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924665"><span class="hs-identifier hs-var">leftPresent</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924666"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-604"></span><span>          </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="Plutarch.Api.V1.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: PType) (s :: S). PBuiltinList a s
</span><a href="Plutarch.Builtin.html#PNil"><span class="hs-identifier hs-var">PNil</span></a></span><span>
</span><span id="line-605"></span><span>          </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="Plutarch.Api.V1.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924673"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924674"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-606"></span><span>          </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679924684"><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s (PAsData k))
  ((-&gt;)
     @LiftedRep @LiftedRep (Term s (PAsData v)) (Term s (PAsData v)))
</span><a href="#local-6989586621679924684"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-607"></span><span>            </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: PType -&gt; PType) (a :: PType) (b :: PType) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><a href="Plutarch.List.html#pmap"><span class="hs-identifier hs-var">List.pmap</span></a></span><span class="hs-cpp">
              # plam
</span><span>                </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">pair</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-610"></span><span>                    </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pfstBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-611"></span><span>                      </span><span class="hs-identifier">ppairDataBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">handler</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">psndBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span>
</span><span id="line-612"></span><span>                </span><span class="hs-special">)</span><span class="hs-cpp">
              # xs
</span><span>      </span><span class="annot"><a href="Plutarch.Builtin.html#PCons"><span class="hs-identifier hs-type">PCons</span></a></span><span> </span><span id="local-6989586621679924687"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924687"><span class="hs-identifier hs-var">y1</span></a></span></span><span> </span><span id="local-6989586621679924688"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924688"><span class="hs-identifier hs-var">ys'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont
  @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  s
  (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). TermCont @a s (Term s a) -&gt; Term s a
</span><a href="Plutarch.TermCont.html#unTermCont"><span class="hs-identifier hs-var">unTermCont</span></a></span><span> </span><span class="annot"><span class="annottext">(TermCont
   @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   s
   (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-615"></span><span>        </span><span id="local-6989586621679924689"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924689"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PBuiltinPair (PAsData k) (PAsData v)))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont @r s a
</span><a href="Plutarch.TermCont.html#tcont"><span class="hs-identifier hs-var">tcont</span></a></span><span> </span><span class="annot"><span class="annottext">(((Term s (PBuiltinPair (PAsData k) (PAsData v))
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont
      @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      s
      (Term s (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; ((Term s (PBuiltinPair (PAsData k) (PAsData v))
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924687"><span class="hs-identifier hs-var">y1</span></a></span><span>
</span><span id="line-616"></span><span>        </span><span id="local-6989586621679924690"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924690"><span class="hs-identifier hs-var">xk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PAsData k))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont @r s a
</span><a href="Plutarch.TermCont.html#tcont"><span class="hs-identifier hs-var">tcont</span></a></span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData k)
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont
      @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      s
      (Term s (PAsData k)))
-&gt; ((Term s (PAsData k)
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData k)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><a href="Plutarch.Builtin.html#pfstBuiltin"><span class="hs-identifier hs-var">pfstBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924673"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-617"></span><span>        </span><span id="local-6989586621679924691"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924691"><span class="hs-identifier hs-var">yk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PAsData k))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont @r s a
</span><a href="Plutarch.TermCont.html#tcont"><span class="hs-identifier hs-var">tcont</span></a></span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData k)
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont
      @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      s
      (Term s (PAsData k)))
-&gt; ((Term s (PAsData k)
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData k)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><a href="Plutarch.Builtin.html#pfstBuiltin"><span class="hs-identifier hs-var">pfstBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924689"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-618"></span><span>        </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a.
a
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))) s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      s
      (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-619"></span><span>          </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><a href="Plutarch.Bool.html#pif"><span class="hs-identifier hs-var">pif</span></a></span><span>
</span><span id="line-620"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924690"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><a href="Plutarch.Bool.html#%23%3D%3D"><span class="hs-operator hs-var">#==</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924691"><span class="hs-identifier hs-var">yk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-621"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924664"><span class="hs-identifier hs-var">bothPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-622"></span><span>                </span><span class="annot"><span class="annottext">BothPresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="Plutarch.Api.V1.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924678"><span class="hs-identifier hs-var">zipMergeOrdered</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924674"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924688"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-623"></span><span>                </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PassArg"><span class="hs-identifier hs-type">PassArg</span></a></span><span> </span><span id="local-6989586621679924692"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679924692"><span class="hs-identifier hs-var">passLeft</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.PlutusType.html#pmatch"><span class="hs-identifier hs-var">pmatch</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679924672"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679924693"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679924693"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-624"></span><span>                  </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span class="hs-cpp">
                    # (if passLeft == (argOrder == PSTrue) then x else y)
</span><span class="hs-cpp">                    # applyOrder argOrder zipMergeRec xs' ys'
</span><span>                </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#HandleBoth"><span class="hs-identifier hs-type">HandleBoth</span></a></span><span> </span><span id="local-6989586621679924694"><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s (PAsData k))
  ((-&gt;)
     @LiftedRep
     @LiftedRep
     (Term s (PAsData v))
     ((-&gt;)
        @LiftedRep @LiftedRep (Term s (PAsData v)) (Term s (PAsData v))))
</span><a href="#local-6989586621679924694"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.PlutusType.html#pmatch"><span class="hs-identifier hs-var">pmatch</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679924672"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679924695"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679924695"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-628"></span><span>                  </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span class="hs-cpp">
                    # ( ppairDataBuiltin
</span><span class="hs-cpp">                          # xk
</span><span class="hs-cpp">                          #$ applyOrder' argOrder (merge xk) (psndBuiltin # x) (psndBuiltin # y)
</span><span>                      </span><span class="hs-special">)</span><span class="hs-cpp">
                    #$ applyOrder argOrder zipMergeRec xs' ys'
</span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-635"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><a href="Plutarch.Bool.html#pif"><span class="hs-identifier hs-var">pif</span></a></span><span>
</span><span id="line-636"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924690"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><a href="Plutarch.Bool.html#%23%3C"><span class="hs-operator hs-var">#&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924691"><span class="hs-identifier hs-var">yk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-637"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.PlutusType.html#pmatch"><span class="hs-identifier hs-var">pmatch</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679924672"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679924696"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679924696"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-638"></span><span>                    </span><span class="hs-comment">-- picking handler for presence of only x-side</span><span>
</span><span id="line-639"></span><span>                    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.Api.V1.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679924696"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924665"><span class="hs-identifier hs-var">leftPresent</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924666"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-640"></span><span>                      </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="Plutarch.Api.V1.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679924671"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term s PSBool
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s -&gt; Term s PSBool -&gt; Term s PSBool -&gt; Term s PSBool
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.Api.V1.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679924696"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
forall (s :: S). Term s PSBool
</span><a href="Plutarch.Bool.html#psfalse"><span class="hs-identifier hs-var">psfalse</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
forall (s :: S). Term s PSBool
</span><a href="Plutarch.Bool.html#pstrue"><span class="hs-identifier hs-var">pstrue</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924689"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924688"><span class="hs-identifier hs-var">ys'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924674"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-641"></span><span>                      </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="Plutarch.Api.V1.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924673"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
PSBool s
-&gt; Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Api.V1.AssocMap.html#applyOrder"><span class="hs-identifier hs-var">applyOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679924696"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679924676"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924674"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924675"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-642"></span><span>                      </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679924697"><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s (PAsData k))
  ((-&gt;)
     @LiftedRep @LiftedRep (Term s (PAsData v)) (Term s (PAsData v)))
</span><a href="#local-6989586621679924697"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-643"></span><span>                        </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span class="hs-cpp">
                          # (ppairDataBuiltin # xk # handler xk (psndBuiltin # x))
</span><span class="hs-cpp">                          # (self # branchOrder argOrder psfalse pstrue # y # ys' # xs')
</span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-647"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PSBool
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.PlutusType.html#pmatch"><span class="hs-identifier hs-var">pmatch</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679924672"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">((PSBool s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PSBool s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679924698"><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679924698"><span class="hs-identifier hs-var">argOrder</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-648"></span><span>                    </span><span class="hs-comment">-- picking handler for presence of only y-side</span><span>
</span><span id="line-649"></span><span>                    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
forall (s :: S) a. PSBool s -&gt; a -&gt; a -&gt; a
</span><a href="Plutarch.Api.V1.AssocMap.html#branchOrder"><span class="hs-identifier hs-var">branchOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679924698"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924666"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924665"><span class="hs-identifier hs-var">leftPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-650"></span><span>                      </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="Plutarch.Api.V1.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679924671"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term s PSBool
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
</span><a href="#local-6989586621679924672"><span class="hs-identifier hs-var">argOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924673"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924674"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924688"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-651"></span><span>                      </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="Plutarch.Api.V1.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924689"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
PSBool s
-&gt; Term s (a :--&gt; (a :--&gt; b)) -&gt; Term s a -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Api.V1.AssocMap.html#applyOrder"><span class="hs-identifier hs-var">applyOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PSBool s
</span><a href="#local-6989586621679924698"><span class="hs-identifier hs-var">argOrder</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679924676"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924677"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924688"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-652"></span><span>                      </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679924699"><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s (PAsData k))
  ((-&gt;)
     @LiftedRep @LiftedRep (Term s (PAsData v)) (Term s (PAsData v)))
</span><a href="#local-6989586621679924699"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-653"></span><span>                        </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span class="hs-cpp">
                          # (ppairDataBuiltin # yk # handler yk (psndBuiltin # y))
</span><span class="hs-cpp">                          # (self # argOrder' # x # xs' # ys')
</span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-657"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-658"></span><span>
</span><span id="line-659"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#zipMerge"><span class="hs-identifier hs-type">zipMerge</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-660"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922960"><span class="annot"><a href="#local-6989586621679922960"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922958"><span class="annot"><a href="#local-6989586621679922958"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922959"><span class="annot"><a href="#local-6989586621679922959"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-661"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-type">OnePresentHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922958"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922959"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679922960"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-662"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-663"></span><span>    </span><span class="annot"><a href="#local-6989586621679922960"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-664"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.Bool.html#PSBool"><span class="hs-identifier hs-type">PSBool</span></a></span><span>
</span><span id="line-665"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922958"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922959"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-666"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922958"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922959"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-667"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922958"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922959"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-668"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922958"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922959"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-669"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-670"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-671"></span><span>    </span><span class="annot"><a href="#local-6989586621679922960"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-672"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922958"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922959"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-673"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922958"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922959"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-674"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922958"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922959"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-675"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-676"></span><span id="zipMerge"><span class="annot"><span class="annottext">zipMerge :: forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.Api.V1.AssocMap.html#zipMerge"><span class="hs-identifier hs-var hs-var">zipMerge</span></a></span></span><span> </span><span id="local-6989586621679924738"><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="#local-6989586621679924738"><span class="hs-identifier hs-var">rightPresent</span></a></span></span><span> </span><span id="local-6989586621679924739"><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679924739"><span class="hs-identifier hs-var">mergeInsertRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679924740"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924740"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span id="local-6989586621679924741"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924741"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.PlutusType.html#pmatch"><span class="hs-identifier hs-var">pmatch</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924740"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-677"></span><span>  </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
</span><a href="Plutarch.Builtin.html#PNil"><span class="hs-identifier hs-var">PNil</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-678"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="#local-6989586621679924738"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-679"></span><span>      </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.V1.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: PType) (s :: S). PBuiltinList a s
</span><a href="Plutarch.Builtin.html#PNil"><span class="hs-identifier hs-var">PNil</span></a></span><span>
</span><span id="line-680"></span><span>      </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.V1.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924741"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-681"></span><span>      </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679924742"><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s (PAsData k))
  ((-&gt;)
     @LiftedRep @LiftedRep (Term s (PAsData v)) (Term s (PAsData v)))
</span><a href="#local-6989586621679924742"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-682"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: PType -&gt; PType) (a :: PType) (b :: PType) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><a href="Plutarch.List.html#pmap"><span class="hs-identifier hs-var">List.pmap</span></a></span><span class="hs-cpp">
          # plam
</span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">pair</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-685"></span><span>                </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pfstBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-686"></span><span>                  </span><span class="hs-identifier">ppairDataBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">handler</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">psndBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span>
</span><span id="line-687"></span><span>            </span><span class="hs-special">)</span><span class="hs-cpp">
          # rs
</span><span>  </span><span class="annot"><a href="Plutarch.Builtin.html#PCons"><span class="hs-identifier hs-type">PCons</span></a></span><span> </span><span id="local-6989586621679924745"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924745"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679924746"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924746"><span class="hs-identifier hs-var">ls'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="#local-6989586621679924739"><span class="hs-identifier hs-var">mergeInsertRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PSBool
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term s PSBool
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PSBool
forall (s :: S). Term s PSBool
</span><a href="Plutarch.Bool.html#pstrue"><span class="hs-identifier hs-var">pstrue</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924745"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924746"><span class="hs-identifier hs-var">ls'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924741"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-690"></span><span>
</span><span id="line-691"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#zipMergeInsertCommutative"><span class="hs-identifier hs-type">zipMergeInsertCommutative</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-692"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922974"><span class="annot"><a href="#local-6989586621679922974"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922972"><span class="annot"><a href="#local-6989586621679922972"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922973"><span class="annot"><a href="#local-6989586621679922973"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-693"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922972"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922972"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-694"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922972"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922973"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679922974"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-695"></span><span>  </span><span class="hs-comment">-- | 'PSTrue' means first arg is left, second arg is right.</span><span>
</span><span id="line-696"></span><span>  </span><span class="hs-comment">-- The first list gets passed in deconstructed form as head and tail</span><span>
</span><span id="line-697"></span><span>  </span><span class="hs-comment">-- separately.</span><span>
</span><span id="line-698"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-699"></span><span>    </span><span class="annot"><a href="#local-6989586621679922974"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-700"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922972"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922973"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-701"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922972"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922973"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-702"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922972"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922973"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-703"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922972"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922973"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-704"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-705"></span><span id="zipMergeInsertCommutative"><span class="annot"><span class="annottext">zipMergeInsertCommutative :: forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
MergeHandlerCommutative (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="Plutarch.Api.V1.AssocMap.html#zipMergeInsertCommutative"><span class="hs-identifier hs-var hs-var">zipMergeInsertCommutative</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span id="local-6989586621679924910"><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924910"><span class="hs-identifier hs-var">bothPresent</span></a></span></span><span> </span><span id="local-6989586621679924911"><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924911"><span class="hs-identifier hs-var">onePresent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TermCont
  @(PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
  s
  (Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (a :: PType) (s :: S). TermCont @a s (Term s a) -&gt; Term s a
</span><a href="Plutarch.TermCont.html#unTermCont"><span class="hs-identifier hs-var">unTermCont</span></a></span><span> </span><span class="annot"><span class="annottext">(TermCont
   @(PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   s
   (Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     @(PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     s
     (Term
        s
        (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-706"></span><span>  </span><span class="hs-comment">-- deduplicates all the zipMerge calls through plet, almost as good as hoisting</span><span>
</span><span id="line-707"></span><span>  </span><span id="local-6989586621679924912"><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679924912"><span class="hs-identifier hs-var">zipMerge'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term
    s
    ((PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
  -&gt; Term
       s
       (PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     @(PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     s
     (Term
        s
        ((PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont @r s a
</span><a href="Plutarch.TermCont.html#tcont"><span class="hs-identifier hs-var">tcont</span></a></span><span> </span><span class="annot"><span class="annottext">(((Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   -&gt; Term
        s
        (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
  -&gt; Term
       s
       (PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; TermCont
      @(PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      s
      (Term
         s
         ((PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; ((Term
       s
       ((PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     -&gt; Term
          s
          (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
    -&gt; Term
         s
         (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; TermCont
     @(PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     s
     (Term
        s
        ((PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   ((PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; (Term
       s
       ((PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     -&gt; Term
          s
          (PBuiltinPair (PAsData k) (PAsData v)
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
 -&gt; Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
  -&gt; Term
       s
       (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; (Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term
         s
         (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.Api.V1.AssocMap.html#zipMergeCommutative"><span class="hs-identifier hs-var">zipMergeCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924911"><span class="hs-identifier hs-var">onePresent</span></a></span><span>
</span><span id="line-708"></span><span>  </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; TermCont
     @(PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     s
     (Term
        s
        (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a.
a
-&gt; TermCont
     @(PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     s
     a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; TermCont
      @(PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      s
      (Term
         s
         (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; TermCont
     @(PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
     s
     (Term
        s
        (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (s :: S) (a :: PType) (b :: PType).
Term s (((a :--&gt; b) :--&gt; (a :--&gt; b)) :--&gt; (a :--&gt; b))
</span><a href="Plutarch.Internal.Other.html#pfix"><span class="hs-identifier hs-var">pfix</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
   :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23%24"><span class="hs-operator hs-var">#$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinPair (PAsData k) (PAsData v)
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                 :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
  -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term
      s
      ((PBuiltinPair (PAsData k) (PAsData v)
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
       :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))))
-&gt; (Term
      s
      (PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
    -&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     ((PBuiltinPair (PAsData k) (PAsData v)
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679924914"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679924914"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679924915"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924915"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679924916"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924916"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span id="local-6989586621679924917"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924917"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont
  @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  s
  (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). TermCont @a s (Term s a) -&gt; Term s a
</span><a href="Plutarch.TermCont.html#unTermCont"><span class="hs-identifier hs-var">unTermCont</span></a></span><span> </span><span class="annot"><span class="annottext">(TermCont
   @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   s
   (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-709"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679924918"><span class="annot"><span class="annottext">zipMergeRec :: Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679924918"><span class="hs-identifier hs-var hs-var">zipMergeRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679924912"><span class="hs-identifier hs-var">zipMerge'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679924914"><span class="hs-identifier hs-var">self</span></a></span><span>
</span><span id="line-710"></span><span>        </span><span id="local-6989586621679924919"><span class="annot"><span class="annottext">xs :: Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924919"><span class="hs-identifier hs-var hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924915"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924916"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-711"></span><span>    </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a.
a
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))) s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      s
      (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.PlutusType.html#pmatch"><span class="hs-identifier hs-var">pmatch</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924917"><span class="hs-identifier hs-var">ys</span></a></span><span> </span><span class="annot"><span class="annottext">((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-712"></span><span>      </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
</span><a href="Plutarch.Builtin.html#PNil"><span class="hs-identifier hs-var">PNil</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-713"></span><span>        </span><span class="hs-comment">-- picking handler for presence of x-side only</span><span>
</span><span id="line-714"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924911"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-715"></span><span>          </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="Plutarch.Api.V1.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: PType) (s :: S). PBuiltinList a s
</span><a href="Plutarch.Builtin.html#PNil"><span class="hs-identifier hs-var">PNil</span></a></span><span>
</span><span id="line-716"></span><span>          </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="Plutarch.Api.V1.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924915"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924916"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-717"></span><span>          </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679924920"><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s (PAsData k))
  ((-&gt;)
     @LiftedRep @LiftedRep (Term s (PAsData v)) (Term s (PAsData v)))
</span><a href="#local-6989586621679924920"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-718"></span><span>            </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: PType -&gt; PType) (a :: PType) (b :: PType) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><a href="Plutarch.List.html#pmap"><span class="hs-identifier hs-var">List.pmap</span></a></span><span class="hs-cpp">
              # plam
</span><span>                </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">pair</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-721"></span><span>                    </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pfstBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-722"></span><span>                      </span><span class="hs-identifier">ppairDataBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">handler</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">psndBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span>
</span><span id="line-723"></span><span>                </span><span class="hs-special">)</span><span class="hs-cpp">
              # xs
</span><span>      </span><span class="annot"><a href="Plutarch.Builtin.html#PCons"><span class="hs-identifier hs-type">PCons</span></a></span><span> </span><span id="local-6989586621679924923"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924923"><span class="hs-identifier hs-var">y1</span></a></span></span><span> </span><span id="local-6989586621679924924"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924924"><span class="hs-identifier hs-var">ys'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont
  @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  s
  (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). TermCont @a s (Term s a) -&gt; Term s a
</span><a href="Plutarch.TermCont.html#unTermCont"><span class="hs-identifier hs-var">unTermCont</span></a></span><span> </span><span class="annot"><span class="annottext">(TermCont
   @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
   s
   (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-726"></span><span>        </span><span id="local-6989586621679924925"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924925"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinPair (PAsData k) (PAsData v))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PBuiltinPair (PAsData k) (PAsData v)))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont @r s a
</span><a href="Plutarch.TermCont.html#tcont"><span class="hs-identifier hs-var">tcont</span></a></span><span> </span><span class="annot"><span class="annottext">(((Term s (PBuiltinPair (PAsData k) (PAsData v))
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont
      @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      s
      (Term s (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; ((Term s (PBuiltinPair (PAsData k) (PAsData v))
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; (Term s (PBuiltinPair (PAsData k) (PAsData v))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924923"><span class="hs-identifier hs-var">y1</span></a></span><span>
</span><span id="line-727"></span><span>        </span><span id="local-6989586621679924926"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924926"><span class="hs-identifier hs-var">xk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PAsData k))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont @r s a
</span><a href="Plutarch.TermCont.html#tcont"><span class="hs-identifier hs-var">tcont</span></a></span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData k)
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont
      @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      s
      (Term s (PAsData k)))
-&gt; ((Term s (PAsData k)
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData k)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><a href="Plutarch.Builtin.html#pfstBuiltin"><span class="hs-identifier hs-var">pfstBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924915"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-728"></span><span>        </span><span id="local-6989586621679924927"><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924927"><span class="hs-identifier hs-var">yk</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData k)
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PAsData k))
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont @r s a
</span><a href="Plutarch.TermCont.html#tcont"><span class="hs-identifier hs-var">tcont</span></a></span><span> </span><span class="annot"><span class="annottext">(((Term s (PAsData k)
   -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; TermCont
      @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      s
      (Term s (PAsData k)))
-&gt; ((Term s (PAsData k)
     -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PAsData k))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
-&gt; (Term s (PAsData k)
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><a href="Plutarch.Builtin.html#pfstBuiltin"><span class="hs-identifier hs-var">pfstBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924925"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-729"></span><span>        </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a.
a
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))) s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; TermCont
      @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
      s
      (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; TermCont
     @(PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
     s
     (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-730"></span><span>          </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><a href="Plutarch.Bool.html#pif"><span class="hs-identifier hs-var">pif</span></a></span><span>
</span><span id="line-731"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924926"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (s :: S).
Term s (PAsData k) -&gt; Term s (PAsData k) -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><a href="Plutarch.Bool.html#%23%3D%3D"><span class="hs-operator hs-var">#==</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924927"><span class="hs-identifier hs-var">yk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-732"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924910"><span class="hs-identifier hs-var">bothPresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-733"></span><span>                </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="Plutarch.Api.V1.AssocMap.html#DropBothCommutative"><span class="hs-identifier hs-var">DropBothCommutative</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679924918"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924916"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924924"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-734"></span><span>                </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-type">HandleBothCommutative</span></a></span><span> </span><span id="local-6989586621679924928"><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s (PAsData k))
  ((-&gt;)
     @LiftedRep
     @LiftedRep
     (Term s (PAsData v))
     ((-&gt;)
        @LiftedRep @LiftedRep (Term s (PAsData v)) (Term s (PAsData v))))
</span><a href="#local-6989586621679924928"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-735"></span><span>                  </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span class="hs-cpp">
                    # ( ppairDataBuiltin
</span><span class="hs-cpp">                          # xk
</span><span class="hs-cpp">                          #$ merge xk (psndBuiltin # x) (psndBuiltin # y)
</span><span>                      </span><span class="hs-special">)</span><span class="hs-cpp">
                    #$ zipMergeRec
</span><span class="hs-cpp">                    # xs'
</span><span class="hs-cpp">                    # ys'
</span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-744"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><a href="Plutarch.Bool.html#pif"><span class="hs-identifier hs-var">pif</span></a></span><span>
</span><span id="line-745"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924926"><span class="hs-identifier hs-var">xk</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><a href="Plutarch.Bool.html#%23%3C"><span class="hs-operator hs-var">#&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k)
</span><a href="#local-6989586621679924927"><span class="hs-identifier hs-var">yk</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-746"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924911"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-747"></span><span>                    </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="Plutarch.Api.V1.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679924914"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924925"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924924"><span class="hs-identifier hs-var">ys'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924916"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-748"></span><span>                    </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="Plutarch.Api.V1.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924915"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679924918"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924916"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924917"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-749"></span><span>                    </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679924929"><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s (PAsData k))
  ((-&gt;)
     @LiftedRep @LiftedRep (Term s (PAsData v)) (Term s (PAsData v)))
</span><a href="#local-6989586621679924929"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-750"></span><span>                      </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span class="hs-cpp">
                        # (ppairDataBuiltin # xk # handler xk (psndBuiltin # x))
</span><span class="hs-cpp">                        # (self # y # ys' # xs')
</span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-754"></span><span>                </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679924911"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-755"></span><span>                    </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="Plutarch.Api.V1.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679924914"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924915"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924916"><span class="hs-identifier hs-var">xs'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924924"><span class="hs-identifier hs-var">ys'</span></a></span><span>
</span><span id="line-756"></span><span>                    </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="Plutarch.Api.V1.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924925"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="#local-6989586621679924918"><span class="hs-identifier hs-var">zipMergeRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924924"><span class="hs-identifier hs-var">ys'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924919"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-757"></span><span>                    </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679924930"><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s (PAsData k))
  ((-&gt;)
     @LiftedRep @LiftedRep (Term s (PAsData v)) (Term s (PAsData v)))
</span><a href="#local-6989586621679924930"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-758"></span><span>                      </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span class="hs-cpp">
                        # (ppairDataBuiltin # yk # handler yk (psndBuiltin # y))
</span><span class="hs-cpp">                        # (self # x # xs' # ys')
</span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-762"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-763"></span><span>
</span><span id="line-764"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#zipMergeCommutative"><span class="hs-identifier hs-type">zipMergeCommutative</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-765"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922980"><span class="annot"><a href="#local-6989586621679922980"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922978"><span class="annot"><a href="#local-6989586621679922978"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922979"><span class="annot"><a href="#local-6989586621679922979"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-766"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#OnePresentHandler"><span class="hs-identifier hs-type">OnePresentHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922978"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922979"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679922980"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-767"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-768"></span><span>    </span><span class="annot"><a href="#local-6989586621679922980"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-769"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922978"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922979"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-770"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922978"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922979"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-771"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922978"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922979"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-772"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922978"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922979"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-773"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-774"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-775"></span><span>    </span><span class="annot"><a href="#local-6989586621679922980"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-776"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922978"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922979"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-777"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922978"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922979"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-778"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinList"><span class="hs-identifier hs-type">PBuiltinList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PBuiltinPair"><span class="hs-identifier hs-type">PBuiltinPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922978"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922979"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-779"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-780"></span><span id="zipMergeCommutative"><span class="annot"><span class="annottext">zipMergeCommutative :: forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.Api.V1.AssocMap.html#zipMergeCommutative"><span class="hs-identifier hs-var hs-var">zipMergeCommutative</span></a></span></span><span> </span><span id="local-6989586621679924967"><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="#local-6989586621679924967"><span class="hs-identifier hs-var">onePresent</span></a></span></span><span> </span><span id="local-6989586621679924968"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679924968"><span class="hs-identifier hs-var">mergeInsertRec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679924969"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924969"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span id="local-6989586621679924970"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924970"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.PlutusType.html#pmatch"><span class="hs-identifier hs-var">pmatch</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924969"><span class="hs-identifier hs-var">ls</span></a></span><span> </span><span class="annot"><span class="annottext">((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-781"></span><span>  </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
</span><a href="Plutarch.Builtin.html#PNil"><span class="hs-identifier hs-var">PNil</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-782"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="#local-6989586621679924967"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-783"></span><span>      </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.V1.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) s
forall (a :: PType) (s :: S). PBuiltinList a s
</span><a href="Plutarch.Builtin.html#PNil"><span class="hs-identifier hs-var">PNil</span></a></span><span>
</span><span id="line-784"></span><span>      </span><span class="annot"><span class="annottext">OnePresentHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.V1.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924970"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-785"></span><span>      </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#HandleOne"><span class="hs-identifier hs-type">HandleOne</span></a></span><span> </span><span id="local-6989586621679924971"><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s (PAsData k))
  ((-&gt;)
     @LiftedRep @LiftedRep (Term s (PAsData v)) (Term s (PAsData v)))
</span><a href="#local-6989586621679924971"><span class="hs-identifier hs-var">handler</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-786"></span><span>        </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v)
    :--&gt; PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (list :: PType -&gt; PType) (a :: PType) (b :: PType) (s :: S).
(PListLike list, PElemConstraint list a, PElemConstraint list b) =&gt;
Term s ((a :--&gt; b) :--&gt; (list a :--&gt; list b))
</span><a href="Plutarch.List.html#pmap"><span class="hs-identifier hs-var">List.pmap</span></a></span><span class="hs-cpp">
          # plam
</span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">pair</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-789"></span><span>                </span><span class="hs-identifier">plet</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">pfstBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">k</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-790"></span><span>                  </span><span class="hs-identifier">ppairDataBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">handler</span><span> </span><span class="hs-identifier">k</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">psndBuiltin</span><span> </span><span class="hs-operator">#</span><span> </span><span class="hs-identifier">pair</span><span class="hs-special">)</span><span>
</span><span id="line-791"></span><span>            </span><span class="hs-special">)</span><span class="hs-cpp">
          # rs
</span><span>  </span><span class="annot"><a href="Plutarch.Builtin.html#PCons"><span class="hs-identifier hs-type">PCons</span></a></span><span> </span><span id="local-6989586621679924974"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924974"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679924975"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924975"><span class="hs-identifier hs-var">ls'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="#local-6989586621679924968"><span class="hs-identifier hs-var">mergeInsertRec</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData v)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679924974"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924975"><span class="hs-identifier hs-var">ls'</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679924970"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-794"></span><span>
</span><span id="line-795"></span><span class="annot"><span class="hs-comment">{- | Zip two 'PMap's, using a 'SomeMergeHandler' to decide how to merge based on key
 presence on the left and right.

 Note that using a 'MergeHandlerCommutative' is less costly than a 'MergeHandler'.
-}</span></span><span>
</span><span id="line-800"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pzipWithData"><span class="hs-identifier hs-type">pzipWithData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-801"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922986"><span class="annot"><a href="#local-6989586621679922986"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922984"><span class="annot"><a href="#local-6989586621679922984"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922985"><span class="annot"><a href="#local-6989586621679922985"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-802"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922984"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922984"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-803"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922984"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922985"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679922986"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-804"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-805"></span><span>    </span><span class="annot"><a href="#local-6989586621679922986"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-806"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922984"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922985"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-807"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922984"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922985"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-808"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922984"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922985"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-809"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-810"></span><span id="pzipWithData"><span class="annot"><span class="annottext">pzipWithData :: forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var hs-var">pzipWithData</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span id="local-6989586621679925004"><span class="annot"><span class="annottext">mh :: MergeHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679925004"><span class="hs-identifier hs-var">mh</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler"><span class="hs-identifier hs-type">MergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679925005"><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679925005"><span class="hs-identifier hs-var">rightPresent</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-811"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925006"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679925006"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679925007"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679925007"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-812"></span><span>    </span><span class="annot"><span class="annottext">PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">(PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v))
-&gt; PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; PMap 'Sorted k v s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.Api.V1.AssocMap.html#zipMerge"><span class="hs-identifier hs-var">zipMerge</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679925005"><span class="hs-identifier hs-var">rightPresent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MergeHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
MergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PSBool
      :--&gt; (PBuiltinPair (PAsData k) (PAsData v)
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                        :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))))
</span><a href="Plutarch.Api.V1.AssocMap.html#zipMergeInsert"><span class="hs-identifier hs-var">zipMergeInsert</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679925004"><span class="hs-identifier hs-var">mh</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><a href="Plutarch.Internal.Other.html#pto"><span class="hs-identifier hs-var">pto</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679925006"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><a href="Plutarch.Internal.Other.html#pto"><span class="hs-identifier hs-var">pto</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679925007"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-813"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-type">SomeMergeHandlerCommutative</span></a></span><span> </span><span id="local-6989586621679925008"><span class="annot"><span class="annottext">mh :: MergeHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679925008"><span class="hs-identifier hs-var">mh</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-type">MergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679925009"><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679925009"><span class="hs-identifier hs-var">onePresent</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-814"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term s (c :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v) -&gt; Term s (PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925010"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679925010"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679925011"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679925011"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-815"></span><span>    </span><span class="annot"><span class="annottext">PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">(PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v))
-&gt; PMap 'Sorted k v s -&gt; Term s (PMap 'Sorted k v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; PMap 'Sorted k v s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap 'Sorted k v s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
forall (s :: S) (k :: PType) (v :: PType).
OnePresentHandler (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
</span><a href="Plutarch.Api.V1.AssocMap.html#zipMergeCommutative"><span class="hs-identifier hs-var">zipMergeCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679925009"><span class="hs-identifier hs-var">onePresent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MergeHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
MergeHandlerCommutative (PAsData k) (PAsData v) s
-&gt; Term
     s
     (PBuiltinPair (PAsData k) (PAsData v)
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))))
</span><a href="Plutarch.Api.V1.AssocMap.html#zipMergeInsertCommutative"><span class="hs-identifier hs-var">zipMergeInsertCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
</span><a href="#local-6989586621679925008"><span class="hs-identifier hs-var">mh</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><a href="Plutarch.Internal.Other.html#pto"><span class="hs-identifier hs-var">pto</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679925010"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><a href="Plutarch.Internal.Other.html#pto"><span class="hs-identifier hs-var">pto</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679925011"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-816"></span><span>
</span><span id="line-817"></span><span class="annot"><span class="hs-comment">{- | Zip two 'PMap's, using a 'SomeMergeHandler' to decide how to merge based on key
 presence on the left and right.

 Note that using a 'MergeHandlerCommutative' is less costly than a 'MergeHandler'.
-}</span></span><span>
</span><span id="line-822"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pzipWith"><span class="hs-identifier hs-type">pzipWith</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-823"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922993"><span class="annot"><a href="#local-6989586621679922993"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922991"><span class="annot"><a href="#local-6989586621679922991"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679922992"><span class="annot"><a href="#local-6989586621679922992"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-824"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922991"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922991"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922992"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-825"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922991"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922992"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922993"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-826"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-827"></span><span>    </span><span class="annot"><a href="#local-6989586621679922993"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-828"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922991"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922992"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-829"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922991"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922992"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-830"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922991"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922992"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-831"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-832"></span><span id="pzipWith"><span class="annot"><span class="annottext">pzipWith :: forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWith"><span class="hs-identifier hs-var hs-var">pzipWith</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span id="local-6989586621679925023"><span class="annot"><span class="annottext">MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
</span><a href="#local-6989586621679925023"><span class="hs-identifier hs-var">mh</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-833"></span><span>  </span><span class="annot"><span class="annottext">SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MergeHandler_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_
   ((-&gt;) @LiftedRep @LiftedRep)
   (Term s (PAsData k))
   (Term s (PAsData v))
 -&gt; SomeMergeHandler (PAsData k) (PAsData v) s)
-&gt; MergeHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; MergeHandler_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
MergeHandler k v s -&gt; MergeHandler (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.V1.AssocMap.html#mergeHandlerOnData"><span class="hs-identifier hs-var">mergeHandlerOnData</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
</span><a href="#local-6989586621679925023"><span class="hs-identifier hs-var">mh</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-834"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-type">SomeMergeHandlerCommutative</span></a></span><span> </span><span id="local-6989586621679925024"><span class="annot"><span class="annottext">MergeHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
</span><a href="#local-6989586621679925024"><span class="hs-identifier hs-var">mhc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-835"></span><span>  </span><span class="annot"><span class="annottext">SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MergeHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep)
  (Term s (PAsData k))
  (Term s (PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-var">SomeMergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandlerCommutative_
   ((-&gt;) @LiftedRep @LiftedRep)
   (Term s (PAsData k))
   (Term s (PAsData v))
 -&gt; SomeMergeHandler (PAsData k) (PAsData v) s)
-&gt; MergeHandlerCommutative_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; MergeHandlerCommutative_
     ((-&gt;) @LiftedRep @LiftedRep)
     (Term s (PAsData k))
     (Term s (PAsData v))
forall (s :: S) (k :: PType) (v :: PType).
(PIsData k, PIsData v) =&gt;
MergeHandlerCommutative k v s
-&gt; MergeHandlerCommutative (PAsData k) (PAsData v) s
</span><a href="Plutarch.Api.V1.AssocMap.html#mergeHandlerCommutativeOnData"><span class="hs-identifier hs-var">mergeHandlerCommutativeOnData</span></a></span><span> </span><span class="annot"><span class="annottext">MergeHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
</span><a href="#local-6989586621679925024"><span class="hs-identifier hs-var">mhc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-836"></span><span>
</span><span id="line-837"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#defaultMergeHandlerNonCommutative"><span class="hs-identifier hs-type">defaultMergeHandlerNonCommutative</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-838"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923000"><span class="annot"><a href="#local-6989586621679923000"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923001"><span class="annot"><a href="#local-6989586621679923001"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923002"><span class="annot"><a href="#local-6989586621679923002"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-839"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923000"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923001"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-840"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923000"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923001"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-841"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923000"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679923001"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679923001"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923001"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-842"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923002"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923001"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923000"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-843"></span><span id="defaultMergeHandlerNonCommutative"><span class="annot"><span class="annottext">defaultMergeHandlerNonCommutative :: forall (s :: S) (v :: PType) (k :: PType).
Term s v
-&gt; Term s v -&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#defaultMergeHandlerNonCommutative"><span class="hs-identifier hs-var hs-var">defaultMergeHandlerNonCommutative</span></a></span></span><span> </span><span id="local-6989586621679925038"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925038"><span class="hs-identifier hs-var">defLeft</span></a></span></span><span> </span><span id="local-6989586621679925039"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925039"><span class="hs-identifier hs-var">defRight</span></a></span></span><span> </span><span id="local-6989586621679925040"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679925040"><span class="hs-identifier hs-var">combine</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-844"></span><span>  </span><span class="annot"><span class="annottext">MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; SomeMergeHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_
      ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v))
-&gt; MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; SomeMergeHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-845"></span><span>    </span><span class="annot"><span class="annottext">BothPresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span>
</span><span id="line-846"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s k)
  ((-&gt;)
     @LiftedRep
     @LiftedRep
     (Term s v)
     ((-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)))
-&gt; BothPresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679925041"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925041"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679925042"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925042"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679925040"><span class="hs-identifier hs-var">combine</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925041"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v)
-&gt; (-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925042"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-847"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s k)
  ((-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v))
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v v) -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#HandleOne"><span class="hs-identifier hs-var">HandleOne</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679925043"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925043"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679925040"><span class="hs-identifier hs-var">combine</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925043"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v)
-&gt; (-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925039"><span class="hs-identifier hs-var">defRight</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-848"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s k)
  ((-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v))
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v v) -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#HandleOne"><span class="hs-identifier hs-var">HandleOne</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679925044"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925044"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679925040"><span class="hs-identifier hs-var">combine</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925038"><span class="hs-identifier hs-var">defLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v)
-&gt; (-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925044"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-849"></span><span>
</span><span id="line-850"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#defaultMergeHandlerCommutative"><span class="hs-identifier hs-type">defaultMergeHandlerCommutative</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-851"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923006"><span class="annot"><a href="#local-6989586621679923006"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923007"><span class="annot"><a href="#local-6989586621679923007"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923008"><span class="annot"><a href="#local-6989586621679923008"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-852"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923006"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923007"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-853"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923006"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679923007"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679923007"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923007"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-854"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923008"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923007"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923006"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-855"></span><span id="defaultMergeHandlerCommutative"><span class="annot"><span class="annottext">defaultMergeHandlerCommutative :: forall (s :: S) (v :: PType) (k :: PType).
Term s v -&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#defaultMergeHandlerCommutative"><span class="hs-identifier hs-var hs-var">defaultMergeHandlerCommutative</span></a></span></span><span> </span><span id="local-6989586621679925054"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925054"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span id="local-6989586621679925055"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679925055"><span class="hs-identifier hs-var">combine</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-856"></span><span>  </span><span class="annot"><span class="annottext">MergeHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; SomeMergeHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-var">SomeMergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandlerCommutative_
   ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_
      ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v))
-&gt; MergeHandlerCommutative_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; SomeMergeHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-857"></span><span>    </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; MergeHandlerCommutative_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandlerCommutative_ f k v
-&gt; OnePresentHandler_ f k v -&gt; MergeHandlerCommutative_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span><span>
</span><span id="line-858"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s k)
  ((-&gt;)
     @LiftedRep
     @LiftedRep
     (Term s v)
     ((-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)))
-&gt; BothPresentHandlerCommutative_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-var">HandleBothCommutative</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679925056"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925056"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679925057"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925057"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679925055"><span class="hs-identifier hs-var">combine</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925056"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v)
-&gt; (-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925057"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-859"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s k)
  ((-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v))
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v v) -&gt; OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#HandleOne"><span class="hs-identifier hs-var">HandleOne</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679925058"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925058"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679925055"><span class="hs-identifier hs-var">combine</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925058"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v)
-&gt; (-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925054"><span class="hs-identifier hs-var">def</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-860"></span><span>
</span><span id="line-861"></span><span class="annot"><span class="hs-comment">{- | Zip two 'PMap's, using the given value merge function for key collisions,
 the commutativity of the merge function, and a default value that can stand in
 for both sides.

 Note that using 'Commutative' is less costly than 'NonCommutative'.
-}</span></span><span>
</span><span id="line-867"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pzipWithDataDefault"><span class="hs-identifier hs-type">pzipWithDataDefault</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-868"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923014"><span class="annot"><a href="#local-6989586621679923014"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923012"><span class="annot"><a href="#local-6989586621679923012"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923013"><span class="annot"><a href="#local-6989586621679923013"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-869"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923012"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923012"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-870"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#ClosedTerm"><span class="hs-identifier hs-type">ClosedTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923013"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-871"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-872"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-873"></span><span>    </span><span class="annot"><a href="#local-6989586621679923014"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-874"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923013"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923013"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923013"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-875"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923012"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923013"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-876"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923012"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923013"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-877"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923012"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923013"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-878"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-879"></span><span id="pzipWithDataDefault"><span class="annot"><span class="annottext">pzipWithDataDefault :: forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
ClosedTerm (PAsData v)
-&gt; Commutativity
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWithDataDefault"><span class="hs-identifier hs-var hs-var">pzipWithDataDefault</span></a></span></span><span> </span><span id="local-6989586621679925065"><span class="annot"><span class="annottext">ClosedTerm (PAsData v)
</span><a href="#local-6989586621679925065"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.Api.V1.AssocMap.html#NonCommutative"><span class="hs-identifier hs-var">NonCommutative</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-880"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-881"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-882"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler (PAsData k) (PAsData v) s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; SomeMergeHandler (PAsData k) (PAsData v) s)
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
-&gt; Term s (PAsData v)
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall (s :: S) (v :: PType) (k :: PType).
Term s v
-&gt; Term s v -&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#defaultMergeHandlerNonCommutative"><span class="hs-identifier hs-var">defaultMergeHandlerNonCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
ClosedTerm (PAsData v)
</span><a href="#local-6989586621679925065"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
ClosedTerm (PAsData v)
</span><a href="#local-6989586621679925065"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-883"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pzipWithDataDefault"><span class="hs-identifier hs-var">pzipWithDataDefault</span></a></span><span> </span><span id="local-6989586621679925072"><span class="annot"><span class="annottext">ClosedTerm (PAsData v)
</span><a href="#local-6989586621679925072"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.Api.V1.AssocMap.html#Commutative"><span class="hs-identifier hs-var">Commutative</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-884"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-885"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-886"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler (PAsData k) (PAsData v) s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; SomeMergeHandler (PAsData k) (PAsData v) s)
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall (s :: S) (v :: PType) (k :: PType).
Term s v -&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#defaultMergeHandlerCommutative"><span class="hs-identifier hs-var">defaultMergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
ClosedTerm (PAsData v)
</span><a href="#local-6989586621679925072"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-887"></span><span>
</span><span id="line-888"></span><span class="annot"><span class="hs-comment">{- | Zip two 'PMap's, using the given value merge function for key collisions,
 the commutativity of the merge function, and a default value that can stand in
 for both sides.

 Note that using 'Commutative' is less costly than 'NonCommutative'.
-}</span></span><span>
</span><span id="line-894"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pzipWithDefault"><span class="hs-identifier hs-type">pzipWithDefault</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-895"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923022"><span class="annot"><a href="#local-6989586621679923022"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923020"><span class="annot"><a href="#local-6989586621679923020"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923021"><span class="annot"><a href="#local-6989586621679923021"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-896"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923020"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923020"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923021"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-897"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#ClosedTerm"><span class="hs-identifier hs-type">ClosedTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923021"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-898"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-899"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-900"></span><span>    </span><span class="annot"><a href="#local-6989586621679923022"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-901"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679923021"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923021"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923021"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-902"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923020"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923021"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-903"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923020"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923021"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-904"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923020"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923021"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-905"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-906"></span><span id="pzipWithDefault"><span class="annot"><span class="annottext">pzipWithDefault :: forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
ClosedTerm v
-&gt; Commutativity
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWithDefault"><span class="hs-identifier hs-var hs-var">pzipWithDefault</span></a></span></span><span> </span><span id="local-6989586621679925086"><span class="annot"><span class="annottext">ClosedTerm v
</span><a href="#local-6989586621679925086"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.Api.V1.AssocMap.html#NonCommutative"><span class="hs-identifier hs-var">NonCommutative</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-907"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; (v :--&gt; v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-908"></span><span>    </span><span class="annot"><span class="annottext">(Term s (v :--&gt; (v :--&gt; v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; (v :--&gt; v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (v :--&gt; (v :--&gt; v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-909"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s)
-&gt; Term s (v :--&gt; (v :--&gt; v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
-&gt; Term s v -&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
forall (s :: S) (v :: PType) (k :: PType).
Term s v
-&gt; Term s v -&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#defaultMergeHandlerNonCommutative"><span class="hs-identifier hs-var">defaultMergeHandlerNonCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
ClosedTerm v
</span><a href="#local-6989586621679925086"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
ClosedTerm v
</span><a href="#local-6989586621679925086"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-910"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pzipWithDefault"><span class="hs-identifier hs-var">pzipWithDefault</span></a></span><span> </span><span id="local-6989586621679925094"><span class="annot"><span class="annottext">ClosedTerm v
</span><a href="#local-6989586621679925094"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.Api.V1.AssocMap.html#Commutative"><span class="hs-identifier hs-var">Commutative</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-911"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; (v :--&gt; v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-912"></span><span>    </span><span class="annot"><span class="annottext">(Term s (v :--&gt; (v :--&gt; v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; (v :--&gt; v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (v :--&gt; (v :--&gt; v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-913"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s)
-&gt; Term s (v :--&gt; (v :--&gt; v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
forall (s :: S) (v :: PType) (k :: PType).
Term s v -&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#defaultMergeHandlerCommutative"><span class="hs-identifier hs-var">defaultMergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
ClosedTerm v
</span><a href="#local-6989586621679925094"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-914"></span><span>
</span><span id="line-915"></span><span class="annot"><span class="hs-comment">{- | Zip two 'PMap's, using the given potentially non-commutative value merge
 function for key collisions, and different values for the sides.

 Use `pzipWithDataDefault` if your merge function is commutative for better
 performance.
-}</span></span><span>
</span><span id="line-921"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pzipWithDataDefaults"><span class="hs-identifier hs-type">pzipWithDataDefaults</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-922"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923030"><span class="annot"><a href="#local-6989586621679923030"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923028"><span class="annot"><a href="#local-6989586621679923028"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923029"><span class="annot"><a href="#local-6989586621679923029"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-923"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923028"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923028"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-924"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#ClosedTerm"><span class="hs-identifier hs-type">ClosedTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923029"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-925"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#ClosedTerm"><span class="hs-identifier hs-type">ClosedTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923029"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-926"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-927"></span><span>    </span><span class="annot"><a href="#local-6989586621679923030"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-928"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923029"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923029"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923029"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-929"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923028"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923029"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-930"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923028"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923029"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-931"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923028"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923029"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-932"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-933"></span><span id="pzipWithDataDefaults"><span class="annot"><span class="annottext">pzipWithDataDefaults :: forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
ClosedTerm (PAsData v)
-&gt; ClosedTerm (PAsData v)
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWithDataDefaults"><span class="hs-identifier hs-var hs-var">pzipWithDataDefaults</span></a></span></span><span> </span><span id="local-6989586621679925106"><span class="annot"><span class="annottext">ClosedTerm (PAsData v)
</span><a href="#local-6989586621679925106"><span class="hs-identifier hs-var">defLeft</span></a></span></span><span> </span><span id="local-6989586621679925107"><span class="annot"><span class="annottext">ClosedTerm (PAsData v)
</span><a href="#local-6989586621679925107"><span class="hs-identifier hs-var">defRight</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-934"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-935"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-936"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler (PAsData k) (PAsData v) s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; SomeMergeHandler (PAsData k) (PAsData v) s)
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
-&gt; Term s (PAsData v)
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall (s :: S) (v :: PType) (k :: PType).
Term s v
-&gt; Term s v -&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#defaultMergeHandlerNonCommutative"><span class="hs-identifier hs-var">defaultMergeHandlerNonCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
ClosedTerm (PAsData v)
</span><a href="#local-6989586621679925106"><span class="hs-identifier hs-var">defLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v)
ClosedTerm (PAsData v)
</span><a href="#local-6989586621679925107"><span class="hs-identifier hs-var">defRight</span></a></span><span>
</span><span id="line-937"></span><span>
</span><span id="line-938"></span><span class="annot"><span class="hs-comment">{- | Zip two 'PMap's, using the given potentially non-commutative value merge
 function for key collisions, and different values for the sides.

 Use `pzipWithDefault` if your merge function is commutative for better
 performance.
-}</span></span><span>
</span><span id="line-944"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pzipWithDefaults"><span class="hs-identifier hs-type">pzipWithDefaults</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-945"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923037"><span class="annot"><a href="#local-6989586621679923037"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923035"><span class="annot"><a href="#local-6989586621679923035"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923036"><span class="annot"><a href="#local-6989586621679923036"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-946"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923035"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923035"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923036"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-947"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#ClosedTerm"><span class="hs-identifier hs-type">ClosedTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923036"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-948"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#ClosedTerm"><span class="hs-identifier hs-type">ClosedTerm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923036"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-949"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-950"></span><span>    </span><span class="annot"><a href="#local-6989586621679923037"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-951"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679923036"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923036"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923036"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-952"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923035"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923036"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-953"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923035"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923036"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-954"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923035"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923036"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-955"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-956"></span><span id="pzipWithDefaults"><span class="annot"><span class="annottext">pzipWithDefaults :: forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
ClosedTerm v
-&gt; ClosedTerm v
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWithDefaults"><span class="hs-identifier hs-var hs-var">pzipWithDefaults</span></a></span></span><span> </span><span id="local-6989586621679925119"><span class="annot"><span class="annottext">ClosedTerm v
</span><a href="#local-6989586621679925119"><span class="hs-identifier hs-var">defLeft</span></a></span></span><span> </span><span id="local-6989586621679925120"><span class="annot"><span class="annottext">ClosedTerm v
</span><a href="#local-6989586621679925120"><span class="hs-identifier hs-var">defRight</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-957"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; (v :--&gt; v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-958"></span><span>    </span><span class="annot"><span class="annottext">(Term s (v :--&gt; (v :--&gt; v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; (v :--&gt; v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (v :--&gt; (v :--&gt; v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-959"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s)
-&gt; Term s (v :--&gt; (v :--&gt; v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
-&gt; Term s v -&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
forall (s :: S) (v :: PType) (k :: PType).
Term s v
-&gt; Term s v -&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#defaultMergeHandlerNonCommutative"><span class="hs-identifier hs-var">defaultMergeHandlerNonCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
ClosedTerm v
</span><a href="#local-6989586621679925119"><span class="hs-identifier hs-var">defLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
ClosedTerm v
</span><a href="#local-6989586621679925120"><span class="hs-identifier hs-var">defRight</span></a></span><span>
</span><span id="line-960"></span><span>
</span><span id="line-961"></span><span class="annot"><span class="hs-comment">{- | Build the union of two 'PMap's. Take the value from the left argument for colliding keys.

 Prefer this over 'punionResolvingCollisionsWith NonCommutative # plam const'. It performs better.
-}</span></span><span>
</span><span id="line-965"></span><span id="local-6989586621679923042"><span id="local-6989586621679923043"><span id="local-6989586621679923044"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pleftBiasedUnion"><span class="hs-identifier hs-type">pleftBiasedUnion</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-966"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923042"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923042"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923043"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-967"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923044"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923042"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923043"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923042"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923043"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923042"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923043"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-968"></span><span id="pleftBiasedUnion"><span class="annot"><span class="annottext">pleftBiasedUnion :: forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term
  s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pleftBiasedUnion"><span class="hs-identifier hs-var hs-var">pleftBiasedUnion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-969"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; ClosedTerm
     (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-970"></span><span>    </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-971"></span><span>      </span><span class="annot"><span class="annottext">MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; SomeMergeHandler k v s
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
 -&gt; SomeMergeHandler k v s)
-&gt; MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; SomeMergeHandler k v s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-972"></span><span>        </span><span class="annot"><span class="annottext">BothPresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
-&gt; BothPresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
Bool -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#PassArg"><span class="hs-identifier hs-var">PassArg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../../../ghc-9.6.3/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span>
</span><span id="line-973"></span><span>
</span><span id="line-974"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-type">unionMergeHandler</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-975"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923049"><span class="annot"><a href="#local-6989586621679923049"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923051"><span class="annot"><a href="#local-6989586621679923051"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679923050"><span class="annot"><a href="#local-6989586621679923050"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-976"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-977"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923049"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679923050"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679923050"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923050"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-978"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923051"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923050"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923049"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-979"></span><span id="unionMergeHandler"><span class="annot"><span class="annottext">unionMergeHandler :: forall (s :: S) (k :: PType) (v :: PType).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-var hs-var">unionMergeHandler</span></a></span></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.Api.V1.AssocMap.html#NonCommutative"><span class="hs-identifier hs-var">NonCommutative</span></a></span><span> </span><span id="local-6989586621679925145"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679925145"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-980"></span><span>  </span><span class="annot"><span class="annottext">MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; SomeMergeHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_
      ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v))
-&gt; MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; SomeMergeHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s k)
  ((-&gt;)
     @LiftedRep
     @LiftedRep
     (Term s v)
     ((-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)))
-&gt; BothPresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679925146"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925146"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679925147"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925147"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679925145"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925146"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v)
-&gt; (-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925147"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span>
</span><span id="line-981"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-var">unionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.Api.V1.AssocMap.html#Commutative"><span class="hs-identifier hs-var">Commutative</span></a></span><span> </span><span id="local-6989586621679925148"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679925148"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-982"></span><span>  </span><span class="annot"><span class="annottext">MergeHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; SomeMergeHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-var">SomeMergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandlerCommutative_
   ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_
      ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v))
-&gt; MergeHandlerCommutative_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; SomeMergeHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-983"></span><span>    </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; MergeHandlerCommutative_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandlerCommutative_ f k v
-&gt; OnePresentHandler_ f k v -&gt; MergeHandlerCommutative_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s k)
  ((-&gt;)
     @LiftedRep
     @LiftedRep
     (Term s v)
     ((-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)))
-&gt; BothPresentHandlerCommutative_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-var">HandleBothCommutative</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679925149"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925149"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679925150"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925150"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679925148"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925149"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v)
-&gt; (-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925150"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span>
</span><span id="line-984"></span><span>
</span><span id="line-985"></span><span class="annot"><span class="hs-comment">{- | Build the union of two 'PMap's, merging values that share the same key using the
given function.
-}</span></span><span>
</span><span id="line-988"></span><span id="local-6989586621679923055"><span id="local-6989586621679923056"><span id="local-6989586621679923057"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#punionResolvingCollisionsWithData"><span class="hs-identifier hs-type">punionResolvingCollisionsWithData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-989"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923055"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923055"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-990"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-991"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-992"></span><span>    </span><span class="annot"><a href="#local-6989586621679923056"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-993"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923057"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923057"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923057"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-994"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923055"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923057"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-995"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923055"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923057"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-996"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923055"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923057"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-997"></span><span>    </span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-998"></span><span id="punionResolvingCollisionsWithData"><span class="annot"><span class="annottext">punionResolvingCollisionsWithData :: forall (k :: PType) (s :: S) (v :: PType).
(POrd k, PIsData k) =&gt;
Commutativity
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#punionResolvingCollisionsWithData"><span class="hs-identifier hs-var hs-var">punionResolvingCollisionsWithData</span></a></span></span><span> </span><span id="local-6989586621679925155"><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679925155"><span class="hs-identifier hs-var">commutativity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-999"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1000"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1001"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler (PAsData k) (PAsData v) s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; SomeMergeHandler (PAsData k) (PAsData v) s)
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall (s :: S) (k :: PType) (v :: PType).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-var">unionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679925155"><span class="hs-identifier hs-var">commutativity</span></a></span><span>
</span><span id="line-1002"></span><span>
</span><span id="line-1003"></span><span class="annot"><span class="hs-comment">{- | Build the union of two 'PMap's, merging values that share the same key using the
given function.
-}</span></span><span>
</span><span id="line-1006"></span><span id="local-6989586621679922767"><span id="local-6989586621679922768"><span id="local-6989586621679922769"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#punionResolvingCollisionsWith"><span class="hs-identifier hs-type">punionResolvingCollisionsWith</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1007"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922767"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922767"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922768"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1008"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1009"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922769"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922768"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922768"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922768"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922767"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922768"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922767"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922768"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922767"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922768"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1010"></span><span id="punionResolvingCollisionsWith"><span class="annot"><span class="annottext">punionResolvingCollisionsWith :: forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Commutativity
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#punionResolvingCollisionsWith"><span class="hs-identifier hs-var hs-var">punionResolvingCollisionsWith</span></a></span></span><span> </span><span id="local-6989586621679925167"><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679925167"><span class="hs-identifier hs-var">commutativity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1011"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; (v :--&gt; v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1012"></span><span>    </span><span class="annot"><span class="annottext">(Term s (v :--&gt; (v :--&gt; v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; (v :--&gt; v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (v :--&gt; (v :--&gt; v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1013"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s)
-&gt; Term s (v :--&gt; (v :--&gt; v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
forall (s :: S) (k :: PType) (v :: PType).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#unionMergeHandler"><span class="hs-identifier hs-var">unionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679925167"><span class="hs-identifier hs-var">commutativity</span></a></span><span>
</span><span id="line-1014"></span><span>
</span><span id="line-1015"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#intersectionMergeHandler"><span class="hs-identifier hs-type">intersectionMergeHandler</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1016"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679925176"><span class="annot"><a href="#local-6989586621679925176"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679925177"><span class="annot"><a href="#local-6989586621679925177"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679925178"><span class="annot"><a href="#local-6989586621679925178"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#PType"><span class="hs-identifier hs-type">PType</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-1017"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1018"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925176"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679925178"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679925178"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925178"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1019"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-type">SomeMergeHandler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925177"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925178"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925176"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1020"></span><span id="intersectionMergeHandler"><span class="annot"><span class="annottext">intersectionMergeHandler :: forall (s :: S) (k :: PType) (v :: PType).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#intersectionMergeHandler"><span class="hs-identifier hs-var hs-var">intersectionMergeHandler</span></a></span></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.Api.V1.AssocMap.html#NonCommutative"><span class="hs-identifier hs-var">NonCommutative</span></a></span><span> </span><span id="local-6989586621679925187"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679925187"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1021"></span><span>  </span><span class="annot"><span class="annottext">MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; SomeMergeHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_
      ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v))
-&gt; MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; SomeMergeHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s k)
  ((-&gt;)
     @LiftedRep
     @LiftedRep
     (Term s v)
     ((-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)))
-&gt; BothPresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#HandleBoth"><span class="hs-identifier hs-var">HandleBoth</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679925188"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925188"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679925189"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925189"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679925187"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925188"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v)
-&gt; (-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925189"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span>
</span><span id="line-1022"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#intersectionMergeHandler"><span class="hs-identifier hs-var">intersectionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="Plutarch.Api.V1.AssocMap.html#Commutative"><span class="hs-identifier hs-var">Commutative</span></a></span><span> </span><span id="local-6989586621679925190"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679925190"><span class="hs-identifier hs-var">merge</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1023"></span><span>  </span><span class="annot"><span class="annottext">MergeHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; SomeMergeHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandlerCommutative_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandlerCommutative"><span class="hs-identifier hs-var">SomeMergeHandlerCommutative</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandlerCommutative_
   ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
 -&gt; SomeMergeHandler_
      ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v))
-&gt; MergeHandlerCommutative_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; SomeMergeHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1024"></span><span>    </span><span class="annot"><span class="annottext">BothPresentHandlerCommutative_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; MergeHandlerCommutative_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandlerCommutative_ f k v
-&gt; OnePresentHandler_ f k v -&gt; MergeHandlerCommutative_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#MergeHandlerCommutative"><span class="hs-identifier hs-var">MergeHandlerCommutative</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(-&gt;)
  @LiftedRep
  @LiftedRep
  (Term s k)
  ((-&gt;)
     @LiftedRep
     @LiftedRep
     (Term s v)
     ((-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)))
-&gt; BothPresentHandlerCommutative_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
f k (f v (f v v)) -&gt; BothPresentHandlerCommutative_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#HandleBothCommutative"><span class="hs-identifier hs-var">HandleBothCommutative</span></a></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">Term s k
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679925191"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925191"><span class="hs-identifier hs-var">vl</span></a></span></span><span> </span><span id="local-6989586621679925192"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925192"><span class="hs-identifier hs-var">vr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v))
</span><a href="#local-6989586621679925190"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; v)) -&gt; Term s v -&gt; Term s (v :--&gt; v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925191"><span class="hs-identifier hs-var">vl</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; v)
-&gt; (-&gt;) @LiftedRep @LiftedRep (Term s v) (Term s v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925192"><span class="hs-identifier hs-var">vr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span>
</span><span id="line-1025"></span><span>
</span><span id="line-1026"></span><span class="annot"><span class="hs-comment">{- | Build the intersection of two 'PMap's, merging data-encoded values that share the same key using the
given function.
-}</span></span><span>
</span><span id="line-1029"></span><span id="local-6989586621679925193"><span id="local-6989586621679925194"><span id="local-6989586621679925195"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pintersectionWithData"><span class="hs-identifier hs-type">pintersectionWithData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1030"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925193"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925193"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1031"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1032"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-1033"></span><span>    </span><span class="annot"><a href="#local-6989586621679925194"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1034"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925195"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925195"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925195"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1035"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925193"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925195"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1036"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925193"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925195"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1037"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925193"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925195"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1038"></span><span>    </span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1039"></span><span id="pintersectionWithData"><span class="annot"><span class="annottext">pintersectionWithData :: forall (k :: PType) (s :: S) (v :: PType).
(POrd k, PIsData k) =&gt;
Commutativity
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#pintersectionWithData"><span class="hs-identifier hs-var hs-var">pintersectionWithData</span></a></span></span><span> </span><span id="local-6989586621679925200"><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679925200"><span class="hs-identifier hs-var">commutativity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1040"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1041"></span><span>    </span><span class="annot"><span class="annottext">(Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1042"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k) =&gt;
SomeMergeHandler (PAsData k) (PAsData v) s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWithData"><span class="hs-identifier hs-var">pzipWithData</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler (PAsData k) (PAsData v) s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
    -&gt; SomeMergeHandler (PAsData k) (PAsData v) s)
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
-&gt; Term s (PAsData v :--&gt; (PAsData v :--&gt; PAsData v))
-&gt; SomeMergeHandler (PAsData k) (PAsData v) s
forall (s :: S) (k :: PType) (v :: PType).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#intersectionMergeHandler"><span class="hs-identifier hs-var">intersectionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679925200"><span class="hs-identifier hs-var">commutativity</span></a></span><span>
</span><span id="line-1043"></span><span>
</span><span id="line-1044"></span><span class="annot"><span class="hs-comment">{- | Build the intersection of two 'PMap's, merging values that share the same key using the
given function.
-}</span></span><span>
</span><span id="line-1047"></span><span id="local-6989586621679925207"><span id="local-6989586621679925208"><span id="local-6989586621679925209"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pintersectionWith"><span class="hs-identifier hs-type">pintersectionWith</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1048"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925207"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925207"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925208"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1049"></span><span>  </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Commutativity"><span class="hs-identifier hs-type">Commutativity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1050"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925209"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679925208"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925208"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925208"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925207"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925208"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925207"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925208"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925207"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925208"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1051"></span><span id="pintersectionWith"><span class="annot"><span class="annottext">pintersectionWith :: forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Commutativity
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Api.V1.AssocMap.html#pintersectionWith"><span class="hs-identifier hs-var hs-var">pintersectionWith</span></a></span></span><span> </span><span id="local-6989586621679925215"><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679925215"><span class="hs-identifier hs-var">commutativity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1052"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; (v :--&gt; v))
   :--&gt; (PMap 'Sorted k v
         :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; (v :--&gt; v))
    :--&gt; (PMap 'Sorted k v
          :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; ClosedTerm
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1053"></span><span>    </span><span class="annot"><span class="annottext">(Term s (v :--&gt; (v :--&gt; v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     (c
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; (v :--&gt; v))
  -&gt; Term
       s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; v))
       :--&gt; (PMap 'Sorted k v
             :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))))
-&gt; (Term s (v :--&gt; (v :--&gt; v))
    -&gt; Term
         s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; v))
      :--&gt; (PMap 'Sorted k v
            :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1054"></span><span>      </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; (Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s)
-&gt; Term s (v :--&gt; (v :--&gt; v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
forall (s :: S) (k :: PType) (v :: PType).
Commutativity
-&gt; Term s (v :--&gt; (v :--&gt; v)) -&gt; SomeMergeHandler k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#intersectionMergeHandler"><span class="hs-identifier hs-var">intersectionMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">Commutativity
</span><a href="#local-6989586621679925215"><span class="hs-identifier hs-var">commutativity</span></a></span><span>
</span><span id="line-1055"></span><span>
</span><span id="line-1056"></span><span class="annot"><span class="hs-comment">-- | Difference of two maps. Return elements of the first map not existing in the second map.</span></span><span>
</span><span id="line-1057"></span><span id="local-6989586621679923077"><span id="local-6989586621679923078"><span id="local-6989586621679923079"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pdifference"><span class="hs-identifier hs-type">pdifference</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1058"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923077"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923077"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923078"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1059"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923079"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923077"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923078"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923077"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923078"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923077"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923078"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1060"></span><span id="pdifference"><span class="annot"><span class="annottext">pdifference :: forall (k :: PType) (v :: PType) (s :: S).
(PIsData k, POrd k, PIsData v) =&gt;
Term
  s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pdifference"><span class="hs-identifier hs-var hs-var">pdifference</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1061"></span><span>  </span><span class="annot"><span class="annottext">ClosedTerm
  (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; ClosedTerm
     (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1062"></span><span>    </span><span class="annot"><span class="annottext">SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall (s :: S) (k :: PType) (v :: PType).
(POrd k, PIsData k, PIsData v) =&gt;
SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pzipWith"><span class="hs-identifier hs-var">pzipWith</span></a></span><span> </span><span class="annot"><span class="annottext">(SomeMergeHandler k v s
 -&gt; Term
      s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v)))
-&gt; SomeMergeHandler k v s
-&gt; Term
     s (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PMap 'Sorted k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1063"></span><span>      </span><span class="annot"><span class="annottext">MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; SomeMergeHandler k v s
forall (f :: Type -&gt; Type -&gt; Type) k v.
MergeHandler_ f k v -&gt; SomeMergeHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#SomeMergeHandler"><span class="hs-identifier hs-var">SomeMergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">(MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
 -&gt; SomeMergeHandler k v s)
-&gt; MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; SomeMergeHandler k v s
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1064"></span><span>        </span><span class="annot"><span class="annottext">BothPresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; OnePresentHandler_
     ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
-&gt; MergeHandler_ ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v.
BothPresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; OnePresentHandler_ f k v
-&gt; MergeHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#MergeHandler"><span class="hs-identifier hs-var">MergeHandler</span></a></span><span> </span><span class="annot"><span class="annottext">BothPresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. BothPresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#DropBoth"><span class="hs-identifier hs-var">DropBoth</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#PassOne"><span class="hs-identifier hs-var">PassOne</span></a></span><span> </span><span class="annot"><span class="annottext">OnePresentHandler_
  ((-&gt;) @LiftedRep @LiftedRep) (Term s k) (Term s v)
forall (f :: Type -&gt; Type -&gt; Type) k v. OnePresentHandler_ f k v
</span><a href="Plutarch.Api.V1.AssocMap.html#DropOne"><span class="hs-identifier hs-var">DropOne</span></a></span><span>
</span><span id="line-1065"></span><span>
</span><span id="line-1066"></span><span class="annot"><span class="hs-comment">{- | Difference of two maps. Return elements of the first map not existing in the second map.
 Warning: O(n^2).
-}</span></span><span>
</span><span id="line-1069"></span><span id="local-6989586621679923084"><span id="local-6989586621679923085"><span id="local-6989586621679923086"><span id="local-6989586621679923087"><span id="local-6989586621679923088"><span id="local-6989586621679923089"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#punsortedDifference"><span class="hs-identifier hs-type">punsortedDifference</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923084"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923085"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923086"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923084"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923087"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923088"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923084"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923089"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923086"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923084"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923087"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-1070"></span><span id="punsortedDifference"><span class="annot"><span class="annottext">punsortedDifference :: forall (k :: PType) (s :: S) (g :: KeyGuarantees) (a :: PType)
       (any :: KeyGuarantees) (b :: PType).
PIsData k =&gt;
Term s (PMap g k a :--&gt; (PMap any k b :--&gt; PMap g k a))
</span><a href="Plutarch.Api.V1.AssocMap.html#punsortedDifference"><span class="hs-identifier hs-var hs-var">punsortedDifference</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm (PMap g k a :--&gt; (PMap any k b :--&gt; PMap g k a))
-&gt; Term s (PMap g k a :--&gt; (PMap any k b :--&gt; PMap g k a))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm (PMap g k a :--&gt; (PMap any k b :--&gt; PMap g k a))
 -&gt; Term s (PMap g k a :--&gt; (PMap any k b :--&gt; PMap g k a)))
-&gt; ClosedTerm (PMap g k a :--&gt; (PMap any k b :--&gt; PMap g k a))
-&gt; Term s (PMap g k a :--&gt; (PMap any k b :--&gt; PMap g k a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1071"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PMap g k a)
 -&gt; Term s (PMap any k b) -&gt; Term s (PMap g k a))
-&gt; Term s (PMap g k a :--&gt; (PMap any k b :--&gt; PMap g k a))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap any k b) -&gt; Term s (PMap g k a))
-&gt; Term s (c :--&gt; (PMap any k b :--&gt; PMap g k a))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PMap g k a)
  -&gt; Term s (PMap any k b) -&gt; Term s (PMap g k a))
 -&gt; Term s (PMap g k a :--&gt; (PMap any k b :--&gt; PMap g k a)))
-&gt; (Term s (PMap g k a)
    -&gt; Term s (PMap any k b) -&gt; Term s (PMap g k a))
-&gt; Term s (PMap g k a :--&gt; (PMap any k b :--&gt; PMap g k a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925275"><span class="annot"><span class="annottext">Term s (PMap g k a)
</span><a href="#local-6989586621679925275"><span class="hs-identifier hs-var">left</span></a></span></span><span> </span><span id="local-6989586621679925276"><span class="annot"><span class="annottext">Term s (PMap any k b)
</span><a href="#local-6989586621679925276"><span class="hs-identifier hs-var">right</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1072"></span><span>    </span><span class="annot"><span class="annottext">PMap g k a s -&gt; Term s (PMap g k a)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">(PMap g k a s -&gt; Term s (PMap g k a))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
    -&gt; PMap g k a s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term s (PMap g k a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; PMap g k a s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PMap g k a))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term s (PMap g k a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1073"></span><span>      </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData a))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><a href="Plutarch.List.html#precList"><span class="hs-identifier hs-var">precList</span></a></span><span>
</span><span id="line-1074"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925277"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679925277"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679925278"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679925278"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679925279"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679925279"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1075"></span><span>            </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679925277"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679925279"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925280"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679925280"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1076"></span><span>              </span><span class="annot"><span class="annottext">Term
  s
  (k
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
         :--&gt; ((PAsData b
                :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
               :--&gt; (PMap any k b
                     :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))))))
forall (k :: PType) (s :: S) (r :: PType) (v :: PType)
       (any :: KeyGuarantees).
PIsData k =&gt;
Term
  s (k :--&gt; (r :--&gt; ((PAsData v :--&gt; r) :--&gt; (PMap any k v :--&gt; r))))
</span><a href="Plutarch.Api.V1.AssocMap.html#pfoldAt"><span class="hs-identifier hs-var">pfoldAt</span></a></span><span class="hs-cpp">
                # pfromData (pfstBuiltin # x)
</span><span class="hs-cpp">                # (pcons # x # xs')
</span><span class="hs-cpp">                # plam (const xs')
</span><span class="hs-cpp">                # right
</span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-1082"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><a href="Plutarch.List.html#pnil"><span class="hs-identifier hs-var">pnil</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
        # pto left
</span><span>
</span><span id="line-1085"></span><span class="annot"><span class="hs-comment">-- | Tests if all values in the map satisfy the given predicate.</span></span><span>
</span><span id="line-1086"></span><span id="local-6989586621679923097"><span id="local-6989586621679923098"><span id="local-6989586621679923099"><span id="local-6989586621679923100"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pall"><span class="hs-identifier hs-type">pall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923097"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923098"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679923097"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Bool.html#PBool"><span class="hs-identifier hs-type">PBool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923099"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923100"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923097"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Bool.html#PBool"><span class="hs-identifier hs-type">PBool</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-1087"></span><span id="pall"><span class="annot"><span class="annottext">pall :: forall (v :: PType) (s :: S) (any :: KeyGuarantees) (k :: PType).
PIsData v =&gt;
Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
</span><a href="Plutarch.Api.V1.AssocMap.html#pall"><span class="hs-identifier hs-var hs-var">pall</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
 -&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool)))
-&gt; ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1088"></span><span>  </span><span class="annot"><span class="annottext">(Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s (c :--&gt; (PMap any k v :--&gt; PBool))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
 -&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool)))
-&gt; (Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925308"><span class="annot"><span class="annottext">Term s (v :--&gt; PBool)
</span><a href="#local-6989586621679925308"><span class="hs-identifier hs-var">pred</span></a></span></span><span> </span><span id="local-6989586621679925309"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679925309"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1089"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
PIsListLike list a =&gt;
Term s ((a :--&gt; PBool) :--&gt; (list a :--&gt; PBool))
</span><a href="Plutarch.List.html#pall"><span class="hs-identifier hs-var">List.pall</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679925310"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679925310"><span class="hs-identifier hs-var">pair</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool)
</span><a href="#local-6989586621679925308"><span class="hs-identifier hs-var">pred</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool) -&gt; Term s v -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23%24"><span class="hs-operator hs-var">#$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v) -&gt; Term s v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><a href="Plutarch.Builtin.html#psndBuiltin"><span class="hs-identifier hs-var">psndBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679925310"><span class="hs-identifier hs-var">pair</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v) -&gt; Term s (PInner (PMap any k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><a href="Plutarch.Internal.Other.html#pto"><span class="hs-identifier hs-var">pto</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679925309"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1090"></span><span>
</span><span id="line-1091"></span><span class="annot"><span class="hs-comment">-- | Tests if anu value in the map satisfies the given predicate.</span></span><span>
</span><span id="line-1092"></span><span id="local-6989586621679925311"><span id="local-6989586621679925312"><span id="local-6989586621679925313"><span id="local-6989586621679925314"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pany"><span class="hs-identifier hs-type">pany</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925311"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925312"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679925311"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Bool.html#PBool"><span class="hs-identifier hs-type">PBool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925313"><span class="hs-identifier hs-type">any</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925314"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679925311"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Bool.html#PBool"><span class="hs-identifier hs-type">PBool</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-1093"></span><span id="pany"><span class="annot"><span class="annottext">pany :: forall (v :: PType) (s :: S) (any :: KeyGuarantees) (k :: PType).
PIsData v =&gt;
Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
</span><a href="Plutarch.Api.V1.AssocMap.html#pany"><span class="hs-identifier hs-var hs-var">pany</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
 -&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool)))
-&gt; ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1094"></span><span>  </span><span class="annot"><span class="annottext">(Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s (c :--&gt; (PMap any k v :--&gt; PBool))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
 -&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool)))
-&gt; (Term s (v :--&gt; PBool) -&gt; Term s (PMap any k v) -&gt; Term s PBool)
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap any k v :--&gt; PBool))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925342"><span class="annot"><span class="annottext">Term s (v :--&gt; PBool)
</span><a href="#local-6989586621679925342"><span class="hs-identifier hs-var">pred</span></a></span></span><span> </span><span id="local-6989586621679925343"><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679925343"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1095"></span><span>    </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
PIsListLike list a =&gt;
Term s ((a :--&gt; PBool) :--&gt; (list a :--&gt; PBool))
</span><a href="Plutarch.List.html#pany"><span class="hs-identifier hs-var">List.pany</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679925344"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679925344"><span class="hs-identifier hs-var">pair</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool)
</span><a href="#local-6989586621679925342"><span class="hs-identifier hs-var">pred</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool) -&gt; Term s v -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23%24"><span class="hs-operator hs-var">#$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v) -&gt; Term s v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><a href="Plutarch.Builtin.html#psndBuiltin"><span class="hs-identifier hs-var">psndBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679925344"><span class="hs-identifier hs-var">pair</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v) -&gt; Term s (PInner (PMap any k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><a href="Plutarch.Internal.Other.html#pto"><span class="hs-identifier hs-var">pto</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap any k v)
</span><a href="#local-6989586621679925343"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1096"></span><span>
</span><span id="line-1097"></span><span class="annot"><span class="hs-comment">-- | Filters the map so it contains only the values that satisfy the given predicate.</span></span><span>
</span><span id="line-1098"></span><span id="local-6989586621679923114"><span id="local-6989586621679923115"><span id="local-6989586621679923116"><span id="local-6989586621679923117"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pfilter"><span class="hs-identifier hs-type">pfilter</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923114"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923115"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679923114"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Bool.html#PBool"><span class="hs-identifier hs-type">PBool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923116"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923117"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923114"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923116"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923117"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923114"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-1099"></span><span id="pfilter"><span class="annot"><span class="annottext">pfilter :: forall (v :: PType) (s :: S) (g :: KeyGuarantees) (k :: PType).
PIsData v =&gt;
Term s ((v :--&gt; PBool) :--&gt; (PMap g k v :--&gt; PMap g k v))
</span><a href="Plutarch.Api.V1.AssocMap.html#pfilter"><span class="hs-identifier hs-var hs-var">pfilter</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap g k v :--&gt; PMap g k v))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap g k v :--&gt; PMap g k v))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap g k v :--&gt; PMap g k v))
 -&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap g k v :--&gt; PMap g k v)))
-&gt; ClosedTerm ((v :--&gt; PBool) :--&gt; (PMap g k v :--&gt; PMap g k v))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap g k v :--&gt; PMap g k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1100"></span><span>  </span><span class="annot"><span class="annottext">(Term s (v :--&gt; PBool) -&gt; Term s (PMap g k v :--&gt; PMap g k v))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap g k v :--&gt; PMap g k v))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap g k v :--&gt; PMap g k v))
-&gt; Term s (c :--&gt; (PMap g k v :--&gt; PMap g k v))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; PBool) -&gt; Term s (PMap g k v :--&gt; PMap g k v))
 -&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap g k v :--&gt; PMap g k v)))
-&gt; (Term s (v :--&gt; PBool) -&gt; Term s (PMap g k v :--&gt; PMap g k v))
-&gt; Term s ((v :--&gt; PBool) :--&gt; (PMap g k v :--&gt; PMap g k v))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925364"><span class="annot"><span class="annottext">Term s (v :--&gt; PBool)
</span><a href="#local-6989586621679925364"><span class="hs-identifier hs-var">pred</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1101"></span><span>    </span><span class="annot"><span class="annottext">Term s ((v :--&gt; PMaybe v) :--&gt; (PMap g k v :--&gt; PMap g k v))
forall (a :: PType) (b :: PType) (s :: S) (g :: KeyGuarantees)
       (k :: PType).
(PIsData a, PIsData b) =&gt;
Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Api.V1.AssocMap.html#pmapMaybe"><span class="hs-identifier hs-var">pmapMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Term s ((v :--&gt; PMaybe v) :--&gt; (PMap g k v :--&gt; PMap g k v))
-&gt; Term s (v :--&gt; PMaybe v) -&gt; Term s (PMap g k v :--&gt; PMap g k v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23%24"><span class="hs-operator hs-var">#$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; Term s (PMaybe v)) -&gt; Term s (v :--&gt; PMaybe v)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMaybe v)) -&gt; Term s (c :--&gt; PMaybe v)
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s v -&gt; Term s (PMaybe v)) -&gt; Term s (v :--&gt; PMaybe v))
-&gt; (Term s v -&gt; Term s (PMaybe v)) -&gt; Term s (v :--&gt; PMaybe v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925365"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925365"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s PBool
-&gt; Term s (PMaybe v) -&gt; Term s (PMaybe v) -&gt; Term s (PMaybe v)
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><a href="Plutarch.Bool.html#pif"><span class="hs-identifier hs-var">pif</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool)
</span><a href="#local-6989586621679925364"><span class="hs-identifier hs-var">pred</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool) -&gt; Term s v -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925365"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PMaybe v s -&gt; Term s (PMaybe v)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">(PMaybe v s -&gt; Term s (PMaybe v))
-&gt; PMaybe v s -&gt; Term s (PMaybe v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; PMaybe v s
forall (a :: PType) (s :: S). Term s a -&gt; PMaybe a s
</span><a href="Plutarch.Maybe.html#PJust"><span class="hs-identifier hs-var">PJust</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925365"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PMaybe v s -&gt; Term s (PMaybe v)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">PMaybe v s
forall (a :: PType) (s :: S). PMaybe a s
</span><a href="Plutarch.Maybe.html#PNothing"><span class="hs-identifier hs-var">PNothing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1102"></span><span>
</span><span id="line-1103"></span><span class="annot"><span class="hs-comment">-- | Maps and filters the map, much like 'Data.List.mapMaybe'.</span></span><span>
</span><span id="line-1104"></span><span id="local-6989586621679923123"><span id="local-6989586621679923124"><span id="local-6989586621679923125"><span id="local-6989586621679923126"><span id="local-6989586621679923127"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pmapMaybe"><span class="hs-identifier hs-type">pmapMaybe</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1105"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923123"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923124"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1106"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923125"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679923123"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Maybe.html#PMaybe"><span class="hs-identifier hs-type">PMaybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923124"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923126"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923127"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923123"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923126"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923127"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923124"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-1107"></span><span id="pmapMaybe"><span class="annot"><span class="annottext">pmapMaybe :: forall (a :: PType) (b :: PType) (s :: S) (g :: KeyGuarantees)
       (k :: PType).
(PIsData a, PIsData b) =&gt;
Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Api.V1.AssocMap.html#pmapMaybe"><span class="hs-identifier hs-var hs-var">pmapMaybe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
 -&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; ClosedTerm ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1108"></span><span>  </span><span class="annot"><span class="annottext">(Term s (a :--&gt; PMaybe b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s (c :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (a :--&gt; PMaybe b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
 -&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; (Term s (a :--&gt; PMaybe b)
    -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; PMaybe b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925387"><span class="annot"><span class="annottext">Term s (a :--&gt; PMaybe b)
</span><a href="#local-6989586621679925387"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (s :: S) (a :: PType) (b :: PType) (g :: KeyGuarantees)
       (k :: PType).
Term
  s
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Api.V1.AssocMap.html#pmapMaybeData"><span class="hs-identifier hs-var">pmapMaybeData</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s (PAsData a :--&gt; PMaybe (PAsData b))
-&gt; Term s (PMap g k a :--&gt; PMap g k b)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23%24"><span class="hs-operator hs-var">#$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData a) -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (PAsData a :--&gt; PMaybe (PAsData b))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (c :--&gt; PMaybe (PAsData b))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData a) -&gt; Term s (PMaybe (PAsData b)))
 -&gt; Term s (PAsData a :--&gt; PMaybe (PAsData b)))
-&gt; (Term s (PAsData a) -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (PAsData a :--&gt; PMaybe (PAsData b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925388"><span class="annot"><span class="annottext">Term s (PAsData a)
</span><a href="#local-6989586621679925388"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PMaybe b)
-&gt; (PMaybe b s -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (PMaybe (PAsData b))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.PlutusType.html#pmatch"><span class="hs-identifier hs-var">pmatch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; PMaybe b)
</span><a href="#local-6989586621679925387"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; PMaybe b) -&gt; Term s a -&gt; Term s (PMaybe b)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a) -&gt; Term s a
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a)
</span><a href="#local-6989586621679925388"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe b s -&gt; Term s (PMaybe (PAsData b)))
 -&gt; Term s (PMaybe (PAsData b)))
-&gt; (PMaybe b s -&gt; Term s (PMaybe (PAsData b)))
-&gt; Term s (PMaybe (PAsData b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1109"></span><span>    </span><span class="annot"><span class="annottext">PMaybe b s
</span><a href="Plutarch.Maybe.html#PNothing"><span class="hs-identifier hs-var">PNothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PMaybe (PAsData b) s -&gt; Term s (PMaybe (PAsData b))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">PMaybe (PAsData b) s
forall (a :: PType) (s :: S). PMaybe a s
</span><a href="Plutarch.Maybe.html#PNothing"><span class="hs-identifier hs-var">PNothing</span></a></span><span>
</span><span id="line-1110"></span><span>    </span><span class="annot"><a href="Plutarch.Maybe.html#PJust"><span class="hs-identifier hs-type">PJust</span></a></span><span> </span><span id="local-6989586621679925389"><span class="annot"><span class="annottext">Term s b
</span><a href="#local-6989586621679925389"><span class="hs-identifier hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PMaybe (PAsData b) s -&gt; Term s (PMaybe (PAsData b))
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">(PMaybe (PAsData b) s -&gt; Term s (PMaybe (PAsData b)))
-&gt; PMaybe (PAsData b) s -&gt; Term s (PMaybe (PAsData b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData b) -&gt; PMaybe (PAsData b) s
forall (a :: PType) (s :: S). Term s a -&gt; PMaybe a s
</span><a href="Plutarch.Maybe.html#PJust"><span class="hs-identifier hs-var">PJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s b -&gt; Term s (PAsData b)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><a href="Plutarch.Builtin.html#pdata"><span class="hs-identifier hs-var">pdata</span></a></span><span> </span><span class="annot"><span class="annottext">Term s b
</span><a href="#local-6989586621679925389"><span class="hs-identifier hs-var">v'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1111"></span><span>
</span><span id="line-1112"></span><span id="local-6989586621679923134"><span id="local-6989586621679923135"><span id="local-6989586621679923136"><span id="local-6989586621679923137"><span id="local-6989586621679923138"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pmapMaybeData"><span class="hs-identifier hs-type">pmapMaybeData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1113"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923134"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923135"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Maybe.html#PMaybe"><span class="hs-identifier hs-type">PMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923136"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923137"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923138"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923135"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923137"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923138"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923136"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-1114"></span><span id="pmapMaybeData"><span class="annot"><span class="annottext">pmapMaybeData :: forall (s :: S) (a :: PType) (b :: PType) (g :: KeyGuarantees)
       (k :: PType).
Term
  s
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Api.V1.AssocMap.html#pmapMaybeData"><span class="hs-identifier hs-var hs-var">pmapMaybeData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((PAsData a :--&gt; PMaybe (PAsData b))
   :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term
     s
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PAsData a :--&gt; PMaybe (PAsData b))
    :--&gt; (PMap g k a :--&gt; PMap g k b))
 -&gt; Term
      s
      ((PAsData a :--&gt; PMaybe (PAsData b))
       :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; ClosedTerm
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term
     s
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1115"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PAsData a :--&gt; PMaybe (PAsData b))
 -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term
     s
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term s (c :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData a :--&gt; PMaybe (PAsData b))
  -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
 -&gt; Term
      s
      ((PAsData a :--&gt; PMaybe (PAsData b))
       :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; (Term s (PAsData a :--&gt; PMaybe (PAsData b))
    -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term
     s
     ((PAsData a :--&gt; PMaybe (PAsData b))
      :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925430"><span class="annot"><span class="annottext">Term s (PAsData a :--&gt; PMaybe (PAsData b))
</span><a href="#local-6989586621679925430"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679925431"><span class="annot"><span class="annottext">Term s (PMap g k a)
</span><a href="#local-6989586621679925431"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1116"></span><span>    </span><span class="annot"><span class="annottext">PMap g k b s -&gt; Term s (PMap g k b)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">(PMap g k b s -&gt; Term s (PMap g k b))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; PMap g k b s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap g k b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; PMap g k b s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PMap g k b))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap g k b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1117"></span><span>      </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData a))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><a href="Plutarch.List.html#precList"><span class="hs-identifier hs-var">precList</span></a></span><span>
</span><span id="line-1118"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925432"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679925432"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679925433"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679925433"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679925434"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679925434"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1119"></span><span>            </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679925432"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679925434"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925435"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679925435"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1120"></span><span>              </span><span class="annot"><span class="annottext">Term s (PMaybe (PAsData b))
-&gt; (PMaybe (PAsData b) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (a :: PType) (s :: S) (b :: PType).
PlutusType a =&gt;
Term s a -&gt; (a s -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.PlutusType.html#pmatch"><span class="hs-identifier hs-var">pmatch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData a :--&gt; PMaybe (PAsData b))
</span><a href="#local-6989586621679925430"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a :--&gt; PMaybe (PAsData b))
-&gt; Term s (PAsData a) -&gt; Term s (PMaybe (PAsData b))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23%24"><span class="hs-operator hs-var">#$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; PAsData a)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><a href="Plutarch.Builtin.html#psndBuiltin"><span class="hs-identifier hs-var">psndBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; PAsData a)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData a))
-&gt; Term s (PAsData a)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679925433"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((PMaybe (PAsData b) s
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (PMaybe (PAsData b) s
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1121"></span><span>                </span><span class="annot"><span class="annottext">PMaybe (PAsData b) s
</span><a href="Plutarch.Maybe.html#PNothing"><span class="hs-identifier hs-var">PNothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679925435"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-1122"></span><span>                </span><span class="annot"><a href="Plutarch.Maybe.html#PJust"><span class="hs-identifier hs-type">PJust</span></a></span><span> </span><span id="local-6989586621679925436"><span class="annot"><span class="annottext">Term s (PAsData b)
</span><a href="#local-6989586621679925436"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData b)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData b)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData b))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: PType) (b :: PType).
Term
  s
  (PAsData a
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData a) (PAsData b)))
</span><a href="Plutarch.Builtin.html#ppairDataBuiltin"><span class="hs-identifier hs-var">ppairDataBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PAsData k
   :--&gt; (PAsData b :--&gt; PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PAsData k)
-&gt; Term s (PAsData b :--&gt; PBuiltinPair (PAsData k) (PAsData b))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><a href="Plutarch.Builtin.html#pfstBuiltin"><span class="hs-identifier hs-var">pfstBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData a))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679925433"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term s (PAsData b :--&gt; PBuiltinPair (PAsData k) (PAsData b))
-&gt; Term s (PAsData b)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData b))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData b)
</span><a href="#local-6989586621679925436"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679925435"><span class="hs-identifier hs-var">xs'</span></a></span><span>
</span><span id="line-1123"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-1124"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><a href="Plutarch.List.html#pnil"><span class="hs-identifier hs-var">pnil</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
        # pto m
</span><span>
</span><span id="line-1127"></span><span class="annot"><span class="hs-comment">-- | Applies a function to every value in the map, much like 'Data.List.map'.</span></span><span>
</span><span id="line-1128"></span><span id="local-6989586621679922804"><span id="local-6989586621679922805"><span id="local-6989586621679922806"><span id="local-6989586621679922807"><span id="local-6989586621679922808"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pmap"><span class="hs-identifier hs-type">pmap</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1129"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922804"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922805"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1130"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922806"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679922804"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922805"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922807"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922808"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922804"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922807"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922808"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679922805"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-1131"></span><span id="pmap"><span class="annot"><span class="annottext">pmap :: forall (a :: PType) (b :: PType) (s :: S) (g :: KeyGuarantees)
       (k :: PType).
(PIsData a, PIsData b) =&gt;
Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Api.V1.AssocMap.html#pmap"><span class="hs-identifier hs-var hs-var">pmap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
 -&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; ClosedTerm ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1132"></span><span>  </span><span class="annot"><span class="annottext">(Term s (a :--&gt; b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s (c :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (a :--&gt; b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
 -&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; (Term s (a :--&gt; b) -&gt; Term s (PMap g k a :--&gt; PMap g k b))
-&gt; Term s ((a :--&gt; b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1133"></span><span>    </span><span class="hs-glyph">\</span><span id="local-6989586621679925455"><span class="annot"><span class="annottext">Term s (a :--&gt; b)
</span><a href="#local-6989586621679925455"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term
  s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (s :: S) (a :: PType) (b :: PType) (g :: KeyGuarantees)
       (k :: PType).
Term
  s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Api.V1.AssocMap.html#pmapData"><span class="hs-identifier hs-var">pmapData</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term s (PAsData a :--&gt; PAsData b)
-&gt; Term s (PMap g k a :--&gt; PMap g k b)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23%24"><span class="hs-operator hs-var">#$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData a) -&gt; Term s (PAsData b))
-&gt; Term s (PAsData a :--&gt; PAsData b)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PAsData b)) -&gt; Term s (c :--&gt; PAsData b)
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData a) -&gt; Term s (PAsData b))
 -&gt; Term s (PAsData a :--&gt; PAsData b))
-&gt; (Term s (PAsData a) -&gt; Term s (PAsData b))
-&gt; Term s (PAsData a :--&gt; PAsData b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925456"><span class="annot"><span class="annottext">Term s (PAsData a)
</span><a href="#local-6989586621679925456"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s b -&gt; Term s (PAsData b)
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s a -&gt; Term s (PAsData a)
</span><a href="Plutarch.Builtin.html#pdata"><span class="hs-identifier hs-var">pdata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (a :--&gt; b)
</span><a href="#local-6989586621679925455"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a) -&gt; Term s a
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData a)
</span><a href="#local-6989586621679925456"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1134"></span><span>
</span><span id="line-1135"></span><span id="local-6989586621679923151"><span id="local-6989586621679923152"><span id="local-6989586621679923153"><span id="local-6989586621679923154"><span id="local-6989586621679923155"><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pmapData"><span class="hs-identifier hs-type">pmapData</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1136"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923151"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923152"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PAsData"><span class="hs-identifier hs-type">PAsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923153"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923154"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923155"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923152"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923154"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923155"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923153"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-1137"></span><span id="pmapData"><span class="annot"><span class="annottext">pmapData :: forall (s :: S) (a :: PType) (b :: PType) (g :: KeyGuarantees)
       (k :: PType).
Term
  s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Api.V1.AssocMap.html#pmapData"><span class="hs-identifier hs-var hs-var">pmapData</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term
     s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
 -&gt; Term
      s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; ClosedTerm
     ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
-&gt; Term
     s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1138"></span><span>  </span><span class="annot"><span class="annottext">(Term s (PAsData a :--&gt; PAsData b)
 -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term
     s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term s (c :--&gt; (PMap g k a :--&gt; PMap g k b))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (PAsData a :--&gt; PAsData b)
  -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
 -&gt; Term
      s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b)))
-&gt; (Term s (PAsData a :--&gt; PAsData b)
    -&gt; Term s (PMap g k a) -&gt; Term s (PMap g k b))
-&gt; Term
     s ((PAsData a :--&gt; PAsData b) :--&gt; (PMap g k a :--&gt; PMap g k b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925496"><span class="annot"><span class="annottext">Term s (PAsData a :--&gt; PAsData b)
</span><a href="#local-6989586621679925496"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679925497"><span class="annot"><span class="annottext">Term s (PMap g k a)
</span><a href="#local-6989586621679925497"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1139"></span><span>    </span><span class="annot"><span class="annottext">PMap g k b s -&gt; Term s (PMap g k b)
forall (a :: PType) (s :: S). PlutusType a =&gt; a s -&gt; Term s a
</span><a href="Plutarch.Internal.PlutusType.html#pcon"><span class="hs-identifier hs-var">pcon</span></a></span><span> </span><span class="annot"><span class="annottext">(PMap g k b s -&gt; Term s (PMap g k b))
-&gt; (Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; PMap g k b s)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap g k b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; PMap g k b s
forall (keysort :: KeyGuarantees) (k :: PType) (v :: PType)
       (s :: S).
Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; PMap keysort k v s
</span><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-var">PMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PMap g k b))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PMap g k b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1140"></span><span>      </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
    :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
 -&gt; Term s (PBuiltinPair (PAsData k) (PAsData a))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
       :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
PIsListLike list a =&gt;
(Term s (list a :--&gt; r) -&gt; Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; (Term s (list a :--&gt; r) -&gt; Term s r) -&gt; Term s (list a :--&gt; r)
</span><a href="Plutarch.List.html#precList"><span class="hs-identifier hs-var">precList</span></a></span><span>
</span><span id="line-1141"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925498"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
   :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
</span><a href="#local-6989586621679925498"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679925499"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData a))
</span><a href="#local-6989586621679925499"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679925500"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a)))
</span><a href="#local-6989586621679925500"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1142"></span><span>            </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinPair (PAsData k) (PAsData b)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))
         :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b))))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (a :--&gt; (PBuiltinList a :--&gt; PBuiltinList a))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (a :--&gt; (list a :--&gt; list a))
</span><a href="Plutarch.List.html#pcons"><span class="hs-identifier hs-var">pcons</span></a></span><span class="hs-cpp">
              # (ppairDataBuiltin # (pfstBuiltin # x) # (f #$ psndBuiltin # x))
</span><span class="hs-cpp">              # (self # xs)
</span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-1146"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData a))
      :--&gt; PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall a b. a -&gt; b -&gt; a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData b)))
forall (a :: PType) (s :: S).
PElemConstraint PBuiltinList a =&gt;
Term s (PBuiltinList a)
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
(PListLike list, PElemConstraint list a) =&gt;
Term s (list a)
</span><a href="Plutarch.List.html#pnil"><span class="hs-identifier hs-var">pnil</span></a></span><span class="hs-special">)</span><span class="hs-cpp">
        # pto m
</span><span>
</span><span id="line-1149"></span><span class="annot"><span class="hs-comment">{- | Given a comparison function and a &quot;zero&quot; value, check whether a binary relation holds over
2 sorted 'PMap's.

This is primarily intended to be used with 'PValue'.
-}</span></span><span>
</span><span id="line-1154"></span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#pcheckBinRel"><span class="hs-identifier hs-type">pcheckBinRel</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1155"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679923162"><span class="annot"><a href="#local-6989586621679923162"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679923163"><span class="annot"><a href="#local-6989586621679923163"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621679923164"><span class="annot"><a href="#local-6989586621679923164"><span class="hs-identifier hs-type">s</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-1156"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Bool.html#POrd"><span class="hs-identifier hs-type">POrd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923162"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923162"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PIsData"><span class="hs-identifier hs-type">PIsData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923163"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-1157"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span>
</span><span id="line-1158"></span><span>    </span><span class="annot"><a href="#local-6989586621679923164"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-1159"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679923163"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923163"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Bool.html#PBool"><span class="hs-identifier hs-type">PBool</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1160"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923163"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1161"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923162"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923163"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1162"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#PMap"><span class="hs-identifier hs-type">PMap</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Plutarch.Api.V1.AssocMap.html#Sorted"><span class="hs-identifier hs-type">Sorted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923162"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679923163"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1163"></span><span>        </span><span class="annot"><a href="Plutarch.Internal.html#%3A--%3E"><span class="hs-operator hs-type">:--&gt;</span></a></span><span> </span><span class="annot"><a href="Plutarch.Bool.html#PBool"><span class="hs-identifier hs-type">PBool</span></a></span><span>
</span><span id="line-1164"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-1165"></span><span id="pcheckBinRel"><span class="annot"><span class="annottext">pcheckBinRel :: forall (k :: PType) (v :: PType) (s :: S).
(POrd k, PIsData k, PIsData v) =&gt;
Term
  s
  ((v :--&gt; (v :--&gt; PBool))
   :--&gt; (v
         :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
</span><a href="Plutarch.Api.V1.AssocMap.html#pcheckBinRel"><span class="hs-identifier hs-var hs-var">pcheckBinRel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosedTerm
  ((v :--&gt; (v :--&gt; PBool))
   :--&gt; (v
         :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
forall (a :: PType) (s :: S).
HasCallStack =&gt;
ClosedTerm a -&gt; Term s a
</span><a href="Plutarch.Internal.html#phoistAcyclic"><span class="hs-identifier hs-var">phoistAcyclic</span></a></span><span> </span><span class="annot"><span class="annottext">(ClosedTerm
   ((v :--&gt; (v :--&gt; PBool))
    :--&gt; (v
          :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; PBool))
       :--&gt; (v
             :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))))
-&gt; ClosedTerm
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-1166"></span><span>  </span><span class="annot"><span class="annottext">(Term s (v :--&gt; (v :--&gt; PBool))
 -&gt; Term s v
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s PBool)
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s v
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s (PMap 'Sorted k v)
 -&gt; Term s PBool)
-&gt; Term
     s
     (c
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term s (v :--&gt; (v :--&gt; PBool))
  -&gt; Term s v
  -&gt; Term s (PMap 'Sorted k v)
  -&gt; Term s (PMap 'Sorted k v)
  -&gt; Term s PBool)
 -&gt; Term
      s
      ((v :--&gt; (v :--&gt; PBool))
       :--&gt; (v
             :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool)))))
-&gt; (Term s (v :--&gt; (v :--&gt; PBool))
    -&gt; Term s v
    -&gt; Term s (PMap 'Sorted k v)
    -&gt; Term s (PMap 'Sorted k v)
    -&gt; Term s PBool)
-&gt; Term
     s
     ((v :--&gt; (v :--&gt; PBool))
      :--&gt; (v
            :--&gt; (PMap 'Sorted k v :--&gt; (PMap 'Sorted k v :--&gt; PBool))))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925614"><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679925614"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679925615"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925615"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span id="local-6989586621679925616"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679925616"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span id="local-6989586621679925617"><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679925617"><span class="hs-identifier hs-var">m2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1167"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679925618"><span class="annot"><span class="annottext">inner :: Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
</span><a href="#local-6989586621679925618"><span class="hs-identifier hs-var hs-var">inner</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PBool))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBool)))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBool)))
forall (s :: S) (a :: PType) (b :: PType).
Term s (((a :--&gt; b) :--&gt; (a :--&gt; b)) :--&gt; (a :--&gt; b))
</span><a href="Plutarch.Internal.Other.html#pfix"><span class="hs-identifier hs-var">pfix</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PBool))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                :--&gt; PBool)))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
               :--&gt; PBool)))
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBool)))
-&gt; Term
     s
     (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; PBool))
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23%24"><span class="hs-operator hs-var">#$</span></a></span><span> </span><span class="annot"><span class="annottext">(Term
   s
   (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
    :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
          :--&gt; PBool))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s PBool)
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBool)))
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s PBool)
-&gt; Term
     s
     (c
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBool)))
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="annot"><span class="annottext">((Term
    s
    (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
     :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
           :--&gt; PBool))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
  -&gt; Term s PBool)
 -&gt; Term
      s
      ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
        :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
              :--&gt; PBool))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                   :--&gt; PBool))))
-&gt; (Term
      s
      (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBool))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
    -&gt; Term s PBool)
-&gt; Term
     s
     ((PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
       :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
             :--&gt; PBool))
      :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
            :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
                  :--&gt; PBool)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925619"><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
</span><a href="#local-6989586621679925619"><span class="hs-identifier hs-var">self</span></a></span></span><span> </span><span id="local-6989586621679925620"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679925620"><span class="hs-identifier hs-var">l1</span></a></span></span><span> </span><span id="local-6989586621679925621"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679925621"><span class="hs-identifier hs-var">l2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1168"></span><span>          </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s PBool)
-&gt; Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (a :: PType) (s :: S) (r :: PType).
PElemConstraint PBuiltinList a =&gt;
(Term s a -&gt; Term s (PBuiltinList a) -&gt; Term s r)
-&gt; Term s r -&gt; Term s (PBuiltinList a) -&gt; Term s r
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
(PListLike list, PElemConstraint list a) =&gt;
(Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; Term s r -&gt; Term s (list a) -&gt; Term s r
</span><a href="Plutarch.List.html#pelimList"><span class="hs-identifier hs-var">pelimList</span></a></span><span>
</span><span id="line-1169"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925623"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679925623"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679925624"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679925624"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1170"></span><span>                </span><span class="annot"><span class="annottext">Term s v -&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v) -&gt; Term s v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><a href="Plutarch.Builtin.html#psndBuiltin"><span class="hs-identifier hs-var">psndBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679925623"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((Term s v -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925625"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925625"><span class="hs-identifier hs-var">v1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1171"></span><span>                  </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v))
 -&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
 -&gt; Term s PBool)
-&gt; Term s PBool
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (a :: PType) (s :: S) (r :: PType).
PElemConstraint PBuiltinList a =&gt;
(Term s a -&gt; Term s (PBuiltinList a) -&gt; Term s r)
-&gt; Term s r -&gt; Term s (PBuiltinList a) -&gt; Term s r
forall (list :: PType -&gt; PType) (a :: PType) (s :: S) (r :: PType).
(PListLike list, PElemConstraint list a) =&gt;
(Term s a -&gt; Term s (list a) -&gt; Term s r)
-&gt; Term s r -&gt; Term s (list a) -&gt; Term s r
</span><a href="Plutarch.List.html#pelimList"><span class="hs-identifier hs-var">pelimList</span></a></span><span>
</span><span id="line-1172"></span><span>                    </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679925626"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679925626"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621679925627"><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679925627"><span class="hs-identifier hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TermCont @PBool s (Term s PBool) -&gt; Term s PBool
forall (a :: PType) (s :: S). TermCont @a s (Term s a) -&gt; Term s a
</span><a href="Plutarch.TermCont.html#unTermCont"><span class="hs-identifier hs-var">unTermCont</span></a></span><span> </span><span class="annot"><span class="annottext">(TermCont @PBool s (Term s PBool) -&gt; Term s PBool)
-&gt; TermCont @PBool s (Term s PBool) -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1173"></span><span>                        </span><span id="local-6989586621679925628"><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925628"><span class="hs-identifier hs-var">v2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s v -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; TermCont @PBool s (Term s v)
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont @r s a
</span><a href="Plutarch.TermCont.html#tcont"><span class="hs-identifier hs-var">tcont</span></a></span><span> </span><span class="annot"><span class="annottext">(((Term s v -&gt; Term s PBool) -&gt; Term s PBool)
 -&gt; TermCont @PBool s (Term s v))
-&gt; (Term s (PAsData v)
    -&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; Term s (PAsData v)
-&gt; TermCont @PBool s (Term s v)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v -&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s v -&gt; (Term s v -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (Term s (PAsData v) -&gt; Term s v)
-&gt; Term s (PAsData v)
-&gt; (Term s v -&gt; Term s PBool)
-&gt; Term s PBool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; TermCont @PBool s (Term s v))
-&gt; Term s (PAsData v) -&gt; TermCont @PBool s (Term s v)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><a href="Plutarch.Builtin.html#psndBuiltin"><span class="hs-identifier hs-var">psndBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679925626"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1174"></span><span>                        </span><span id="local-6989586621679925629"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679925629"><span class="hs-identifier hs-var">k1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; TermCont @PBool s (Term s k)
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont @r s a
</span><a href="Plutarch.TermCont.html#tcont"><span class="hs-identifier hs-var">tcont</span></a></span><span> </span><span class="annot"><span class="annottext">(((Term s k -&gt; Term s PBool) -&gt; Term s PBool)
 -&gt; TermCont @PBool s (Term s k))
-&gt; (Term s (PAsData k)
    -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; Term s (PAsData k)
-&gt; TermCont @PBool s (Term s k)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (Term s (PAsData k) -&gt; Term s k)
-&gt; Term s (PAsData k)
-&gt; (Term s k -&gt; Term s PBool)
-&gt; Term s PBool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; TermCont @PBool s (Term s k))
-&gt; Term s (PAsData k) -&gt; TermCont @PBool s (Term s k)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><a href="Plutarch.Builtin.html#pfstBuiltin"><span class="hs-identifier hs-var">pfstBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679925623"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1175"></span><span>                        </span><span id="local-6989586621679925630"><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679925630"><span class="hs-identifier hs-var">k2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; TermCont @PBool s (Term s k)
forall a (s :: S) (r :: PType).
((a -&gt; Term s r) -&gt; Term s r) -&gt; TermCont @r s a
</span><a href="Plutarch.TermCont.html#tcont"><span class="hs-identifier hs-var">tcont</span></a></span><span> </span><span class="annot"><span class="annottext">(((Term s k -&gt; Term s PBool) -&gt; Term s PBool)
 -&gt; TermCont @PBool s (Term s k))
-&gt; (Term s (PAsData k)
    -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; Term s (PAsData k)
-&gt; TermCont @PBool s (Term s k)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
Term s a -&gt; (Term s a -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.html#plet"><span class="hs-identifier hs-var">plet</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s k -&gt; (Term s k -&gt; Term s PBool) -&gt; Term s PBool)
-&gt; (Term s (PAsData k) -&gt; Term s k)
-&gt; Term s (PAsData k)
-&gt; (Term s k -&gt; Term s PBool)
-&gt; Term s PBool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData k) -&gt; Term s k
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData k) -&gt; TermCont @PBool s (Term s k))
-&gt; Term s (PAsData k) -&gt; TermCont @PBool s (Term s k)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; a)
</span><a href="Plutarch.Builtin.html#pfstBuiltin"><span class="hs-identifier hs-var">pfstBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData k)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData k)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679925626"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1176"></span><span>                        </span><span class="annot"><span class="annottext">Term s PBool -&gt; TermCont @PBool s (Term s PBool)
forall a. a -&gt; TermCont @PBool s a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span>
</span><span id="line-1177"></span><span>                          </span><span class="annot"><span class="annottext">(Term s PBool -&gt; TermCont @PBool s (Term s PBool))
-&gt; Term s PBool -&gt; TermCont @PBool s (Term s PBool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s PBool -&gt; Term s PBool -&gt; Term s PBool
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><a href="Plutarch.Bool.html#pif"><span class="hs-identifier hs-var">pif</span></a></span><span>
</span><span id="line-1178"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679925629"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PEq t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><a href="Plutarch.Bool.html#%23%3D%3D"><span class="hs-operator hs-var">#==</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679925630"><span class="hs-identifier hs-var">k2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1179"></span><span>                            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679925614"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-cpp">
                                # v1
</span><span class="hs-cpp">                                # v2
</span><span class="hs-cpp">                                #&amp;&amp; self
</span><span class="hs-cpp">                                # xs
</span><span class="hs-cpp">                                # ys
</span><span>                            </span><span class="hs-special">)</span><span>
</span><span id="line-1186"></span><span>                          </span><span class="annot"><span class="annottext">(Term s PBool -&gt; Term s PBool) -&gt; Term s PBool -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s PBool -&gt; Term s PBool -&gt; Term s PBool
forall (s :: S) (a :: PType).
Term s PBool -&gt; Term s a -&gt; Term s a -&gt; Term s a
</span><a href="Plutarch.Bool.html#pif"><span class="hs-identifier hs-var">pif</span></a></span><span>
</span><span id="line-1187"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679925629"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k -&gt; Term s k -&gt; Term s PBool
forall (s :: S). Term s k -&gt; Term s k -&gt; Term s PBool
forall (t :: PType) (s :: S).
PPartialOrd t =&gt;
Term s t -&gt; Term s t -&gt; Term s PBool
</span><a href="Plutarch.Bool.html#%23%3C"><span class="hs-operator hs-var">#&lt;</span></a></span><span> </span><span class="annot"><span class="annottext">Term s k
</span><a href="#local-6989586621679925630"><span class="hs-identifier hs-var">k2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1188"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679925614"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool)) -&gt; Term s v -&gt; Term s (v :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925625"><span class="hs-identifier hs-var">v1</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool) -&gt; Term s v -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925615"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">Term s PBool -&gt; Term s PBool -&gt; Term s PBool
forall (s :: S). Term s PBool -&gt; Term s PBool -&gt; Term s PBool
</span><a href="Plutarch.Bool.html#%23%26%26"><span class="hs-operator hs-var">#&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
</span><a href="#local-6989586621679925619"><span class="hs-identifier hs-var">self</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679925624"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679925621"><span class="hs-identifier hs-var">l2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1189"></span><span>                          </span><span class="annot"><span class="annottext">(Term s PBool -&gt; Term s PBool) -&gt; Term s PBool -&gt; Term s PBool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679925614"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-cpp">
                            # z
</span><span class="hs-cpp">                            # v2
</span><span class="hs-cpp">                            #&amp;&amp; self
</span><span class="hs-cpp">                            # l1
</span><span class="hs-cpp">                            # ys
</span><span>                    </span><span class="hs-special">)</span><span>
</span><span id="line-1196"></span><span>                    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679925614"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-cpp">
                        # v1
</span><span class="hs-cpp">                        # z
</span><span class="hs-cpp">                        #&amp;&amp; PPrelude.pall
</span><span class="hs-cpp">                        # plam (\p -&gt; f # pfromData (psndBuiltin # p) # z)
</span><span class="hs-cpp">                        # xs
</span><span>                    </span><span class="hs-special">)</span><span>
</span><span id="line-1203"></span><span>                    </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679925621"><span class="hs-identifier hs-var">l2</span></a></span><span>
</span><span id="line-1204"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-1205"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
forall (list :: PType -&gt; PType) (a :: PType) (s :: S).
PIsListLike list a =&gt;
Term s ((a :--&gt; PBool) :--&gt; (list a :--&gt; PBool))
</span><a href="Plutarch.List.html#pall"><span class="hs-identifier hs-var">PPrelude.pall</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  ((PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PBuiltinPair (PAsData k) (PAsData v)) -&gt; Term s PBool)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PBool)
forall a (b :: PType) (s :: S) (c :: PType).
(PLamN a b s, HasCallStack) =&gt;
(Term s c -&gt; a) -&gt; Term s (c :--&gt; b)
forall (c :: PType).
HasCallStack =&gt;
(Term s c -&gt; Term s PBool) -&gt; Term s (c :--&gt; PBool)
</span><a href="Plutarch.Internal.PLam.html#plam"><span class="hs-identifier hs-var">plam</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679925633"><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679925633"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool))
</span><a href="#local-6989586621679925614"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; (v :--&gt; PBool)) -&gt; Term s v -&gt; Term s (v :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s v
</span><a href="#local-6989586621679925615"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (v :--&gt; PBool) -&gt; Term s v -&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23%24"><span class="hs-operator hs-var">#$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PAsData v) -&gt; Term s v
forall (a :: PType) (s :: S).
PIsData a =&gt;
Term s (PAsData a) -&gt; Term s a
</span><a href="Plutarch.Builtin.html#pfromData"><span class="hs-identifier hs-var">pfromData</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s (PAsData v) -&gt; Term s v) -&gt; Term s (PAsData v) -&gt; Term s v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.3/html/libraries/base-4.18.1.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
Term s (PBuiltinPair a b :--&gt; b)
</span><a href="Plutarch.Builtin.html#psndBuiltin"><span class="hs-identifier hs-var">psndBuiltin</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v) :--&gt; PAsData v)
-&gt; Term s (PBuiltinPair (PAsData k) (PAsData v))
-&gt; Term s (PAsData v)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinPair (PAsData k) (PAsData v))
</span><a href="#local-6989586621679925633"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679925621"><span class="hs-identifier hs-var">l2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1206"></span><span>            </span><span class="annot"><span class="annottext">Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
</span><a href="#local-6989586621679925620"><span class="hs-identifier hs-var">l1</span></a></span><span>
</span><span id="line-1207"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
</span><a href="#local-6989586621679925618"><span class="hs-identifier hs-var">inner</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s
  (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
   :--&gt; (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v))
         :--&gt; PBool))
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term
     s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><a href="Plutarch.Internal.Other.html#pto"><span class="hs-identifier hs-var">pto</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679925616"><span class="hs-identifier hs-var">m1</span></a></span><span> </span><span class="annot"><span class="annottext">Term
  s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)) :--&gt; PBool)
-&gt; Term s (PBuiltinList (PBuiltinPair (PAsData k) (PAsData v)))
-&gt; Term s PBool
forall (s :: S) (a :: PType) (b :: PType).
HasCallStack =&gt;
Term s (a :--&gt; b) -&gt; Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#%23"><span class="hs-operator hs-var">#</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v) -&gt; Term s (PInner (PMap 'Sorted k v))
forall (s :: S) (a :: PType). Term s a -&gt; Term s (PInner a)
</span><a href="Plutarch.Internal.Other.html#pto"><span class="hs-identifier hs-var">pto</span></a></span><span> </span><span class="annot"><span class="annottext">Term s (PMap 'Sorted k v)
</span><a href="#local-6989586621679925617"><span class="hs-identifier hs-var">m2</span></a></span><span>
</span><span id="line-1208"></span></pre></body></html>