<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- Because of the weird way the PlutusType derivation mechanisms work, we lose</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- the PlutusType constraint. Kind of annoying, but we can't convince GHC</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- otherwise.</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-redundant-constraints #-}</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Plutarch.Internal.Lift</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-8"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Type class</span></span><span>
</span><span id="line-9"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Lift.html#PLiftable"><span class="hs-identifier">PLiftable</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Functions</span></span><span>
</span><span id="line-12"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Lift.html#pconstant"><span class="hs-identifier">pconstant</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Lift.html#plift"><span class="hs-identifier">plift</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Derivation</span></span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Via-helpers</span></span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Lift.html#DeriveBuiltinPLiftable"><span class="hs-identifier">DeriveBuiltinPLiftable</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Lift.html#DeriveDataPLiftable"><span class="hs-identifier">DeriveDataPLiftable</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Manual instance helpers</span></span><span>
</span><span id="line-22"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Lift.html#PLifted"><span class="hs-identifier">PLifted</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Lift.html#unPLifted"><span class="hs-identifier">unPLifted</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Lift.html#LiftError"><span class="hs-identifier">LiftError</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Lift.html#unsafeToUni"><span class="hs-identifier">unsafeToUni</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Lift.html#unsafeFromUni"><span class="hs-identifier">unsafeFromUni</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Kind.html"><span class="hs-identifier">Data.Kind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier">Text</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Text</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Generics.html"><span class="hs-identifier">GHC.Generics</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier">Generic</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Builtin.html"><span class="hs-identifier">Plutarch.Builtin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Builtin.html#PData"><span class="hs-identifier">PData</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Internal.html"><span class="hs-identifier">Plutarch.Internal</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Config"><span class="hs-identifier">Config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Tracing"><span class="hs-identifier">Tracing</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#LogLevel"><span class="hs-identifier">LogLevel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#LogInfo"><span class="hs-identifier">LogInfo</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier">S</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier">Term</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#TracingMode"><span class="hs-identifier">TracingMode</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#DoTracing"><span class="hs-identifier">DoTracing</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#compile"><span class="hs-identifier">compile</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#punsafeConstantInternal"><span class="hs-identifier">punsafeConstantInternal</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Internal.Evaluate.html"><span class="hs-identifier">Plutarch.Internal.Evaluate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Evaluate.html#EvalError"><span class="hs-identifier">EvalError</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.Evaluate.html#evalScriptHuge"><span class="hs-identifier">evalScriptHuge</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Internal.Newtype.html"><span class="hs-identifier">Plutarch.Internal.Newtype</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Newtype.html#PlutusTypeNewtype"><span class="hs-identifier">PlutusTypeNewtype</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Internal.Other.html"><span class="hs-identifier">Plutarch.Internal.Other</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Other.html#POpaque"><span class="hs-identifier">POpaque</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Internal.PlutusType.html"><span class="hs-identifier">Plutarch.Internal.PlutusType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.PlutusType.html#DPTStrat"><span class="hs-identifier">DPTStrat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.PlutusType.html#DerivePlutusType"><span class="hs-identifier">DerivePlutusType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.PlutusType.html#PInner"><span class="hs-identifier">PInner</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.PlutusType.html#PlutusType"><span class="hs-identifier">PlutusType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Script.html"><span class="hs-identifier">Plutarch.Script</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Script.html#Script"><span class="hs-identifier">Script</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Script.html#Script"><span class="hs-identifier">Script</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Plutarch.Unsafe.html"><span class="hs-identifier">Plutarch.Unsafe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#punsafeCoerce"><span class="hs-identifier">punsafeCoerce</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusCore</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PLC</span></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusCore.Builtin</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">BuiltinError</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">readKnownConstant</span></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusCore.Data</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PLCData</span></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">PlutusTx</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PTx</span></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Universe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Includes</span></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">UntypedPlutusCore</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">UPLC</span></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="annot"><span class="hs-comment">{- | Used with 'fromPlutarch' methods to give additional information about why
evaluating a Plutarch term into a Haskell value went wrong.

@since WIP
-}</span></span><span>
</span><span id="line-61"></span><span class="hs-keyword">data</span><span> </span><span id="LiftError"><span class="annot"><a href="Plutarch.Internal.Lift.html#LiftError"><span class="hs-identifier hs-var">LiftError</span></a></span></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-comment">-- | Evaluation failed for some reason.</span></span><span>
</span><span id="line-63"></span><span>    </span><span id="CouldNotEvaluate"><span class="annot"><a href="Plutarch.Internal.Lift.html#CouldNotEvaluate"><span class="hs-identifier hs-var">CouldNotEvaluate</span></a></span></span><span> </span><span class="annot"><a href="Plutarch.Internal.Evaluate.html#EvalError"><span class="hs-identifier hs-type">EvalError</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-comment">-- | We tried to use a builtin not part of the Plutus universe.</span></span><span>
</span><span id="line-65"></span><span>    </span><span id="TypeError"><span class="annot"><a href="Plutarch.Internal.Lift.html#TypeError"><span class="hs-identifier hs-var">TypeError</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">BuiltinError</span></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-comment">-- | Compiling the term into a script failed.</span></span><span>
</span><span id="line-67"></span><span>    </span><span id="CouldNotCompile"><span class="annot"><a href="Plutarch.Internal.Lift.html#CouldNotCompile"><span class="hs-identifier hs-var">CouldNotCompile</span></a></span></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Internal.html#Text"><span class="hs-identifier hs-type">Text</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-comment">-- | @Data@ encoding was invalid for our type</span></span><span>
</span><span id="line-69"></span><span>    </span><span id="CouldNotDecodeData"><span class="annot"><a href="Plutarch.Internal.Lift.html#CouldNotDecodeData"><span class="hs-identifier hs-var">CouldNotDecodeData</span></a></span></span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span>
</span><span id="line-71"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- | @since WIP</span></span><span>
</span><span id="line-72"></span><span>      </span><span id="local-6989586621679560431"><span id="local-6989586621679560441"><span class="annot"><span class="annottext">LiftError -&gt; LiftError -&gt; Bool
(LiftError -&gt; LiftError -&gt; Bool)
-&gt; (LiftError -&gt; LiftError -&gt; Bool) -&gt; Eq LiftError
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: LiftError -&gt; LiftError -&gt; Bool
== :: LiftError -&gt; LiftError -&gt; Bool
$c/= :: LiftError -&gt; LiftError -&gt; Bool
/= :: LiftError -&gt; LiftError -&gt; Bool
</span><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span>
</span><span id="line-73"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-comment">-- | @since WIP</span></span><span>
</span><span id="line-74"></span><span>      </span><span id="local-6989586621679560494"><span id="local-6989586621679560508"><span id="local-6989586621679560512"><span class="annot"><span class="annottext">Int -&gt; LiftError -&gt; ShowS
[LiftError] -&gt; ShowS
LiftError -&gt; String
(Int -&gt; LiftError -&gt; ShowS)
-&gt; (LiftError -&gt; String)
-&gt; ([LiftError] -&gt; ShowS)
-&gt; Show LiftError
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; LiftError -&gt; ShowS
showsPrec :: Int -&gt; LiftError -&gt; ShowS
$cshow :: LiftError -&gt; String
show :: LiftError -&gt; String
$cshowList :: [LiftError] -&gt; ShowS
showList :: [LiftError] -&gt; ShowS
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span>
</span><span id="line-75"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="annot"><span class="hs-comment">{- | Indicates that the given Plutarch type has an equivalent in Haskell (and
Plutus by extension), and we have the ability to move between them.

= Important note

Calling 'toPlutarch' and 'fromPlutarch' directly should rarely, if ever, be a
thing you do. Prefer using 'pconstant' and 'plift', as these handle some of
the oddities required without you having to think about them.

You should rarely, if ever, need to define 'PLiftable' instances by hand.
Whenever possible, prefer using 'DeriveBuiltinPLiftable' and
'DeriveDataPLiftable', as they have fewer complexities and caveats. See their
documentation for when to use them.

If you do want to define the methods yourself, there's a few key factors to
keep in mind:

1. 'PLifted' is a trivial wrapper to assist with @via@ derivations: it is
   isomorphic to 'Identity' and should be treated as such. Use 'unPLifted' to
   \'pull\' terms out.
2. 'fromPlutarch' involves compilation and evaluation. When doing so, ensure
   that you use the largest possible budgets to avoid weird problems.
3. When choosing a type for 'AsHaskell', /any/ value of that type /must/ be
   representable in Plutarch. If you have internal invariants to maintain on
   the Haskell side, make sure you do so with great care.

= Laws

1. @'fromPlutarch' '.' 'toPlutarch'@ @=@ @'Right'@
2. @'fmap' 'toPlutarch' '.' 'fromPlutarch'@ @=@ @'Right'@

Any derivations via 'DeriveBuiltinPLiftable' and 'DeriveDataPLiftable'
automatically follow these laws.

@since WIP
-}</span></span><span>
</span><span id="line-113"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Plutarch.Internal.PlutusType.html#PlutusType"><span class="hs-identifier hs-type">PlutusType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560257"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="PLiftable"><span class="annot"><a href="Plutarch.Internal.Lift.html#PLiftable"><span class="hs-identifier hs-var">PLiftable</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560257"><span class="annot"><a href="#local-6989586621679560257"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="AsHaskell"><span class="annot"><a href="Plutarch.Internal.Lift.html#AsHaskell"><span class="hs-identifier hs-var">AsHaskell</span></a></span></span><span> </span><span id="local-6989586621679560257"><span class="annot"><a href="#local-6989586621679560257"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-115"></span><span>  </span><span id="toPlutarch"><span class="annot"><a href="Plutarch.Internal.Lift.html#toPlutarch"><span class="hs-identifier hs-type">toPlutarch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560278"><span class="annot"><a href="#local-6989586621679560278"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Plutarch.Internal.Lift.html#AsHaskell"><span class="hs-identifier hs-type">AsHaskell</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560257"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.Lift.html#PLifted"><span class="hs-identifier hs-type">PLifted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560257"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560278"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span id="fromPlutarch"><span class="annot"><a href="Plutarch.Internal.Lift.html#fromPlutarch"><span class="hs-identifier hs-type">fromPlutarch</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560285"><span class="annot"><a href="#local-6989586621679560285"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Plutarch.Internal.Lift.html#PLifted"><span class="hs-identifier hs-type">PLifted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560257"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560285"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Lift.html#LiftError"><span class="hs-identifier hs-type">LiftError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Lift.html#AsHaskell"><span class="hs-identifier hs-type">AsHaskell</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560257"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="annot"><span class="hs-comment">{- | Similar to 'Identity', but at the level of Plutarch. Only needed when
writing manual instances of 'PLiftable', or if you want to use 'toPlutarch'
and 'fromPlutarch' directly.

@since WIP
-}</span></span><span>
</span><span id="line-124"></span><span class="hs-keyword">newtype</span><span> </span><span id="PLifted"><span class="annot"><a href="Plutarch.Internal.Lift.html#PLifted"><span class="hs-identifier hs-var">PLifted</span></a></span></span><span> </span><span id="local-6989586621679560289"><span class="annot"><a href="#local-6989586621679560289"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621679560288"><span class="annot"><a href="#local-6989586621679560288"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="PLifted"><span class="annot"><a href="Plutarch.Internal.Lift.html#PLifted"><span class="hs-identifier hs-var">PLifted</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560288"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Other.html#POpaque"><span class="hs-identifier hs-type">POpaque</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">role</span><span> </span><span class="annot"><a href="Plutarch.Internal.Lift.html#PLifted"><span class="hs-identifier hs-type">PLifted</span></a></span><span> </span><span class="annot"><span class="hs-identifier">nominal</span></span><span> </span><span class="annot"><span class="hs-identifier">nominal</span></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span class="annot"><span class="hs-comment">{- | Wrapper around 'punsafeCoerce' to \'pull out\' a term inside a 'PLifted'.

@since WIP
-}</span></span><span>
</span><span id="line-132"></span><span id="local-6989586621679560260"><span id="local-6989586621679560261"><span class="annot"><a href="Plutarch.Internal.Lift.html#unPLifted"><span class="hs-identifier hs-type">unPLifted</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.Lift.html#PLifted"><span class="hs-identifier hs-type">PLifted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560260"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560261"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560261"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560260"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-133"></span><span id="unPLifted"><span class="annot"><span class="annottext">unPLifted :: forall (a :: S -&gt; Type) (s :: S).
PLifted @(S -&gt; Type) a s -&gt; Term s a
</span><a href="Plutarch.Internal.Lift.html#unPLifted"><span class="hs-identifier hs-var hs-var">unPLifted</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Lift.html#PLifted"><span class="hs-identifier hs-type">PLifted</span></a></span><span> </span><span id="local-6989586621679560614"><span class="annot"><span class="annottext">Term s POpaque
</span><a href="#local-6989586621679560614"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s POpaque -&gt; Term s a
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#punsafeCoerce"><span class="hs-identifier hs-var">punsafeCoerce</span></a></span><span> </span><span class="annot"><span class="annottext">Term s POpaque
</span><a href="#local-6989586621679560614"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span class="annot"><span class="hs-comment">{- | Given a Haskell-level representation of a Plutarch term, transform it into
its equivalent term.

@since WIP
-}</span></span><span>
</span><span id="line-140"></span><span class="annot"><a href="Plutarch.Internal.Lift.html#pconstant"><span class="hs-identifier hs-type">pconstant</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560270"><span class="annot"><a href="#local-6989586621679560270"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560272"><span class="annot"><a href="#local-6989586621679560272"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-142"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Lift.html#PLiftable"><span class="hs-identifier hs-type">PLiftable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560270"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-143"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Lift.html#AsHaskell"><span class="hs-identifier hs-type">AsHaskell</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560270"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-144"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560272"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560270"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-145"></span><span id="pconstant"><span class="annot"><span class="annottext">pconstant :: forall (a :: S -&gt; Type) (s :: S).
PLiftable a =&gt;
AsHaskell a -&gt; Term s a
</span><a href="Plutarch.Internal.Lift.html#pconstant"><span class="hs-identifier hs-var hs-var">pconstant</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term s a -&gt; Term s a
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#punsafeCoerce"><span class="hs-identifier hs-var">punsafeCoerce</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s a -&gt; Term s a)
-&gt; (AsHaskell a -&gt; Term s a) -&gt; AsHaskell a -&gt; Term s a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">PLifted @(S -&gt; Type) a s -&gt; Term s a
forall (a :: S -&gt; Type) (s :: S).
PLifted @(S -&gt; Type) a s -&gt; Term s a
</span><a href="Plutarch.Internal.Lift.html#unPLifted"><span class="hs-identifier hs-var">unPLifted</span></a></span><span> </span><span class="annot"><span class="annottext">(PLifted @(S -&gt; Type) a s -&gt; Term s a)
-&gt; (AsHaskell a -&gt; PLifted @(S -&gt; Type) a s)
-&gt; AsHaskell a
-&gt; Term s a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: S -&gt; Type) (s :: S).
PLiftable a =&gt;
AsHaskell a -&gt; PLifted @(S -&gt; Type) a s
</span><a href="Plutarch.Internal.Lift.html#toPlutarch"><span class="hs-identifier hs-var">toPlutarch</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679560270"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span class="annot"><span class="hs-comment">{- | Given a closed Plutarch term, compile and evaluate it, then produce the
corresponding Haskell value. If compilation or evaluation fails somehow, this
will call 'error': if you need to \'trap\' these outcomes and handle them
differently somehow, use 'fromPlutarch'.

@since WIP
-}</span></span><span>
</span><span id="line-154"></span><span class="annot"><a href="Plutarch.Internal.Lift.html#plift"><span class="hs-identifier hs-type">plift</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560279"><span class="annot"><a href="#local-6989586621679560279"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-156"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Lift.html#PLiftable"><span class="hs-identifier hs-type">PLiftable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560279"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560280"><span class="annot"><a href="#local-6989586621679560280"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#Term"><span class="hs-identifier hs-type">Term</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560280"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560279"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-158"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Lift.html#AsHaskell"><span class="hs-identifier hs-type">AsHaskell</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560279"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-159"></span><span id="plift"><span class="annot"><span class="annottext">plift :: forall (a :: S -&gt; Type).
PLiftable a =&gt;
(forall (s :: S). Term s a) -&gt; AsHaskell a
</span><a href="Plutarch.Internal.Lift.html#plift"><span class="hs-identifier hs-var hs-var">plift</span></a></span></span><span> </span><span id="local-6989586621679560703"><span class="annot"><span class="annottext">forall (s :: S). Term s a
</span><a href="#local-6989586621679560703"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(forall (s :: S). PLifted @(S -&gt; Type) a s)
-&gt; Either LiftError (AsHaskell a)
forall (a :: S -&gt; Type).
PLiftable a =&gt;
(forall (s :: S). PLifted @(S -&gt; Type) a s)
-&gt; Either LiftError (AsHaskell a)
</span><a href="Plutarch.Internal.Lift.html#fromPlutarch"><span class="hs-identifier hs-var">fromPlutarch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {k} (a :: k) (s :: S). Term s POpaque -&gt; PLifted @k a s
forall (a :: S -&gt; Type) (s :: S).
Term s POpaque -&gt; PLifted @(S -&gt; Type) a s
</span><a href="Plutarch.Internal.Lift.html#PLifted"><span class="hs-identifier hs-var">PLifted</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679560279"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term s a -&gt; Term s POpaque
forall (s :: S) (a :: S -&gt; Type) (b :: S -&gt; Type).
Term s a -&gt; Term s b
</span><a href="Plutarch.Internal.html#punsafeCoerce"><span class="hs-identifier hs-var">punsafeCoerce</span></a></span><span> </span><span class="annot"><span class="annottext">Term s a
forall (s :: S). Term s a
</span><a href="#local-6989586621679560703"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-160"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679560704"><span class="annot"><span class="annottext">LiftError
</span><a href="#local-6989586621679560704"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-161"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; AsHaskell a
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; AsHaskell a) -&gt; String -&gt; AsHaskell a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span>
</span><span id="line-162"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;plift failed: &quot;</span></span><span>
</span><span id="line-163"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LiftError
</span><a href="#local-6989586621679560704"><span class="hs-identifier hs-var">err</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-164"></span><span>              </span><span class="annot"><a href="Plutarch.Internal.Lift.html#CouldNotEvaluate"><span class="hs-identifier hs-type">CouldNotEvaluate</span></a></span><span> </span><span id="local-6989586621679560705"><span class="annot"><span class="annottext">EvalError
</span><a href="#local-6989586621679560705"><span class="hs-identifier hs-var">evalErr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;term errored: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">EvalError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">EvalError
</span><a href="#local-6989586621679560705"><span class="hs-identifier hs-var">evalErr</span></a></span><span>
</span><span id="line-165"></span><span>              </span><span class="annot"><a href="Plutarch.Internal.Lift.html#TypeError"><span class="hs-identifier hs-type">TypeError</span></a></span><span> </span><span id="local-6989586621679560707"><span class="annot"><span class="annottext">BuiltinError
</span><a href="#local-6989586621679560707"><span class="hs-identifier hs-var">builtinError</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;incorrect type: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinError -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinError
</span><a href="#local-6989586621679560707"><span class="hs-identifier hs-var">builtinError</span></a></span><span>
</span><span id="line-166"></span><span>              </span><span class="annot"><a href="Plutarch.Internal.Lift.html#CouldNotCompile"><span class="hs-identifier hs-type">CouldNotCompile</span></a></span><span> </span><span id="local-6989586621679560708"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679560708"><span class="hs-identifier hs-var">compErr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;could not compile: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><a href="../../../ghc-9.6.6/html/libraries/text-2.0.2/src/Data.Text.Show.html#unpack"><span class="hs-identifier hs-var">Text.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679560708"><span class="hs-identifier hs-var">compErr</span></a></span><span>
</span><span id="line-167"></span><span>              </span><span class="annot"><span class="annottext">LiftError
</span><a href="Plutarch.Internal.Lift.html#CouldNotDecodeData"><span class="hs-identifier hs-var">CouldNotDecodeData</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Data value is not a valid encoding for this type&quot;</span></span><span>
</span><span id="line-168"></span><span>           </span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679560710"><span class="annot"><span class="annottext">AsHaskell a
</span><a href="#local-6989586621679560710"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AsHaskell a
</span><a href="#local-6989586621679560710"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="annot"><span class="hs-comment">{- | @via@-deriving helper, indicating that @a@ has a Haskell-level equivalent
@h@ that is directly part of the Plutus default universe (instead of by way
of a @Data@ encoding).

@since WIP
-}</span></span><span>
</span><span id="line-177"></span><span class="hs-keyword">newtype</span><span> </span><span id="DeriveBuiltinPLiftable"><span class="annot"><a href="Plutarch.Internal.Lift.html#DeriveBuiltinPLiftable"><span class="hs-identifier hs-var">DeriveBuiltinPLiftable</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560711"><span class="annot"><a href="#local-6989586621679560711"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560712"><span class="annot"><a href="#local-6989586621679560712"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560713"><span class="annot"><a href="#local-6989586621679560713"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DeriveBuiltinPLiftable"><span class="annot"><a href="Plutarch.Internal.Lift.html#DeriveBuiltinPLiftable"><span class="hs-identifier hs-var">DeriveBuiltinPLiftable</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679560711"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560713"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560715"><span id="local-6989586621679560717"><span class="annot"><span class="annottext">(forall x.
 DeriveBuiltinPLiftable a h s
 -&gt; Rep (DeriveBuiltinPLiftable a h s) x)
-&gt; (forall x.
    Rep (DeriveBuiltinPLiftable a h s) x
    -&gt; DeriveBuiltinPLiftable a h s)
-&gt; Generic (DeriveBuiltinPLiftable a h s)
forall x.
Rep (DeriveBuiltinPLiftable a h s) x
-&gt; DeriveBuiltinPLiftable a h s
forall x.
DeriveBuiltinPLiftable a h s
-&gt; Rep (DeriveBuiltinPLiftable a h s) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (a :: S -&gt; Type) h (s :: S) x.
Rep (DeriveBuiltinPLiftable a h s) x
-&gt; DeriveBuiltinPLiftable a h s
forall (a :: S -&gt; Type) h (s :: S) x.
DeriveBuiltinPLiftable a h s
-&gt; Rep (DeriveBuiltinPLiftable a h s) x
$cfrom :: forall (a :: S -&gt; Type) h (s :: S) x.
DeriveBuiltinPLiftable a h s
-&gt; Rep (DeriveBuiltinPLiftable a h s) x
from :: forall x.
DeriveBuiltinPLiftable a h s
-&gt; Rep (DeriveBuiltinPLiftable a h s) x
$cto :: forall (a :: S -&gt; Type) h (s :: S) x.
Rep (DeriveBuiltinPLiftable a h s) x
-&gt; DeriveBuiltinPLiftable a h s
to :: forall x.
Rep (DeriveBuiltinPLiftable a h s) x
-&gt; DeriveBuiltinPLiftable a h s
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560721"><span id="local-6989586621679560727"><span class="annot"><span class="annottext">(forall (s :: S).
 DeriveBuiltinPLiftable a h s
 -&gt; Term s (PInner (DeriveBuiltinPLiftable a h)))
-&gt; (forall (s :: S) (b :: S -&gt; Type).
    Term s (PInner (DeriveBuiltinPLiftable a h))
    -&gt; (DeriveBuiltinPLiftable a h s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType (DeriveBuiltinPLiftable a h)
forall (s :: S).
DeriveBuiltinPLiftable a h s
-&gt; Term s (PInner (DeriveBuiltinPLiftable a h))
forall (s :: S) (b :: S -&gt; Type).
Term s (PInner (DeriveBuiltinPLiftable a h))
-&gt; (DeriveBuiltinPLiftable a h s -&gt; Term s b) -&gt; Term s b
forall (a :: S -&gt; Type).
(forall (s :: S). a s -&gt; Term s (PInner a))
-&gt; (forall (s :: S) (b :: S -&gt; Type).
    Term s (PInner a) -&gt; (a s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType a
forall (a :: S -&gt; Type) h (s :: S).
DeriveBuiltinPLiftable a h s
-&gt; Term s (PInner (DeriveBuiltinPLiftable a h))
forall (a :: S -&gt; Type) h (s :: S) (b :: S -&gt; Type).
Term s (PInner (DeriveBuiltinPLiftable a h))
-&gt; (DeriveBuiltinPLiftable a h s -&gt; Term s b) -&gt; Term s b
$cpcon' :: forall (a :: S -&gt; Type) h (s :: S).
DeriveBuiltinPLiftable a h s
-&gt; Term s (PInner (DeriveBuiltinPLiftable a h))
pcon' :: forall (s :: S).
DeriveBuiltinPLiftable a h s
-&gt; Term s (PInner (DeriveBuiltinPLiftable a h))
$cpmatch' :: forall (a :: S -&gt; Type) h (s :: S) (b :: S -&gt; Type).
Term s (PInner (DeriveBuiltinPLiftable a h))
-&gt; (DeriveBuiltinPLiftable a h s -&gt; Term s b) -&gt; Term s b
pmatch' :: forall (s :: S) (b :: S -&gt; Type).
Term s (PInner (DeriveBuiltinPLiftable a h))
-&gt; (DeriveBuiltinPLiftable a h s -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.PlutusType.html#PlutusType"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PlutusType</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="annot"><span class="hs-comment">-- | @since WIP</span></span><span>
</span><span id="line-183"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679560314"><span id="local-6989586621679560315"><span class="annot"><a href="Plutarch.Internal.PlutusType.html#DerivePlutusType"><span class="hs-identifier hs-type">DerivePlutusType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Lift.html#DeriveBuiltinPLiftable"><span class="hs-identifier hs-type">DeriveBuiltinPLiftable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560314"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560315"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DPTStrat"><span class="annot"><a href="Plutarch.Internal.PlutusType.html#DPTStrat"><span class="hs-identifier hs-var">DPTStrat</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Internal.Newtype.html#PlutusTypeNewtype"><span class="hs-identifier hs-type">PlutusTypeNewtype</span></a></span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="annot"><span class="hs-comment">-- | @since WIP</span></span><span>
</span><span id="line-187"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-188"></span><span>  </span><span id="local-6989586621679560338"><span id="local-6989586621679560339"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.Internal.PlutusType.html#PlutusType"><span class="hs-identifier hs-type">PlutusType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560338"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-189"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PLC.DefaultUni</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">`Includes`</span></span><span> </span><span class="annot"><a href="#local-6989586621679560339"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-190"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-191"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Lift.html#PLiftable"><span class="hs-identifier hs-type">PLiftable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Lift.html#DeriveBuiltinPLiftable"><span class="hs-identifier hs-type">DeriveBuiltinPLiftable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560338"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560339"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-192"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-193"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="AsHaskell"><span class="annot"><a href="Plutarch.Internal.Lift.html#AsHaskell"><span class="hs-identifier hs-var">AsHaskell</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Lift.html#DeriveBuiltinPLiftable"><span class="hs-identifier hs-type">DeriveBuiltinPLiftable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560338"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560339"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679560339"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-194"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="Plutarch.Internal.Lift.html#toPlutarch"><span class="hs-pragma hs-type">toPlutarch</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-195"></span><span>  </span><span id="local-6989586621679560760"><span class="annot"><span class="annottext">toPlutarch :: forall (s :: S).
AsHaskell (DeriveBuiltinPLiftable a h)
-&gt; PLifted @(S -&gt; Type) (DeriveBuiltinPLiftable a h) s
</span><a href="Plutarch.Internal.Lift.html#toPlutarch"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPlutarch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AsHaskell (DeriveBuiltinPLiftable a h)
-&gt; PLifted @(S -&gt; Type) (DeriveBuiltinPLiftable a h) s
forall (a :: S -&gt; Type) h (s :: S).
Includes @Type DefaultUni h =&gt;
h -&gt; PLifted @(S -&gt; Type) a s
</span><a href="Plutarch.Internal.Lift.html#unsafeFromUni"><span class="hs-identifier hs-var">unsafeFromUni</span></a></span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="Plutarch.Internal.Lift.html#fromPlutarch"><span class="hs-pragma hs-type">fromPlutarch</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-197"></span><span>  </span><span id="local-6989586621679560762"><span class="annot"><span class="annottext">fromPlutarch :: (forall (s :: S).
 PLifted @(S -&gt; Type) (DeriveBuiltinPLiftable a h) s)
-&gt; Either LiftError (AsHaskell (DeriveBuiltinPLiftable a h))
</span><a href="Plutarch.Internal.Lift.html#fromPlutarch"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPlutarch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall (s :: S).
 PLifted @(S -&gt; Type) (DeriveBuiltinPLiftable a h) s)
-&gt; Either LiftError (AsHaskell (DeriveBuiltinPLiftable a h))
forall (a :: S -&gt; Type) h.
Includes @Type DefaultUni h =&gt;
(forall (s :: S). PLifted @(S -&gt; Type) a s) -&gt; Either LiftError h
</span><a href="Plutarch.Internal.Lift.html#unsafeToUni"><span class="hs-identifier hs-var">unsafeToUni</span></a></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="annot"><span class="hs-comment">{- | @via@-deriving helper, indicating that @a@ has a Haskell-level equivalent
@h@ by way of its @Data@ encoding, rather than by @h@ being directly part of
the Plutus default universe.

@since WIP
-}</span></span><span>
</span><span id="line-205"></span><span class="hs-keyword">newtype</span><span> </span><span id="DeriveDataPLiftable"><span class="annot"><a href="Plutarch.Internal.Lift.html#DeriveDataPLiftable"><span class="hs-identifier hs-var">DeriveDataPLiftable</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560763"><span class="annot"><a href="#local-6989586621679560763"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560764"><span class="annot"><a href="#local-6989586621679560764"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560765"><span class="annot"><a href="#local-6989586621679560765"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="DeriveDataPLiftable"><span class="annot"><a href="Plutarch.Internal.Lift.html#DeriveDataPLiftable"><span class="hs-identifier hs-var">DeriveDataPLiftable</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679560763"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560765"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560767"><span id="local-6989586621679560769"><span class="annot"><span class="annottext">(forall x.
 DeriveDataPLiftable a h s -&gt; Rep (DeriveDataPLiftable a h s) x)
-&gt; (forall x.
    Rep (DeriveDataPLiftable a h s) x -&gt; DeriveDataPLiftable a h s)
-&gt; Generic (DeriveDataPLiftable a h s)
forall x.
Rep (DeriveDataPLiftable a h s) x -&gt; DeriveDataPLiftable a h s
forall x.
DeriveDataPLiftable a h s -&gt; Rep (DeriveDataPLiftable a h s) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall (a :: S -&gt; Type) h (s :: S) x.
Rep (DeriveDataPLiftable a h s) x -&gt; DeriveDataPLiftable a h s
forall (a :: S -&gt; Type) h (s :: S) x.
DeriveDataPLiftable a h s -&gt; Rep (DeriveDataPLiftable a h s) x
$cfrom :: forall (a :: S -&gt; Type) h (s :: S) x.
DeriveDataPLiftable a h s -&gt; Rep (DeriveDataPLiftable a h s) x
from :: forall x.
DeriveDataPLiftable a h s -&gt; Rep (DeriveDataPLiftable a h s) x
$cto :: forall (a :: S -&gt; Type) h (s :: S) x.
Rep (DeriveDataPLiftable a h s) x -&gt; DeriveDataPLiftable a h s
to :: forall x.
Rep (DeriveDataPLiftable a h s) x -&gt; DeriveDataPLiftable a h s
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">anyclass</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560772"><span id="local-6989586621679560778"><span class="annot"><span class="annottext">(forall (s :: S).
 DeriveDataPLiftable a h s
 -&gt; Term s (PInner (DeriveDataPLiftable a h)))
-&gt; (forall (s :: S) (b :: S -&gt; Type).
    Term s (PInner (DeriveDataPLiftable a h))
    -&gt; (DeriveDataPLiftable a h s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType (DeriveDataPLiftable a h)
forall (s :: S).
DeriveDataPLiftable a h s
-&gt; Term s (PInner (DeriveDataPLiftable a h))
forall (s :: S) (b :: S -&gt; Type).
Term s (PInner (DeriveDataPLiftable a h))
-&gt; (DeriveDataPLiftable a h s -&gt; Term s b) -&gt; Term s b
forall (a :: S -&gt; Type).
(forall (s :: S). a s -&gt; Term s (PInner a))
-&gt; (forall (s :: S) (b :: S -&gt; Type).
    Term s (PInner a) -&gt; (a s -&gt; Term s b) -&gt; Term s b)
-&gt; PlutusType a
forall (a :: S -&gt; Type) h (s :: S).
DeriveDataPLiftable a h s
-&gt; Term s (PInner (DeriveDataPLiftable a h))
forall (a :: S -&gt; Type) h (s :: S) (b :: S -&gt; Type).
Term s (PInner (DeriveDataPLiftable a h))
-&gt; (DeriveDataPLiftable a h s -&gt; Term s b) -&gt; Term s b
$cpcon' :: forall (a :: S -&gt; Type) h (s :: S).
DeriveDataPLiftable a h s
-&gt; Term s (PInner (DeriveDataPLiftable a h))
pcon' :: forall (s :: S).
DeriveDataPLiftable a h s
-&gt; Term s (PInner (DeriveDataPLiftable a h))
$cpmatch' :: forall (a :: S -&gt; Type) h (s :: S) (b :: S -&gt; Type).
Term s (PInner (DeriveDataPLiftable a h))
-&gt; (DeriveDataPLiftable a h s -&gt; Term s b) -&gt; Term s b
pmatch' :: forall (s :: S) (b :: S -&gt; Type).
Term s (PInner (DeriveDataPLiftable a h))
-&gt; (DeriveDataPLiftable a h s -&gt; Term s b) -&gt; Term s b
</span><a href="Plutarch.Internal.PlutusType.html#PlutusType"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">PlutusType</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span class="annot"><span class="hs-comment">-- | @since WIP</span></span><span>
</span><span id="line-211"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679560356"><span id="local-6989586621679560357"><span class="annot"><a href="Plutarch.Internal.PlutusType.html#DerivePlutusType"><span class="hs-identifier hs-type">DerivePlutusType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Lift.html#DeriveDataPLiftable"><span class="hs-identifier hs-type">DeriveDataPLiftable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560356"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560357"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-212"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="DPTStrat"><span class="annot"><a href="Plutarch.Internal.PlutusType.html#DPTStrat"><span class="hs-identifier hs-var">DPTStrat</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Plutarch.Internal.Newtype.html#PlutusTypeNewtype"><span class="hs-identifier hs-type">PlutusTypeNewtype</span></a></span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span class="annot"><span class="hs-comment">-- | @since WIP</span></span><span>
</span><span id="line-215"></span><span class="hs-keyword">instance</span><span>
</span><span id="line-216"></span><span>  </span><span id="local-6989586621679560367"><span id="local-6989586621679560368"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Plutarch.Internal.PlutusType.html#PlutusType"><span class="hs-identifier hs-type">PlutusType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560367"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-217"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Plutarch.Internal.PlutusType.html#PInner"><span class="hs-identifier hs-type">PInner</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560367"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#~"><span class="hs-operator hs-type">~</span></a></span><span> </span><span class="annot"><a href="Plutarch.Builtin.html#PData"><span class="hs-identifier hs-type">PData</span></a></span><span>
</span><span id="line-218"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PTx.ToData</span></span><span> </span><span class="annot"><a href="#local-6989586621679560368"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">PTx.FromData</span></span><span> </span><span class="annot"><a href="#local-6989586621679560368"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-221"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Lift.html#PLiftable"><span class="hs-identifier hs-type">PLiftable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Lift.html#DeriveDataPLiftable"><span class="hs-identifier hs-type">DeriveDataPLiftable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560367"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560368"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-222"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-223"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="AsHaskell"><span class="annot"><a href="Plutarch.Internal.Lift.html#AsHaskell"><span class="hs-identifier hs-var">AsHaskell</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Internal.Lift.html#DeriveDataPLiftable"><span class="hs-identifier hs-type">DeriveDataPLiftable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560367"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560368"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679560368"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-224"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="Plutarch.Internal.Lift.html#toPlutarch"><span class="hs-pragma hs-type">toPlutarch</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-225"></span><span>  </span><span id="local-6989586621679560810"><span class="annot"><span class="annottext">toPlutarch :: forall (s :: S).
AsHaskell (DeriveDataPLiftable a h)
-&gt; PLifted @(S -&gt; Type) (DeriveDataPLiftable a h) s
</span><a href="Plutarch.Internal.Lift.html#toPlutarch"><span class="hs-identifier hs-var hs-var hs-var hs-var">toPlutarch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (a :: S -&gt; Type) h (s :: S).
Includes @Type DefaultUni h =&gt;
h -&gt; PLifted @(S -&gt; Type) a s
</span><a href="Plutarch.Internal.Lift.html#unsafeFromUni"><span class="hs-identifier hs-var">unsafeFromUni</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">PLCData.Data</span></span><span> </span><span class="annot"><span class="annottext">(Data -&gt; PLifted @(S -&gt; Type) (DeriveDataPLiftable a h) s)
-&gt; (AsHaskell (DeriveDataPLiftable a h) -&gt; Data)
-&gt; AsHaskell (DeriveDataPLiftable a h)
-&gt; PLifted @(S -&gt; Type) (DeriveDataPLiftable a h) s
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">AsHaskell (DeriveDataPLiftable a h) -&gt; Data
forall a. ToData a =&gt; a -&gt; Data
</span><span class="hs-identifier hs-var">PTx.toData</span></span><span>
</span><span id="line-226"></span><span>  </span><span class="hs-pragma">{-# INLINEABLE</span><span> </span><span class="annot"><a href="Plutarch.Internal.Lift.html#fromPlutarch"><span class="hs-pragma hs-type">fromPlutarch</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-227"></span><span>  </span><span id="local-6989586621679560820"><span class="annot"><span class="annottext">fromPlutarch :: (forall (s :: S). PLifted @(S -&gt; Type) (DeriveDataPLiftable a h) s)
-&gt; Either LiftError (AsHaskell (DeriveDataPLiftable a h))
</span><a href="Plutarch.Internal.Lift.html#fromPlutarch"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromPlutarch</span></a></span></span><span> </span><span id="local-6989586621679560821"><span class="annot"><span class="annottext">forall (s :: S). PLifted @(S -&gt; Type) (DeriveDataPLiftable a h) s
</span><a href="#local-6989586621679560821"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-228"></span><span>    </span><span id="local-6989586621679560822"><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679560822"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(forall (s :: S). PLifted @(S -&gt; Type) (DeriveDataPLiftable a h) s)
-&gt; Either LiftError Data
forall (a :: S -&gt; Type) h.
Includes @Type DefaultUni h =&gt;
(forall (s :: S). PLifted @(S -&gt; Type) a s) -&gt; Either LiftError h
</span><a href="Plutarch.Internal.Lift.html#unsafeToUni"><span class="hs-identifier hs-var">unsafeToUni</span></a></span><span> </span><span class="annot"><span class="annottext">PLifted @(S -&gt; Type) (DeriveDataPLiftable a h) s
forall (s :: S). PLifted @(S -&gt; Type) (DeriveDataPLiftable a h) s
</span><a href="#local-6989586621679560821"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-229"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Data -&gt; Maybe h
forall a. FromData a =&gt; Data -&gt; Maybe a
</span><span class="hs-identifier hs-var">PTx.fromData</span></span><span> </span><span class="annot"><span class="annottext">Data
</span><a href="#local-6989586621679560822"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-230"></span><span>      </span><span class="annot"><span class="annottext">Maybe h
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LiftError -&gt; Either LiftError h
forall a b. a -&gt; Either a b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">LiftError
</span><a href="Plutarch.Internal.Lift.html#CouldNotDecodeData"><span class="hs-identifier hs-var">CouldNotDecodeData</span></a></span><span>
</span><span id="line-231"></span><span>      </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679560824"><span class="annot"><span class="annottext">h
</span><a href="#local-6989586621679560824"><span class="hs-identifier hs-var">res'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">h -&gt; Either LiftError h
forall a. a -&gt; Either LiftError a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">h
</span><a href="#local-6989586621679560824"><span class="hs-identifier hs-var">res'</span></a></span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span class="annot"><span class="hs-comment">{- | Helper for writing 'PLifted' instances. This is /highly/ unsafe, and only
suitable for internal use!

@since WIP
-}</span></span><span>
</span><span id="line-238"></span><span class="annot"><a href="Plutarch.Internal.Lift.html#unsafeFromUni"><span class="hs-identifier hs-type">unsafeFromUni</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-239"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560342"><span class="annot"><a href="#local-6989586621679560342"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560341"><span class="annot"><a href="#local-6989586621679560341"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560343"><span class="annot"><a href="#local-6989586621679560343"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-240"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PLC.DefaultUni</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">`Includes`</span></span><span> </span><span class="annot"><a href="#local-6989586621679560341"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-241"></span><span>  </span><span class="annot"><a href="#local-6989586621679560341"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-242"></span><span>  </span><span class="annot"><a href="Plutarch.Internal.Lift.html#PLifted"><span class="hs-identifier hs-type">PLifted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560342"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560343"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-243"></span><span id="unsafeFromUni"><span class="annot"><span class="annottext">unsafeFromUni :: forall (a :: S -&gt; Type) h (s :: S).
Includes @Type DefaultUni h =&gt;
h -&gt; PLifted @(S -&gt; Type) a s
</span><a href="Plutarch.Internal.Lift.html#unsafeFromUni"><span class="hs-identifier hs-var hs-var">unsafeFromUni</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-244"></span><span>  </span><span class="annot"><span class="annottext">Term s POpaque -&gt; PLifted @(S -&gt; Type) a s
forall {k} (a :: k) (s :: S). Term s POpaque -&gt; PLifted @k a s
</span><a href="Plutarch.Internal.Lift.html#PLifted"><span class="hs-identifier hs-var">PLifted</span></a></span><span> </span><span class="annot"><span class="annottext">(Term s POpaque -&gt; PLifted @(S -&gt; Type) a s)
-&gt; (h -&gt; Term s POpaque) -&gt; h -&gt; PLifted @(S -&gt; Type) a s
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Some @Type (ValueOf DefaultUni) -&gt; Term s POpaque
forall (s :: S) (a :: S -&gt; Type).
Some @Type (ValueOf DefaultUni) -&gt; Term s a
</span><a href="Plutarch.Internal.html#punsafeConstantInternal"><span class="hs-identifier hs-var">punsafeConstantInternal</span></a></span><span> </span><span class="annot"><span class="annottext">(Some @Type (ValueOf DefaultUni) -&gt; Term s POpaque)
-&gt; (h -&gt; Some @Type (ValueOf DefaultUni)) -&gt; h -&gt; Term s POpaque
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a (uni :: Type -&gt; Type).
Contains @Type uni a =&gt;
a -&gt; Some @Type (ValueOf uni)
</span><span class="hs-identifier hs-var">PLC.someValue</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621679560341"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">PLC.DefaultUni</span></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span class="annot"><span class="hs-comment">{- | Helper for writing 'PLiftable' instances. This is /highly/ unsafe, and only
suitable for internal use!

@since WIP
-}</span></span><span>
</span><span id="line-251"></span><span class="annot"><a href="Plutarch.Internal.Lift.html#unsafeToUni"><span class="hs-identifier hs-type">unsafeToUni</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-252"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560345"><span class="annot"><a href="#local-6989586621679560345"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560344"><span class="annot"><a href="#local-6989586621679560344"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/ghc-prim-0.10.0/src/GHC.Types.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span>
</span><span id="line-253"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">PLC.DefaultUni</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">`Includes`</span></span><span> </span><span class="annot"><a href="#local-6989586621679560344"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-254"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679560346"><span class="annot"><a href="#local-6989586621679560346"><span class="hs-identifier hs-type">s</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Plutarch.Internal.html#S"><span class="hs-identifier hs-type">S</span></a></span><span class="hs-special">)</span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Plutarch.Internal.Lift.html#PLifted"><span class="hs-identifier hs-type">PLifted</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560345"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560346"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-255"></span><span>  </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Plutarch.Internal.Lift.html#LiftError"><span class="hs-identifier hs-type">LiftError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679560344"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-256"></span><span id="unsafeToUni"><span class="annot"><span class="annottext">unsafeToUni :: forall (a :: S -&gt; Type) h.
Includes @Type DefaultUni h =&gt;
(forall (s :: S). PLifted @(S -&gt; Type) a s) -&gt; Either LiftError h
</span><a href="Plutarch.Internal.Lift.html#unsafeToUni"><span class="hs-identifier hs-var hs-var">unsafeToUni</span></a></span></span><span> </span><span id="local-6989586621679560842"><span class="annot"><span class="annottext">forall (s :: S). PLifted @(S -&gt; Type) a s
</span><a href="#local-6989586621679560842"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-257"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Config -&gt; ClosedTerm a -&gt; Either Text Script
forall (a :: S -&gt; Type).
Config -&gt; ClosedTerm a -&gt; Either Text Script
</span><a href="Plutarch.Internal.html#compile"><span class="hs-identifier hs-var">compile</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LogLevel -&gt; TracingMode -&gt; Config
</span><a href="Plutarch.Internal.html#Tracing"><span class="hs-identifier hs-var">Tracing</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Plutarch.Internal.html#LogInfo"><span class="hs-identifier hs-var">LogInfo</span></a></span><span> </span><span class="annot"><span class="annottext">TracingMode
</span><a href="Plutarch.Internal.html#DoTracing"><span class="hs-identifier hs-var">DoTracing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PLifted @(S -&gt; Type) a s -&gt; Term s a
forall (a :: S -&gt; Type) (s :: S).
PLifted @(S -&gt; Type) a s -&gt; Term s a
</span><a href="Plutarch.Internal.Lift.html#unPLifted"><span class="hs-identifier hs-var">unPLifted</span></a></span><span> </span><span class="annot"><span class="annottext">PLifted @(S -&gt; Type) a s
forall (s :: S). PLifted @(S -&gt; Type) a s
</span><a href="#local-6989586621679560842"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-258"></span><span>    </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679560843"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679560843"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LiftError -&gt; Either LiftError h
forall a b. a -&gt; Either a b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(LiftError -&gt; Either LiftError h)
-&gt; (Text -&gt; LiftError) -&gt; Text -&gt; Either LiftError h
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; LiftError
</span><a href="Plutarch.Internal.Lift.html#CouldNotCompile"><span class="hs-identifier hs-var">CouldNotCompile</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either LiftError h) -&gt; Text -&gt; Either LiftError h
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621679560843"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-259"></span><span>    </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679560844"><span class="annot"><span class="annottext">Script
</span><a href="#local-6989586621679560844"><span class="hs-identifier hs-var">compiled</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Script -&gt; (Either EvalError Script, ExBudget, [Text])
</span><a href="Plutarch.Internal.Evaluate.html#evalScriptHuge"><span class="hs-identifier hs-var">evalScriptHuge</span></a></span><span> </span><span class="annot"><span class="annottext">Script
</span><a href="#local-6989586621679560844"><span class="hs-identifier hs-var">compiled</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-260"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679560845"><span class="annot"><span class="annottext">Either EvalError Script
</span><a href="#local-6989586621679560845"><span class="hs-identifier hs-var">evaluated</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExBudget
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Text]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either EvalError Script
</span><a href="#local-6989586621679560845"><span class="hs-identifier hs-var">evaluated</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-261"></span><span>        </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679560846"><span class="annot"><span class="annottext">EvalError
</span><a href="#local-6989586621679560846"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LiftError -&gt; Either LiftError h
forall a b. a -&gt; Either a b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(LiftError -&gt; Either LiftError h)
-&gt; (EvalError -&gt; LiftError) -&gt; EvalError -&gt; Either LiftError h
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">EvalError -&gt; LiftError
</span><a href="Plutarch.Internal.Lift.html#CouldNotEvaluate"><span class="hs-identifier hs-var">CouldNotEvaluate</span></a></span><span> </span><span class="annot"><span class="annottext">(EvalError -&gt; Either LiftError h)
-&gt; EvalError -&gt; Either LiftError h
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">EvalError
</span><a href="#local-6989586621679560846"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-262"></span><span>        </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Plutarch.Script.html#Script"><span class="hs-identifier hs-type">Script</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">UPLC.Program</span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Version
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679560848"><span class="annot"><span class="annottext">Term DeBruijn DefaultUni DefaultFun ()
</span><a href="#local-6989586621679560848"><span class="hs-identifier hs-var">term</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Term DeBruijn DefaultUni DefaultFun () -&gt; ReadKnownM h
forall val a. KnownBuiltinType val a =&gt; val -&gt; ReadKnownM a
</span><span class="hs-identifier hs-var">readKnownConstant</span></span><span> </span><span class="annot"><span class="annottext">Term DeBruijn DefaultUni DefaultFun ()
</span><a href="#local-6989586621679560848"><span class="hs-identifier hs-var">term</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-263"></span><span>          </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679560849"><span class="annot"><span class="annottext">BuiltinError
</span><a href="#local-6989586621679560849"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LiftError -&gt; Either LiftError h
forall a b. a -&gt; Either a b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(LiftError -&gt; Either LiftError h)
-&gt; (BuiltinError -&gt; LiftError)
-&gt; BuiltinError
-&gt; Either LiftError h
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinError -&gt; LiftError
</span><a href="Plutarch.Internal.Lift.html#TypeError"><span class="hs-identifier hs-var">TypeError</span></a></span><span> </span><span class="annot"><span class="annottext">(BuiltinError -&gt; Either LiftError h)
-&gt; BuiltinError -&gt; Either LiftError h
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BuiltinError
</span><a href="#local-6989586621679560849"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-264"></span><span>          </span><span class="annot"><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679560850"><span class="annot"><span class="annottext">h
</span><a href="#local-6989586621679560850"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">h -&gt; Either LiftError h
forall a. a -&gt; Either LiftError a
forall (f :: Type -&gt; Type) a. Applicative f =&gt; a -&gt; f a
</span><a href="../../../ghc-9.6.6/html/libraries/base-4.18.2.1/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">h
</span><a href="#local-6989586621679560850"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-265"></span></pre></body></html>