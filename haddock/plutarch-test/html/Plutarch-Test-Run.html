<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Plutarch.Test.Run</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">plutarch-test-1.2.0</span><ul class="links" id="page-menu"><li><a href="src/Plutarch.Test.Run.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>GHC2021</td></tr></table><p class="caption">Plutarch.Test.Run</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:noUnusedGoldens">noUnusedGoldens</a> :: [SpecTree ()] -&gt; <a href="../../ghc-9.6.4/html/libraries/base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:noUnusedGoldens-39-">noUnusedGoldens'</a> :: <a href="Plutarch-Test-Golden.html#t:GoldenConf" title="Plutarch.Test.Golden">GoldenConf</a> -&gt; [SpecTree ()] -&gt; <a href="../../ghc-9.6.4/html/libraries/base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:hspecAndReturnForest">hspecAndReturnForest</a> :: Spec -&gt; <a href="../../ghc-9.6.4/html/libraries/base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> [SpecTree ()]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:noUnusedGoldens" class="def">noUnusedGoldens</a> :: [SpecTree ()] -&gt; <a href="../../ghc-9.6.4/html/libraries/base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Plutarch.Test.Run.html#noUnusedGoldens" class="link">Source</a> <a href="#v:noUnusedGoldens" class="selflink">#</a></p><div class="doc"><p>Ensures that there are no unused goldens left behind.</p><p>Use this on any <code>SpecTree</code> that internally uses <code>pgoldenSpec</code> to define the
  golden tests. These golden file paths are accumulated, and compared to the
  actual files existing on disk. If any golden file exists on disk, but is not
  tracked by the <code>SpecTree</code> this function will fail, reporting the list of
  untracked golden files.</p><p><strong>Example:</strong></p><pre> noUnusedGoldens =&lt;&lt; hspecAndReturnForest spec
 </pre></div></div><div class="top"><p class="src"><a id="v:noUnusedGoldens-39-" class="def">noUnusedGoldens'</a> :: <a href="Plutarch-Test-Golden.html#t:GoldenConf" title="Plutarch.Test.Golden">GoldenConf</a> -&gt; [SpecTree ()] -&gt; <a href="../../ghc-9.6.4/html/libraries/base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Plutarch.Test.Run.html#noUnusedGoldens%27" class="link">Source</a> <a href="#v:noUnusedGoldens-39-" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Plutarch-Test-Run.html#v:noUnusedGoldens" title="Plutarch.Test.Run">noUnusedGoldens</a></code> but takes a custom path to the golden storage.</p><p>NOTE: This relies on the assumption that the same <code><a href="Plutarch-Test-Golden.html#t:GoldenConf" title="Plutarch.Test.Golden">GoldenConf</a></code> is used in all
<code>pgoldenSpec'</code> calls. This function will go away after
https:/<em>github.com</em>Plutonomicon<em>plutarch</em>issues/458</p></div></div><div class="top"><p class="src"><a id="v:hspecAndReturnForest" class="def">hspecAndReturnForest</a> :: Spec -&gt; <a href="../../ghc-9.6.4/html/libraries/base-4.18.2.0/System-IO.html#t:IO" title="System.IO">IO</a> [SpecTree ()] <a href="src/Plutarch.Test.Run.html#hspecAndReturnForest" class="link">Source</a> <a href="#v:hspecAndReturnForest" class="selflink">#</a></p><div class="doc"><p>Like <code>hspec</code>,  but returns the test forest after running the tests.</p><p>Based on <a href="https://github.com/hspec/hspec/issues/649#issuecomment-1092423220">https://github.com/hspec/hspec/issues/649#issuecomment-1092423220</a></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>